"use strict";(self.webpackChunkbruel_portfolio=self.webpackChunkbruel_portfolio||[]).push([[179],{2011:(yt,Me,L)=>{L.d(Me,{Dh:()=>Te,GT:()=>we,cc:()=>Ue,on:()=>Oe,pX:()=>se,xv:()=>De});var d=L(4650),B=L(9260);yt=L.hmd(yt);const O=["ngOnDestroy"],se=(ie,he,it,_t={})=>new Proxy(ie,{get:(be,de)=>it.runOutsideAngular(()=>{var ge;if(ie[de])return!(null===(ge=_t?.spy)||void 0===ge)&&ge.get&&_t.spy.get(de,ie[de]),ie[de];if(O.indexOf(de)>-1)return()=>{};const Be=he.toPromise().then(He=>{const X=He&&He[de];return"function"==typeof X?X.bind(He):X&&X.then?X.then(qe=>it.run(()=>qe)):it.run(()=>X)});return new Proxy(()=>{},{get:(He,X)=>Be[X],apply:(He,X,qe)=>Be.then(bt=>{var rt;const $t=bt&&bt(...qe);return!(null===(rt=_t?.spy)||void 0===rt)&&rt.apply&&_t.spy.apply(de,qe,$t),$t})})})}),we=(ie,he)=>{he.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(_t=>{Object.defineProperty(ie.prototype,_t,Object.getOwnPropertyDescriptor(it.prototype||it,_t))})})};class ye{constructor(he){return he}}const Te=new d.OlP("angularfire2.app.options"),De=new d.OlP("angularfire2.app.name");function Oe(ie,he,it){const be="object"==typeof it&&it||{};be.name=be.name||"string"==typeof it&&it||"[DEFAULT]";const ge=B.Z.apps.filter(Be=>Be&&Be.name===be.name)[0]||he.runOutsideAngular(()=>B.Z.initializeApp(ie,be));try{JSON.stringify(ie)!==JSON.stringify(ge.options)&&H("error",`${ge.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(ge)}const H=(ie,...he)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ie](...he)};function Ue(ie,he,it,_t,be){const[,de,ge]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===ie)||[];if(de)return function Ne(ie,he){try{return ie.toString()===he.toString()}catch{return ie===he}}(be,ge)||(Qe("error",`${he} was already initialized on the ${it} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:be,was:ge})),de;{const Be=_t();return globalThis.\u0275AngularfireInstanceCache.push([ie,Be,be]),Be}}const Ee=!!yt.hot,Qe=(ie,...he)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ie](...he)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1389:(yt,Me,L)=>{L.d(Me,{$:()=>ho,A:()=>$,D:()=>Ne,I:()=>Fn,J:()=>fs,L:()=>Ji,N:()=>jr,P:()=>zE,Q:()=>oy,R:()=>wi,U:()=>Ha,V:()=>ti,W:()=>OE,X:()=>fl,Y:()=>od,Z:()=>Wo,_:()=>Rt,a:()=>zs,a0:()=>dd,a1:()=>Hf,a2:()=>qn,a3:()=>uy,a4:()=>LE,a5:()=>fd,a6:()=>vl,a7:()=>ly,a8:()=>cy,a9:()=>dy,aA:()=>X,aB:()=>Jf,aC:()=>Xn,aD:()=>Xr,aE:()=>Fl,aF:()=>Ld,aG:()=>Vy,aH:()=>En,aL:()=>eu,aO:()=>Xi,aa:()=>zf,ab:()=>za,ac:()=>hy,ad:()=>fy,ae:()=>py,af:()=>El,ai:()=>js,aj:()=>bl,ak:()=>vd,an:()=>ay,ao:()=>Ed,aq:()=>wy,ar:()=>Dl,as:()=>bt,at:()=>ce,au:()=>ue,av:()=>be,aw:()=>Bl,ax:()=>Xf,ay:()=>We,az:()=>de,b:()=>Dy,c:()=>oa,d:()=>Yf,e:()=>Vn,f:()=>Uy,g:()=>jy,h:()=>ua,i:()=>BE,j:()=>Qf,k:()=>ip,l:()=>GE,m:()=>Qy,p:()=>De,r:()=>Py,s:()=>ky,u:()=>Nd});var d=L(5861),B=L(2090),O=L(6881),se=L(655),we=L(1877),ye=L(4859);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ee=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new we.Yd("@firebase/auth");function _t(w,...p){he.logLevel<=we.in.ERROR&&he.error(`Auth (${O.SDK_VERSION}): ${w}`,...p)}function be(w,...p){throw He(w,...p)}function de(w,...p){return He(w,...p)}function ge(w,p,y){const E=Object.assign(Object.assign({},Ee()),{[p]:y});return new B.LL("auth","Firebase",E).create(p,{appName:w.name})}function Be(w,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&be(w,"argument-error"),ge(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(w,...p){if("string"!=typeof w){const y=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Qe.create(w,...p)}function X(w,p,...y){if(!w)throw He(p,...y)}function qe(w){const p="INTERNAL ASSERTION FAILED: "+w;throw _t(p),new Error(p)}function bt(w,p){w||qe(p)}function rt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function $t(){return"http:"===st()||"https:"===st()}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class pe{constructor(p,y){this.shortDelay=p,this.longDelay=y,bt(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(w,p){bt(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class Re{static initialize(p,y,E){this.fetchImpl=p,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new pe(3e4,6e4);function ht(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function St(w,p,y,E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(w,p,y,E,S={}){return zt(w,S,(0,d.Z)(function*(){let M={},z={};E&&("GET"===p?z=E:M={body:JSON.stringify(E)});const ne=(0,B.xO)(Object.assign({key:w.config.apiKey},z)).slice(1),Pe=yield w._getAdditionalHeaders();return Pe["Content-Type"]="application/json",w.languageCode&&(Pe["X-Firebase-Locale"]=w.languageCode),Re.fetch()(Pn(w,w.config.apiHost,y,ne),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function zt(w,p,y){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(w,p,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},fe),p);try{const S=new Lr(w),M=yield Promise.race([y(),S.promise]);S.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw Qn(w,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const ne=M.ok?z.errorMessage:z.error.message,[Pe,Ge]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Qn(w,"credential-already-in-use",z);if("EMAIL_EXISTS"===Pe)throw Qn(w,"email-already-in-use",z);if("USER_DISABLED"===Pe)throw Qn(w,"user-disabled",z);const at=E[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw ge(w,at,Ge);be(w,at)}}catch(S){if(S instanceof B.ZR)throw S;be(w,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function kt(w,p,y,E){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(w,p,y,E,S={}){const M=yield St(w,p,y,E,S);return"mfaPendingCredential"in M&&be(w,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Pn(w,p,y,E){const S=`${p}${y}?${E}`;return w.config.emulator?Ce(w.config,S):`${w.config.apiScheme}://${S}`}class Lr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(de(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(w,p,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const S=de(w,p,E);return S.customData._tokenResponse=y,S}function Ur(){return(Ur=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ri(w,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zo(w,p){return et.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ni(){return(Ni=(0,d.Z)(function*(w,p=!1){const y=(0,B.m9)(w),E=yield y.getIdToken(p),S=_n(E);X(S&&S.exp&&S.auth_time&&S.iat,y.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,z=M?.sign_in_provider;return{claims:S,token:E,authTime:_r(pi(S.auth_time)),issuedAtTime:_r(pi(S.iat)),expirationTime:_r(pi(S.exp)),signInProvider:z||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function pi(w){return 1e3*Number(w)}function _n(w){const[p,y,E]=w.split(".");if(void 0===p||void 0===y||void 0===E)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(y);return S?JSON.parse(S):(_t("Failed to decode base64 JWT payload"),null)}catch(S){return _t("Caught error parsing JWT payload as JSON",S?.toString()),null}}function qt(w,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(w,p,y=!1){if(y)return p;try{return yield p}catch(E){throw E instanceof B.ZR&&gt(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function gt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Wt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield y.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&p.schedule(!0))}p.schedule()})()}}class Br{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(w){var p;const y=w.auth,E=yield w.getIdToken(),S=yield qt(w,zo(y,{idToken:E}));X(S?.users.length,y,"internal-error");const M=S.users[0];w._notifyReloadListener(M);const z=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?Yi(M.providerUserInfo):[],ne=Vt(w.providerData,z),at=!!w.isAnonymous&&!(w.email&&M.passwordHash||ne?.length),Ht={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ne,metadata:new Br(M.createdAt,M.lastLoginAt),isAnonymous:at};Object.assign(w,Ht)})).apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(w){const p=(0,B.m9)(w);yield cr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Vt(w,p){return[...w.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}function Yi(w){return w.map(p=>{var{providerId:y}=p,E=(0,se._T)(p,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function vr(){return(vr=(0,d.Z)(function*(w,p){const y=yield zt(w,{},(0,d.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:M}=w.config,z=Pn(w,S,"/v1/token",`key=${M}`),ne=yield w._getAdditionalHeaders();return ne["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(z,{method:"POST",headers:ne,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(typeof p.idToken<"u","internal-error"),X(typeof p.refreshToken<"u","internal-error");const y="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function gn(w){const p=_n(w);return X(p,"internal-error"),X(typeof p.exp<"u","internal-error"),X(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var E=this;return(0,d.Z)(function*(){return X(!E.accessToken||E.refreshToken,p,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var E=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:z}=yield function Yt(w,p){return vr.apply(this,arguments)}(p,y);E.updateTokensAndExpiration(S,M,Number(z))})()}updateTokensAndExpiration(p,y,E){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,y){const{refreshToken:E,accessToken:S,expirationTime:M}=y,z=new fn;return E&&(X("string"==typeof E,"internal-error",{appName:p}),z.refreshToken=E),S&&(X("string"==typeof S,"internal-error",{appName:p}),z.accessToken=S),M&&(X("number"==typeof M,"internal-error",{appName:p}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new fn,this.toJSON())}_performRefresh(){return qe("not implemented")}}function Jn(w,p){X("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Tn{constructor(p){var{uid:y,auth:E,stsTokenManager:S}=p,M=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Br(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,d.Z)(function*(){const E=yield qt(y,y.stsTokenManager.getToken(y.auth,p));return X(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(p){return function Dn(w){return Ni.apply(this,arguments)}(this,p)}reload(){return function At(w){return On.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const y=new Tn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var E=this;return(0,d.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),y&&(yield cr(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const y=yield p.getIdToken();return yield qt(p,function Vr(w,p){return Ur.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var E,S,M,z,ne,Pe,Ge,at;const Ht=null!==(E=y.displayName)&&void 0!==E?E:void 0,Hr=null!==(S=y.email)&&void 0!==S?S:void 0,Gr=null!==(M=y.phoneNumber)&&void 0!==M?M:void 0,Co=null!==(z=y.photoURL)&&void 0!==z?z:void 0,fa=null!==(ne=y.tenantId)&&void 0!==ne?ne:void 0,Do=null!==(Pe=y._redirectEventId)&&void 0!==Pe?Pe:void 0,Gl=null!==(Ge=y.createdAt)&&void 0!==Ge?Ge:void 0,ap=null!==(at=y.lastLoginAt)&&void 0!==at?at:void 0,{uid:Zd,emailVerified:Kd,isAnonymous:Yd,providerData:Li,stsTokenManager:Qd}=y;X(Zd&&Qd,p,"internal-error");const vu=fn.fromJSON(this.name,Qd);X("string"==typeof Zd,p,"internal-error"),Jn(Ht,p.name),Jn(Hr,p.name),X("boolean"==typeof Kd,p,"internal-error"),X("boolean"==typeof Yd,p,"internal-error"),Jn(Gr,p.name),Jn(Co,p.name),Jn(fa,p.name),Jn(Do,p.name),Jn(Gl,p.name),Jn(ap,p.name);const wu=new Tn({uid:Zd,auth:p,email:Hr,emailVerified:Kd,displayName:Ht,isAnonymous:Yd,photoURL:Co,phoneNumber:Gr,tenantId:fa,stsTokenManager:vu,createdAt:Gl,lastLoginAt:ap});return Li&&Array.isArray(Li)&&(wu.providerData=Li.map(Jd=>Object.assign({},Jd))),Do&&(wu._redirectEventId=Do),wu}static _fromIdTokenResponse(p,y,E=!1){return(0,d.Z)(function*(){const S=new fn;S.updateFromServerResponse(y);const M=new Tn({uid:y.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield cr(M),M})()}}const gi=new Map;function Xn(w){bt(w instanceof Function,"Expected a class definition");let p=gi.get(w);return p?(bt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,gi.set(w,p),p)}const jr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(y,E){var S=this;return(0,d.Z)(function*(){S.storage[y]=E})()}_get(y){var E=this;return(0,d.Z)(function*(){const S=E.storage[y];return void 0===S?null:S})()}_remove(y){var E=this;return(0,d.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function Xr(w,p,y){return`firebase:${w}:${p}:${y}`}class U{constructor(p,y,E){this.persistence=p,this.auth=y,this.userKey=E;const{config:S,name:M}=this.auth;this.fullUserKey=Xr(this.userKey,S.apiKey,M),this.fullPersistenceKey=Xr("persistence",S.apiKey,M),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?Tn._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,d.Z)(function*(){if(y.persistence===p)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,E="authUser"){return(0,d.Z)(function*(){if(!y.length)return new U(Xn(jr),p,E);const S=(yield Promise.all(y.map(function(){var Ge=(0,d.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let M=S[0]||Xn(jr);const z=Xr(E,p.config.apiKey,p.name);let ne=null;for(const Ge of y)try{const at=yield Ge._get(z);if(at){const Ht=Tn._fromJSON(p,at);Ge!==M&&(ne=Ht),M=Ge;break}}catch{}const Pe=S.filter(Ge=>Ge._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],ne&&(yield M._set(z,ne.toJSON())),yield Promise.all(y.map(function(){var Ge=(0,d.Z)(function*(at){if(at!==M)try{yield at._remove(z)}catch{}});return function(at){return Ge.apply(this,arguments)}}())),new U(M,p,E)):new U(M,p,E)})()}}function V(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(N(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(je(p))return"Blackberry";if(ot(p))return"Webos";if(R(p))return"Safari";if((p.includes("chrome/")||x(p))&&!p.includes("edge/"))return"Chrome";if(ue(p))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function N(w=(0,B.z$)()){return/firefox\//i.test(w)}function R(w=(0,B.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function x(w=(0,B.z$)()){return/crios\//i.test(w)}function q(w=(0,B.z$)()){return/iemobile/i.test(w)}function ue(w=(0,B.z$)()){return/android/i.test(w)}function je(w=(0,B.z$)()){return/blackberry/i.test(w)}function ot(w=(0,B.z$)()){return/webos/i.test(w)}function ce(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function We(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Tt(w=(0,B.z$)()){return ce(w)||ue(w)||ot(w)||je(w)||/windows phone/i.test(w)||q(w)}function ei(w,p=[]){let y;switch(w){case"Browser":y=V((0,B.z$)());break;case"Worker":y=`${V((0,B.z$)())}-${w}`;break;default:y=w}const E=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${O.SDK_VERSION}/${E}`}function Y(){return(Y=(0,d.Z)(function*(w){return(yield St(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Se(w,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(w,p){return St(w,"GET","/v2/recaptchaConfig",ht(w,p))})).apply(this,arguments)}function wt(w){return void 0!==w&&void 0!==w.getResponse}function Nt(w){return void 0!==w&&void 0!==w.enterprise}class rn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Bt(w){return new Promise((p,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=p,E.onerror=S=>{const M=de("internal-error");M.customData=S,y(M)},E.type="text/javascript",E.charset="UTF-8",function wn(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(E)})}function Cr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Kc{constructor(p){this.type="recaptcha-enterprise",this.auth=En(p)}verify(p="verify",y=!1){var E=this;return(0,d.Z)(function*(){function M(){return M=(0,d.Z)(function*(ne){if(!y){if(null==ne.tenantId&&null!=ne._agentRecaptchaConfig)return ne._agentRecaptchaConfig.siteKey;if(null!=ne.tenantId&&void 0!==ne._tenantRecaptchaConfigs[ne.tenantId])return ne._tenantRecaptchaConfigs[ne.tenantId].siteKey}return new Promise(function(){var Pe=(0,d.Z)(function*(Ge,at){Se(ne,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ht=>{if(void 0!==Ht.recaptchaKey){const Hr=new rn(Ht);return null==ne.tenantId?ne._agentRecaptchaConfig=Hr:ne._tenantRecaptchaConfigs[ne.tenantId]=Hr,Ge(Hr.siteKey)}at(new Error("recaptcha Enterprise site key undefined"))}).catch(Ht=>{at(Ht)})});return function(Ge,at){return Pe.apply(this,arguments)}}())}),M.apply(this,arguments)}function z(ne,Pe,Ge){const at=window.grecaptcha;Nt(at)?at.enterprise.ready(()=>{at.enterprise.execute(ne,{action:p}).then(Ht=>{Pe(Ht)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Ge(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ne,Pe)=>{(function S(ne){return M.apply(this,arguments)})(E.auth).then(Ge=>{if(!y&&Nt(window.grecaptcha))z(Ge,ne,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Bt("https://www.google.com/recaptcha/enterprise.js?render="+Ge).then(()=>{z(Ge,ne,Pe)}).catch(at=>{Pe(at)})}}).catch(Ge=>{Pe(Ge)})})})()}}function Qt(w,p,y){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,d.Z)(function*(w,p,y,E=!1){const S=new Kc(w);let M;try{M=yield S.verify(y)}catch{M=yield S.verify(y,!0)}const z=Object.assign({},p);return Object.assign(z,E?{captchaResp:M}:{captchaResponse:M}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class Df{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const E=M=>new Promise((z,ne)=>{try{z(p(M))}catch(Pe){ne(Pe)}});E.onAbort=y,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,d.Z)(function*(){if(y.auth.currentUser===p)return;const E=[];try{for(const S of y.queue)yield S(p),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const M of E)try{M()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class La{constructor(p,y,E,S){this.app=p,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hs(this),this.idTokenSubscription=new hs(this),this.beforeStateQueue=new Df(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,y){var E=this;return y&&(this._popupRedirectResolver=Xn(y)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,M;if(!E._deleted&&(E.persistenceManager=yield U.create(E,p),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(M=E.currentUser)||void 0===M?void 0:M.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,d.Z)(function*(){var E;const S=yield y.assertedPersistence.getCurrentUser();let M=S,z=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ne=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Pe=M?._redirectEventId,Ge=yield y.tryRedirectSignIn(p);(!ne||ne===Pe)&&Ge?.user&&(M=Ge.user,z=!0)}if(!M)return y.directlySetCurrentUser(null);if(!M._redirectEventId){if(z)try{yield y.beforeStateQueue.runMiddleware(M)}catch(ne){M=S,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ne))}return M?y.reloadAndSetCurrentUserOrClear(M):y.directlySetCurrentUser(null)}return X(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===M._redirectEventId?y.directlySetCurrentUser(M):y.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var y=this;return(0,d.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,d.Z)(function*(){try{yield cr(p)}catch(E){if("auth/network-request-failed"!==E?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,d.Z)(function*(){const E=p?(0,B.m9)(p):null;return E&&X(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(p,y=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return p&&X(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,d.Z)(function*(){yield y.assertedPersistence.setPersistence(Xn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const y=yield Se(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new rn(y);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Kc(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,y,E){return this.registerStateListener(this.authStateSubscription,p,y,E)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,E){return this.registerStateListener(this.idTokenSubscription,p,y,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var E=this;return(0,d.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(y);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,d.Z)(function*(){if(!y.redirectPersistenceManager){const E=p&&Xn(p)||y._popupRedirectResolver;X(E,y,"argument-error"),y.redirectPersistenceManager=yield U.create(y,[Xn(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,d.Z)(function*(){var E,S;return y._isInitialized&&(yield y.queue((0,d.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===p?y._currentUser:(null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,d.Z)(function*(){if(p===y.currentUser)return y.queue((0,d.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,E,S){if(this._deleted)return()=>{};const M="function"==typeof y?y:y.next.bind(y),z=this._isInitialized?Promise.resolve():this._initializationPromise;return X(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof y?p.addObserver(y,E,S):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,d.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var y;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();S&&(E["X-Firebase-Client"]=S);const M=yield p._getAppCheckToken();return M&&(E["X-Firebase-AppCheck"]=M),E})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var y;const E=yield null===(y=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return E?.error&&function it(w,...p){he.logLevel<=we.in.WARN&&he.warn(`Auth (${O.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function En(w){return(0,B.m9)(w)}class hs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(y=>this.observer=y)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fn(w,p,y){const E=En(w);X(E._canInitEmulator,E,"emulator-config-failed"),X(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!y?.disableWarnings,M=Tf(p),{host:z,port:ne}=function Dr(w){const p=Tf(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const M=S[1];return{host:M,port:$r(E.substr(M.length+1))}}{const[M,z]=E.split(":");return{host:M,port:$r(z)}}}(p);E.config.emulator={url:`${M}//${z}${null===ne?"":`:${ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:ne,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ua(){function w(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Tf(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function $r(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class fs{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return qe("not implemented")}_getIdTokenResponse(p){return qe("not implemented")}_linkToIdToken(p,y){return qe("not implemented")}_getReauthenticationResolver(p){return qe("not implemented")}}function Ba(w,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:resetPassword",ht(w,p))})).apply(this,arguments)}function Qc(w,p){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ny(w,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:update",ht(w,p))})).apply(this,arguments)}function ry(w,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithPassword",ht(w,p))})).apply(this,arguments)}function Xc(w,p){return Af.apply(this,arguments)}function Af(){return(Af=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:sendOobCode",ht(w,p))})).apply(this,arguments)}function NE(w,p){return xf.apply(this,arguments)}function xf(){return(xf=(0,d.Z)(function*(w,p){return Xc(w,p)})).apply(this,arguments)}function Mf(w,p){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,d.Z)(function*(w,p){return Xc(w,p)})).apply(this,arguments)}function Nf(w,p){return kf.apply(this,arguments)}function kf(){return(kf=(0,d.Z)(function*(w,p){return Xc(w,p)})).apply(this,arguments)}function kE(w,p){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,d.Z)(function*(w,p){return Xc(w,p)})).apply(this,arguments)}function Of(){return(Of=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,p))})).apply(this,arguments)}function ja(){return(ja=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,p))})).apply(this,arguments)}class cl extends fs{constructor(p,y,E,S=null){super("password",E),this._email=p,this._password=y,this._tenantId=S}static _fromEmailAndPassword(p,y){return new cl(p,y,"password")}static _fromEmailAndCode(p,y,E=null){return new cl(p,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,d.Z)(function*(){var E;switch(y.signInMethod){case"password":const S={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const M=yield Qt(p,S,"signInWithPassword");return ry(p,M)}return ry(p,S).catch(function(){var M=(0,d.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ne=yield Qt(p,S,"signInWithPassword");return ry(p,ne)}return Promise.reject(z)});return function(z){return M.apply(this,arguments)}}());case"emailLink":return function iy(w,p){return Of.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:be(p,"internal-error")}})()}_linkToIdToken(p,y){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Qc(p,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ff(w,p){return ja.apply(this,arguments)}(p,{idToken:y,email:E._email,oobCode:E._password});default:be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ls(w,p){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithIdp",ht(w,p))})).apply(this,arguments)}class Ji extends fs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new Ji(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):be("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=y,M=(0,se._T)(y,["providerId","signInMethod"]);if(!E||!S)return null;const z=new Ji(E,S);return z.idToken=M.idToken||void 0,z.accessToken=M.accessToken||void 0,z.secret=M.secret,z.nonce=M.nonce,z.pendingToken=M.pendingToken||null,z}_getIdTokenResponse(p){return Ls(p,this.buildRequest())}_linkToIdToken(p,y){const E=this.buildRequest();return E.idToken=y,Ls(p,E)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,Ls(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,B.xO)(y)}return p}}function ed(w,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:sendVerificationCode",ht(w,p))})).apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,p))})).apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(w,p){const y=yield kt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,p));if(y.temporaryProof)throw Qn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const sy={USER_NOT_FOUND:"user-not-found"};function rd(){return(rd=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),sy)})).apply(this,arguments)}class er extends fs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,y){return new er({verificationId:p,verificationCode:y})}static _fromTokenResponse(p,y){return new er({phoneNumber:p,temporaryProof:y})}_getIdTokenResponse(p){return function td(w,p){return $a.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,y){return function Vf(w,p){return nd.apply(this,arguments)}(p,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function hl(w,p){return rd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:y,verificationId:E,verificationCode:S}=this.params;return p&&y?{temporaryProof:p,phoneNumber:y}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:M}=p;return E||y||S||M?new er({verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:M}):null}}class Us{constructor(p){var y,E,S,M,z,ne;const Pe=(0,B.zd)((0,B.pd)(p)),Ge=null!==(y=Pe.apiKey)&&void 0!==y?y:null,at=null!==(E=Pe.oobCode)&&void 0!==E?E:null,Ht=function id(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);X(Ge&&at&&Ht,"argument-error"),this.apiKey=Ge,this.operation=Ht,this.code=at,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Pe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ne=Pe.tenantId)&&void 0!==ne?ne:null}static parseLink(p){const y=function PE(w){const p=(0,B.zd)((0,B.pd)(w)).link,y=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||y||p||w}(p);try{return new Us(y)}catch{return null}}}let oy=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return cl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const S=Us.parseLink(E);return X(S,"argument-error"),cl._fromEmailAndCode(y,S.code,S.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class dn{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qo extends dn{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class fl extends qo{static credentialFromJSON(p){const y="string"==typeof p?JSON.parse(p):p;return X("providerId"in y&&"signInMethod"in y,"argument-error"),Ji._fromParams(y)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return fl.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return fl.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:M,nonce:z,providerId:ne}=p;if(!E&&!S&&!y&&!M||!ne)return null;try{return new fl(ne)._credential({idToken:y,accessToken:E,nonce:z,pendingToken:M})}catch{return null}}}let Ha=(()=>{class w extends qo{constructor(){super("facebook.com")}static credential(y){return Ji._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),ti=(()=>{class w extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ji._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:S}=y;if(!E&&!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),OE=(()=>{class w extends qo{constructor(){super("github.com")}static credential(y){return Ji._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Xi extends fs{constructor(p,y){super(p,p),this.pendingToken=y}_getIdTokenResponse(p){return Ls(p,this.buildRequest())}_linkToIdToken(p,y){const E=this.buildRequest();return E.idToken=y,Ls(p,E)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,Ls(p,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:M}=y;return E&&S&&M&&E===S?new Xi(E,M):null}static _create(p,y){return new Xi(p,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class od extends dn{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return od.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return od.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const y=Xi.fromJSON(p);return X(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:y,providerId:E}=p;if(!y||!E)return null;try{return Xi._create(E,y)}catch{return null}}}let Wo=(()=>{class w extends qo{constructor(){super("twitter.com")}static credential(y,E){return Ji._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=y;if(!E||!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ad(w,p){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signUp",ht(w,p))})).apply(this,arguments)}class ni{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,E,S=!1){return(0,d.Z)(function*(){const M=yield Tn._fromIdTokenResponse(p,E,S),z=pl(E);return new ni({user:M,providerId:z,_tokenResponse:E,operationType:y})})()}static _forOperation(p,y,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=pl(E);return new ni({user:p,providerId:S,_tokenResponse:E,operationType:y})})()}}function pl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Rt(w){return ud.apply(this,arguments)}function ud(){return(ud=(0,d.Z)(function*(w){var p;const y=En(w);if(yield y._initializationPromise,null!==(p=y.currentUser)&&void 0!==p&&p.isAnonymous)return new ni({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield ad(y,{returnSecureToken:!0}),S=yield ni._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class Uf extends B.ZR{constructor(p,y,E,S){var M;super(y.code,y.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,y,E,S){return new Uf(p,y,E,S)}}function Bf(w,p,y,E){return("reauthenticate"===p?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Uf._fromErrorAndOperation(w,M,p,E):M})}function jf(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function ay(w,p){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(w,p){const y=(0,B.m9)(w);yield me(!0,y,p);const{providerUserInfo:E}=yield Ri(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[p]}),S=jf(E||[]);return y.providerData=y.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function ld(w,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,d.Z)(function*(w,p,y=!1){const E=yield qt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),y);return ni._forOperation(w,"link",E)})).apply(this,arguments)}function me(w,p,y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(w,p,y){yield cr(p);const S=!1===w?"provider-already-linked":"no-such-provider";X(jf(p.providerData).has(y)===w,p.auth,S)})).apply(this,arguments)}function $f(w,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(w,p,y=!1){const{auth:E}=w,S="reauthenticate";try{const M=yield qt(w,Bf(E,S,p,w),y);X(M.idToken,E,"internal-error");const z=_n(M.idToken);X(z,E,"internal-error");const{sub:ne}=z;return X(w.uid===ne,E,"user-mismatch"),ni._forOperation(w,S,M)}catch(M){throw"auth/user-not-found"===M?.code&&be(E,"user-mismatch"),M}})).apply(this,arguments)}function zn(w,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(w,p,y=!1){const E="signIn",S=yield Bf(w,E,p),M=yield ni._fromIdTokenResponse(w,E,S);return y||(yield w._updateCurrentUser(M.user)),M})).apply(this,arguments)}function ho(w,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(w,p){return zn(En(w),p)})).apply(this,arguments)}function dd(w,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(w,p){const y=(0,B.m9)(w);return yield me(!1,y,p.providerId),ld(y,p)})).apply(this,arguments)}function Hf(w,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,d.Z)(function*(w,p){return $f((0,B.m9)(w),p)})).apply(this,arguments)}function FE(w,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(w,p){return kt(w,"POST","/v1/accounts:signInWithCustomToken",ht(w,p))})).apply(this,arguments)}function qn(w,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(w,p){const y=En(w),E=yield FE(y,{token:p,returnSecureToken:!0}),S=yield ni._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class fo{constructor(p,y){this.factorId=p,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(p,y){return"phoneInfo"in y?po._fromServerResponse(p,y):"totpInfo"in y?ts._fromServerResponse(p,y):be(p,"internal-error")}}class po extends fo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,y){return new po(y)}}class ts extends fo{constructor(p){super("totp",p)}static _fromServerResponse(p,y){return new ts(y)}}function Ga(w,p,y){var E;X((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),X(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=y.url,p.dynamicLinkDomain=y.dynamicLinkDomain,p.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(X(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=y.iOS.bundleId),y.android&&(X(y.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=y.android.installApp,p.androidMinimumVersionCode=y.android.minimumVersion,p.androidPackageName=y.android.packageName)}function uy(w,p,y){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,d.Z)(function*(w,p,y){var E;const S=En(w),M={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const z=yield Qt(S,M,"getOobCode",!0);y&&Ga(S,z,y),yield Mf(S,z)}else y&&Ga(S,M,y),yield Mf(S,M).catch(function(){var z=(0,d.Z)(function*(ne){if("auth/missing-recaptcha-token"!==ne.code)return Promise.reject(ne);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield Qt(S,M,"getOobCode",!0);y&&Ga(S,Pe,y),yield Mf(S,Pe)}});return function(ne){return z.apply(this,arguments)}}())}),Gf.apply(this,arguments)}function LE(w,p,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(w,p,y){yield Ba((0,B.m9)(w),{oobCode:p,newPassword:y})})).apply(this,arguments)}function fd(w,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,d.Z)(function*(w,p){yield ny((0,B.m9)(w),{oobCode:p})})).apply(this,arguments)}function vl(w,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(w,p){const y=(0,B.m9)(w),E=yield Ba(y,{oobCode:p}),S=E.requestType;switch(X(S,y,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(E.mfaInfo,y,"internal-error");default:X(E.email,y,"internal-error")}let M=null;return E.mfaInfo&&(M=fo._fromServerResponse(En(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function ly(w,p){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(w,p){const{data:y}=yield vl((0,B.m9)(w),p);return y.email})).apply(this,arguments)}function cy(w,p,y){return md.apply(this,arguments)}function md(){return md=(0,d.Z)(function*(w,p,y){var E;const S=En(w),M={returnSecureToken:!0,email:p,password:y,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Ge=yield Qt(S,M,"signUpPassword");z=ad(S,Ge)}else z=ad(S,M).catch(function(){var Ge=(0,d.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ht=yield Qt(S,M,"signUpPassword");return ad(S,Ht)}return Promise.reject(at)});return function(at){return Ge.apply(this,arguments)}}());const ne=yield z.catch(Ge=>Promise.reject(Ge)),Pe=yield ni._fromIdTokenResponse(S,"signIn",ne);return yield S._updateCurrentUser(Pe.user),Pe}),md.apply(this,arguments)}function dy(w,p,y){return ho((0,B.m9)(w),oy.credential(p,y))}function zf(w,p,y){return go.apply(this,arguments)}function go(){return go=(0,d.Z)(function*(w,p,y){var E;const S=En(w),M={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(ne,Pe){X(Pe.handleCodeInApp,S,"argument-error"),Pe&&Ga(S,ne,Pe)}if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ne=yield Qt(S,M,"getOobCode",!0);z(ne,y),yield Nf(S,ne)}else z(M,y),yield Nf(S,M).catch(function(){var ne=(0,d.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ge=yield Qt(S,M,"getOobCode",!0);z(Ge,y),yield Nf(S,Ge)}});return function(Pe){return ne.apply(this,arguments)}}())}),go.apply(this,arguments)}function za(w,p){return"EMAIL_SIGNIN"===Us.parseLink(p)?.operation}function hy(w,p,y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w),S=oy.credentialWithLink(p,y||rt());return X(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ho(E,S)})).apply(this,arguments)}function Bs(w,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:createAuthUri",ht(w,p))})).apply(this,arguments)}function fy(w,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(w,p){const E={identifier:p,continueUri:$t()?rt():"http://localhost"},{signinMethods:S}=yield Bs((0,B.m9)(w),E);return S||[]})).apply(this,arguments)}function py(w,p){return _d.apply(this,arguments)}function _d(){return(_d=(0,d.Z)(function*(w,p){const y=(0,B.m9)(w),S={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&Ga(y.auth,S,p);const{email:M}=yield NE(y.auth,S);M!==w.email&&(yield w.reload())})).apply(this,arguments)}function El(w,p,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};y&&Ga(E.auth,M,y);const{email:z}=yield kE(E.auth,M);z!==w.email&&(yield w.reload())})).apply(this,arguments)}function qa(w,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(w,p){return St(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function js(w,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(w,{displayName:p,photoURL:y}){if(void 0===p&&void 0===y)return;const E=(0,B.m9)(w),M={idToken:yield E.getIdToken(),displayName:p,photoUrl:y,returnSecureToken:!0},z=yield qt(E,qa(E.auth,M));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const ne=E.providerData.find(({providerId:Pe})=>"password"===Pe);ne&&(ne.displayName=E.displayName,ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function bl(w,p){return ns((0,B.m9)(w),p,null)}function vd(w,p){return ns((0,B.m9)(w),null,p)}function ns(w,p,y){return $s.apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(w,p,y){const{auth:E}=w,M={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(M.email=p),y&&(M.password=y);const z=yield qt(w,Qc(E,M));yield w._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Qo{constructor(p,y,E={}){this.isNewUser=p,this.providerId=y,this.profile=E}}class Jo extends Qo{constructor(p,y,E,S){super(p,y,E),this.username=S}}class wd extends Qo{constructor(p,y){super(p,"facebook.com",y)}}class Il extends Jo{constructor(p,y){super(p,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class qf extends Qo{constructor(p,y){super(p,"google.com",y)}}class RS extends Jo{constructor(p,y,E){super(p,"twitter.com",y,E)}}function Ed(w){const{user:p,_tokenResponse:y}=w;return p.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function gy(w){var p,y;if(!w)return null;const{providerId:E}=w,S=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},M=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const z=null===(y=null===(p=_n(w.idToken))||void 0===p?void 0:p.firebase)||void 0===y?void 0:y.sign_in_provider;if(z)return new Qo(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new wd(M,S);case"github.com":return new Il(M,S);case"google.com":return new qf(M,S);case"twitter.com":return new RS(M,S,w.screenName||null);case"custom":case"anonymous":return new Qo(M,null);default:return new Qo(M,E,S)}}(y)}class rs{constructor(p,y,E){this.type=p,this.credential=y,this.auth=E}static _fromIdtoken(p,y){return new rs("enroll",p,y)}static _fromMfaPendingCredential(p){return new rs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var y,E;if(p?.multiFactorSession){if(null!==(y=p.multiFactorSession)&&void 0!==y&&y.pendingCredential)return rs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return rs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Cl{constructor(p,y,E){this.session=p,this.hints=y,this.signInResolver=E}static _fromError(p,y){const E=En(p),S=y.customData._serverResponse,M=(S.mfaInfo||[]).map(ne=>fo._fromServerResponse(E,ne));X(S.mfaPendingCredential,E,"internal-error");const z=rs._fromMfaPendingCredential(S.mfaPendingCredential);return new Cl(z,M,function(){var ne=(0,d.Z)(function*(Pe){const Ge=yield Pe._process(E,z);delete S.mfaInfo,delete S.mfaPendingCredential;const at=Object.assign(Object.assign({},S),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(y.operationType){case"signIn":const Ht=yield ni._fromIdTokenResponse(E,y.operationType,at);return yield E._updateCurrentUser(Ht.user),Ht;case"reauthenticate":return X(y.user,E,"internal-error"),ni._forOperation(y.user,y.operationType,at);default:be(E,"internal-error")}});return function(Pe){return ne.apply(this,arguments)}}())}resolveSignIn(p){var y=this;return(0,d.Z)(function*(){return y.signInResolver(p)})()}}function wy(w,p){var y;const E=(0,B.m9)(w),S=p;return X(p.customData.operationType,E,"argument-error"),X(null===(y=S.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Cl._fromError(E,S)}function Ey(w,p){return St(w,"POST","/v2/accounts/mfaEnrollment:start",ht(w,p))}class Xa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>fo._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Xa(p)}getSession(){var p=this;return(0,d.Z)(function*(){return rs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,y){var E=this;return(0,d.Z)(function*(){const S=p,M=yield E.getSession(),z=yield qt(E.user,S._process(E.user.auth,M,y));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(p){var y=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield y.user.getIdToken();try{const M=yield qt(y.user,function Ja(w,p){return St(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(w,p))}(y.user.auth,{idToken:S,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:z})=>z!==E),yield y.user._updateTokensIfNecessary(M),yield y.user.reload()}catch(M){throw M}})()}}const Xo=new WeakMap;function Dl(w){const p=(0,B.m9)(w);return Xo.has(p)||Xo.set(p,Xa._fromUser(p)),Xo.get(p)}const Gs="__sak";class Id{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dy=(()=>{class w extends Id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cd(){const w=(0,B.z$)();return R(w)||ce(w)}()&&function Xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),M=this.localCache[E];S!==M&&y(E,M,S)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((ne,Pe,Ge)=>{this.notifyListeners(ne,Ge)});const S=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(S);if(y.newValue!==ne)null!==y.newValue?this.storage.setItem(S,y.newValue):this.storage.removeItem(S);else if(this.localCache[S]===y.newValue&&!E)return}const M=()=>{const ne=this.storage.getItem(S);!E&&this.localCache[S]===ne||this.notifyListeners(S,ne)},z=this.storage.getItem(S);!function Zt(){return(0,B.w1)()&&10===document.documentMode}()||z===y.newValue||y.newValue===y.oldValue?M():setTimeout(M,10)}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const M of Array.from(S))M(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var S=()=>super._set,M=this;return(0,d.Z)(function*(){yield S().call(M,y,E),M.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,S=this;return(0,d.Z)(function*(){const M=yield E().call(S,y);return S.localCache[y]=JSON.stringify(M),M})()}_remove(y){var E=()=>super._remove,S=this;return(0,d.Z)(function*(){yield E().call(S,y),delete S.localCache[y]})()}}return w.type="LOCAL",w})(),zs=(()=>{class w extends Id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let Zf=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(M=>M.isListeningto(y));if(E)return E;const S=new w(y);return this.receivers.push(S),S}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,d.Z)(function*(){const S=y,{eventId:M,eventType:z,data:ne}=S.data,Pe=E.handlersMap[z];if(!Pe?.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const Ge=Array.from(Pe).map(function(){var Ht=(0,d.Z)(function*(Hr){return Hr(S.origin,ne)});return function(Hr){return Ht.apply(this,arguments)}}()),at=yield function Ty(w){return Promise.all(w.map(function(){var p=(0,d.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return p.apply(this,arguments)}}()))}(Ge);S.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:at})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function eu(w="",p=10){let y="";for(let E=0;E<p;E++)y+=Math.floor(10*Math.random());return w+y}class tu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,E=50){var S=this;return(0,d.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,ne;return new Promise((Pe,Ge)=>{const at=eu("",20);M.port1.start();const Ht=setTimeout(()=>{Ge(new Error("unsupported_event"))},E);ne={messageChannel:M,onMessage(Hr){const Gr=Hr;if(Gr.data.eventId===at)switch(Gr.data.status){case"ack":clearTimeout(Ht),z=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Pe(Gr.data.response);break;default:clearTimeout(Ht),clearTimeout(z),Ge(new Error("invalid_response"))}}},S.handlers.add(ne),M.port1.addEventListener("message",ne.onMessage),S.target.postMessage({eventType:p,eventId:at,data:y},[M.port2])}).finally(()=>{ne&&S.removeMessageHandler(ne)})})()}}function Sn(){return window}function nu(){return typeof Sn().WorkerGlobalScope<"u"&&"function"==typeof Sn().importScripts}function ea(){return(ea=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ta="firebaseLocalStorageDb",su="firebaseLocalStorage",Sd="fbase_key";class gs{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Kf(w,p){return w.transaction([su],p?"readwrite":"readonly").objectStore(su)}function cn(){const w=indexedDB.open(ta,1);return new Promise((p,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(su,{keyPath:Sd})}catch(S){y(S)}}),w.addEventListener("success",(0,d.Z)(function*(){const E=w.result;E.objectStoreNames.contains(su)?p(E):(E.close(),yield function VE(){const w=indexedDB.deleteDatabase(ta);return new gs(w).toPromise()}(),p(yield cn()))}))})}function Ay(w,p,y){return xy.apply(this,arguments)}function xy(){return(xy=(0,d.Z)(function*(w,p,y){const E=Kf(w,!0).put({[Sd]:p,value:y});return new gs(E).toPromise()})).apply(this,arguments)}function My(){return(My=(0,d.Z)(function*(w,p){const y=Kf(w,!1).get(p),E=yield new gs(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function UE(w,p){const y=Kf(w,!0).delete(p);return new gs(y).toPromise()}const BE=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,d.Z)(function*(){return y.db||(y.db=yield cn()),y.db})()}_withRetries(y){var E=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const M=yield E._openDb();return yield y(M)}catch(M){if(S++>3)throw M;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,d.Z)(function*(){return nu()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,d.Z)(function*(){y.receiver=Zf._getInstance(function ru(){return nu()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(S,M){return{keyProcessed:(yield y._poll()).includes(M.key)}});return function(S,M){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,d.Z)(function*(){var E,S;if(y.activeServiceWorker=yield function Sy(){return ea.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new tu(y.activeServiceWorker);const M=yield y.sender._send("ping",{},800);!M||(null===(E=M[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=M[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Tl(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const y=yield cn();return yield Ay(y,Gs,"1"),yield UE(y,Gs),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(M=>Ay(M,y,E)),S.localCache[y]=E,S.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,d.Z)(function*(){const S=yield E._withRetries(M=>function NS(w,p){return My.apply(this,arguments)}(M,y));return E.localCache[y]=S,S})()}_remove(y){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(S=>UE(S,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,d.Z)(function*(){const E=yield y._withRetries(z=>{const ne=Kf(z,!1).getAll();return new gs(ne).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:z,value:ne}of E)M.add(z),JSON.stringify(y.localCache[z])!==JSON.stringify(ne)&&(y.notifyListeners(z,ne),S.push(z));for(const z of Object.keys(y.localCache))y.localCache[z]&&!M.has(z)&&(y.notifyListeners(z,null),S.push(z));return S})()}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const M of Array.from(S))M(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function jE(w,p){return St(w,"POST","/v2/accounts/mfaSignIn:start",ht(w,p))}const na=1e12;class nr{constructor(p){this.auth=p,this.counter=na,this._widgets=new Map}render(p,y){const E=this.counter;return this._widgets.set(E,new Ws(p,this.auth.name,y||{})),this.counter++,E}reset(p){var y;const E=p||na;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(p){var y;return(null===(y=this._widgets.get(p||na))||void 0===y?void 0:y.getResponse())||""}execute(p){var y=this;return(0,d.Z)(function*(){var E;return null===(E=y._widgets.get(p||na))||void 0===E||E.execute(),""})()}}class Ws{constructor(p,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;X(S,"argument-error",{appName:y}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xd(w){const p=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)p.push(y.charAt(Math.floor(Math.random()*y.length)));return p.join("")}(50);const{callback:p,"expired-callback":y}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rr=Cr("rcb"),Al=new pe(3e4,6e4);class ra{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Sn().grecaptcha)||void 0===p||!p.render)}load(p,y=""){return X(function $E(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),p,"argument-error"),this.shouldResolveImmediately(y)&&wt(Sn().grecaptcha)?Promise.resolve(Sn().grecaptcha):new Promise((E,S)=>{const M=Sn().setTimeout(()=>{S(de(p,"network-request-failed"))},Al.get());Sn()[rr]=()=>{Sn().clearTimeout(M),delete Sn()[rr];const ne=Sn().grecaptcha;if(!ne||!wt(ne))return void S(de(p,"internal-error"));const Pe=ne.render;ne.render=(Ge,at)=>{const Ht=Pe(Ge,at);return this.counter++,Ht},this.hostLanguage=y,E(ne)},Bt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:rr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(M),S(de(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var y;return!(null===(y=Sn().grecaptcha)||void 0===y||!y.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class OS{load(p){return(0,d.Z)(function*(){return new nr(p)})()}clearedOneInstance(){}}const HE="recaptcha",Ny={theme:"light",type:"image"};class wi{constructor(p,y=Object.assign({},Ny),E){this.parameters=y,this.type=HE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(E),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;X(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OS:new ra,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const y=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(y)||new Promise(M=>{const z=ne=>{!ne||(p.tokenChangeListeners.delete(z),M(ne))};p.tokenChangeListeners.add(z),p.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof p)p(y);else if("string"==typeof p){const E=Sn()[p];"function"==typeof E&&E(y)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let y=p.container;if(!p.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}p.widgetId=p.getAssertedRecaptcha().render(y,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){X($t()&&!nu(),p.auth,"internal-error"),yield function xl(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const y=yield function ee(w){return Y.apply(this,arguments)}(p.auth);X(y,p.auth,"internal-error"),p.parameters.sitekey=y})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ei{constructor(p,y){this.verificationId=p,this.onConfirmation=y}confirm(p){const y=er._fromVerification(this.verificationId,p);return this.onConfirmation(y)}}function ky(w,p,y){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(w,p,y){const E=En(w),S=yield Rl(E,p,(0,B.m9)(y));return new Ei(S,M=>ho(E,M))})).apply(this,arguments)}function GE(w,p,y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w);yield me(!1,E,"phone");const S=yield Rl(E.auth,p,(0,B.m9)(y));return new Ei(S,M=>dd(E,M))})).apply(this,arguments)}function Py(w,p,y){return Md.apply(this,arguments)}function Md(){return(Md=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w),S=yield Rl(E.auth,p,(0,B.m9)(y));return new Ei(S,M=>Hf(E,M))})).apply(this,arguments)}function Rl(w,p,y){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,d.Z)(function*(w,p,y){var E;const S=yield y.verify();try{let M;if(X("string"==typeof S,w,"argument-error"),X(y.type===HE,w,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const z=M.session;if("phoneNumber"in M)return X("enroll"===z.type,w,"internal-error"),(yield Ey(w,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{X("signin"===z.type,w,"internal-error");const ne=(null===(E=M.multiFactorHint)||void 0===E?void 0:E.uid)||M.multiFactorUid;return X(ne,w,"missing-multi-factor-info"),(yield jE(w,{mfaPendingCredential:z.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield ed(w,{phoneNumber:M.phoneNumber,recaptchaToken:S});return z}}finally{y._reset()}})).apply(this,arguments)}function Nd(w,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(w,p){yield ld((0,B.m9)(w),p)})).apply(this,arguments)}let zE=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=En(y)}verifyPhoneNumber(y,E){return Rl(this.auth,y,(0,B.m9)(E))}static credential(y,E){return er._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:S}=y;return E&&S?er._fromTokenResponse(E,S):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Oi(w,p){return p?Xn(p):(X(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class au extends fs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ls(p,this._buildIdpRequest())}_linkToIdToken(p,y){return Ls(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return Ls(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function Nl(w){return zn(w.auth,new au(w),w.bypassAuthState)}function qE(w){const{auth:p,user:y}=w;return X(y,p,"internal-error"),$f(y,new au(w),w.bypassAuthState)}function Oy(w){return kd.apply(this,arguments)}function kd(){return(kd=(0,d.Z)(function*(w){const{auth:p,user:y}=w;return X(y,p,"internal-error"),ld(y,new au(w),w.bypassAuthState)})).apply(this,arguments)}class Pd{constructor(p,y,E,S,M=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,d.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(E,S){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:M,tenantId:z,error:ne,type:Pe}=p;if(ne)return void y.reject(ne);const Ge={auth:y.auth,requestUri:E,sessionId:S,tenantId:z||void 0,postBody:M||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Pe)(Ge))}catch(at){y.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return Oy;case"reauthViaPopup":case"reauthViaRedirect":return qE;default:be(this.auth,"internal-error")}}resolve(p){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uu=new pe(2e3,1e4);function oa(w,p,y){return Od.apply(this,arguments)}function Od(){return(Od=(0,d.Z)(function*(w,p,y){const E=En(w);Be(w,p,dn);const S=Oi(E,y);return new yo(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Vn(w,p,y){return kl.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w);Be(E.auth,p,dn);const S=Oi(E.auth,y);return new yo(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function Yf(w,p,y){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w);Be(E.auth,p,dn);const S=Oi(E.auth,y);return new yo(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let yo=(()=>{class w extends Pd{constructor(y,E,S,M,z){super(y,E,M,z),this.provider=S,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,d.Z)(function*(){const E=yield y.execute();return X(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,d.Z)(function*(){bt(1===y.filter.length,"Popup operations only handle one event");const E=eu();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(S=>{y.reject(S)}),y.resolver._isIframeWebStorageSupported(y.auth,S=>{S||y.reject(de(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,uu.get())};y()}}return w.currentPopupAction=null,w})();const cu=new Map;class Ly extends Pd{constructor(p,y,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,d.Z)(function*(){let E=cu.get(y.auth._key());if(!E){try{const M=(yield function Fd(w,p){return _o.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;E=()=>Promise.resolve(M)}catch(S){E=()=>Promise.reject(S)}cu.set(y.auth._key(),E)}return y.bypassAuthState||cu.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,y().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function _o(){return(_o=(0,d.Z)(function*(w,p){const y=du(p),E=aa(w);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(y));return yield E._remove(y),S})).apply(this,arguments)}function Pl(w,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(w,p){return aa(w)._set(du(p),"true")})).apply(this,arguments)}function Vy(){cu.clear()}function Ld(w,p){cu.set(w._key(),p)}function aa(w){return Xn(w._redirectPersistence)}function du(w){return Xr("pendingRedirect",w.config.apiKey,w.name)}function Uy(w,p,y){return function By(w,p,y){return Vd.apply(this,arguments)}(w,p,y)}function Vd(){return(Vd=(0,d.Z)(function*(w,p,y){const E=En(w);Be(w,p,dn),yield E._initializationPromise;const S=Oi(E,y);return yield Pl(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function ua(w,p,y){return function wo(w,p,y){return is.apply(this,arguments)}(w,p,y)}function is(){return(is=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w);Be(E.auth,p,dn),yield E.auth._initializationPromise;const S=Oi(E.auth,y);yield Pl(S,E.auth);const M=yield la(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function jy(w,p,y){return function Ol(w,p,y){return hu.apply(this,arguments)}(w,p,y)}function hu(){return(hu=(0,d.Z)(function*(w,p,y){const E=(0,B.m9)(w);Be(E.auth,p,dn),yield E.auth._initializationPromise;const S=Oi(E.auth,y);yield me(!1,E,p.providerId),yield Pl(S,E.auth);const M=yield la(E);return S._openRedirect(E.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Qf(w,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(w,p){return yield En(w)._initializationPromise,Fl(w,p,!1)})).apply(this,arguments)}function Fl(w,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(w,p,y=!1){const E=En(w),S=Oi(E,p),z=yield new Ly(E,S,y).execute();return z&&!y&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,p)),z})).apply(this,arguments)}function la(w){return pu.apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(w){const p=eu(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class Jf{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(y=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Hy(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var E;if(p.error&&!ms(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(de(this.auth,S))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const E=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($y(p))}saveEventToCache(p){this.cachedEventUids.add($y(p)),this.lastProcessedEventTime=Date.now()}}function $y(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function ms({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Xf(w){return ep.apply(this,arguments)}function ep(){return(ep=(0,d.Z)(function*(w,p={}){return St(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Bd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gy=/^https?/;function Ll(){return(Ll=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Xf(w);for(const y of p)try{if(qy(y))return}catch{}be(w,"unauthorized-domain")})).apply(this,arguments)}function qy(w){const p=rt(),{protocol:y,hostname:E}=new URL(p);if(w.startsWith("chrome-extension://")){const z=new URL(w);return""===z.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&z.hostname===E}if(!Gy.test(y))return!1;if(Bd.test(w))return E===w;const S=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const tp=new pe(3e4,6e4);function Wy(){const w=Sn().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let jd=null;function $d(w){return jd=jd||function Zy(w){return new Promise((p,y)=>{var E,S,M;function z(){Wy(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wy(),y(de(w,"network-request-failed"))},timeout:tp.get()})}if(null!==(S=null===(E=Sn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(M=Sn().gapi)||void 0===M||!M.load){const ne=Cr("iframefcb");return Sn()[ne]=()=>{gapi.load?z():y(de(w,"network-request-failed"))},Bt(`https://apis.google.com/js/api.js?onload=${ne}`).catch(Pe=>y(Pe))}z()}}).catch(p=>{throw jd=null,p})}(w),jd}const gu=new pe(5e3,15e3),Hd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ir(w){const p=w.config;X(p.authDomain,w,"auth-domain-config-required");const y=p.emulator?Ce(p,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:w.name,v:O.SDK_VERSION},S=Vl.get(w.config.apiHost);S&&(E.eid=S);const M=w._getFrameworks();return M.length&&(E.fw=M.join(",")),`${y}?${(0,B.xO)(E).slice(1)}`}function da(){return da=(0,d.Z)(function*(w){const p=yield $d(w),y=Sn().gapi;return X(y,w,"internal-error"),p.open({where:document.body,url:ir(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hd,dontclear:!0},E=>new Promise(function(){var S=(0,d.Z)(function*(M,z){yield E.restyle({setHideOnLeave:!1});const ne=de(w,"network-request-failed"),Pe=Sn().setTimeout(()=>{z(ne)},gu.get());function Ge(){Sn().clearTimeout(Pe),M(E)}E.ping(Ge).then(Ge,()=>{z(ne)})});return function(M,z){return S.apply(this,arguments)}}()))}),da.apply(this,arguments)}const Ky={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ys{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Eo=encodeURIComponent("fac");function Bl(w,p,y,E,S,M){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(w,p,y,E,S,M){X(w.config.authDomain,w,"auth-domain-config-required"),X(w.config.apiKey,w,"invalid-api-key");const z={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:O.SDK_VERSION,eventId:S};if(p instanceof dn){p.setDefaultLanguage(w.languageCode),z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[at,Ht]of Object.entries(M||{}))z[at]=Ht}if(p instanceof qo){const at=p.getScopes().filter(Ht=>""!==Ht);at.length>0&&(z.scopes=at.join(","))}w.tenantId&&(z.tid=w.tenantId);const ne=z;for(const at of Object.keys(ne))void 0===ne[at]&&delete ne[at];const Pe=yield w._getAppCheckToken(),Ge=Pe?`#${Eo}=${encodeURIComponent(Pe)}`:"";return`${dr(w)}?${(0,B.xO)(ne).slice(1)}${Ge}`})).apply(this,arguments)}function dr({config:w}){return w.emulator?Ce(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const Fi="webStorageSupport",ip=class yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=Fl,this._overrideRedirectResult=Ld}_openPopup(p,y,E,S){var M=this;return(0,d.Z)(function*(){var z;bt(null===(z=M.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ne=yield Bl(p,y,E,rt(),S);return function zd(w,p,y,E=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let ne="";const Pe=Object.assign(Object.assign({},Ky),{width:E.toString(),height:S.toString(),top:M,left:z}),Ge=(0,B.z$)().toLowerCase();y&&(ne=x(Ge)?"_blank":y),N(Ge)&&(p=p||"http://localhost",Pe.scrollbars="yes");const at=Object.entries(Pe).reduce((Hr,[Gr,Co])=>`${Hr}${Gr}=${Co},`,"");if(function Je(w=(0,B.z$)()){var p;return ce(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ge)&&"_self"!==ne)return function rp(w,p){const y=document.createElement("a");y.href=w,y.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(p||"",ne),new ys(null);const Ht=window.open(p||"",ne,at);X(Ht,w,"popup-blocked");try{Ht.focus()}catch{}return new ys(Ht)}(p,ne,eu())})()}_openRedirect(p,y,E,S){var M=this;return(0,d.Z)(function*(){return yield M._originValidation(p),function ps(w){Sn().location.href=w}(yield Bl(p,y,E,rt(),S)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:S,promise:M}=this.eventManagers[y];return S?Promise.resolve(S):(bt(M,"If manager is not set, promise should be"),M)}const E=this.initAndGetManager(p);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(p){var y=this;return(0,d.Z)(function*(){const E=yield function Gd(w){return da.apply(this,arguments)}(p),S=new Jf(p);return E.register("authEvent",M=>(X(M?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:S},y.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(Fi,{type:Fi},S=>{var M;const z=null===(M=S?.[0])||void 0===M?void 0:M[Fi];void 0!==z&&y(!!z),be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function zy(w){return Ll.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return Tt()||R()||ce()}};class jl extends class qd{constructor(p){this.factorId=p}_process(p,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(p,y.credential,E);case"signin":return this._finalizeSignIn(p,y.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new jl(p)}_finalizeEnroll(p,y,E){return function Wf(w,p){return St(w,"POST","/v2/accounts/mfaEnrollment:finalize",ht(w,p))}(p,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,y){return function tr(w,p){return St(w,"POST","/v2/accounts/mfaSignIn:finalize",ht(w,p))}(p,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qy=(()=>{class w{constructor(){}static assertion(y){return jl._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var _u="@firebase/auth";class Wd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,d.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);!y||(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function e_(w){(0,O._registerComponent)(new ye.wA("auth",(p,{options:y})=>{const E=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),M=p.getProvider("app-check-internal"),{apiKey:z,authDomain:ne}=E.options;X(z&&!z.includes(":"),"invalid-api-key",{appName:E.name});const Pe={apiKey:z,authDomain:ne,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(w)},Ge=new La(E,S,M,Pe);return function lo(w,p){const y=p?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Xn);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(E,p?.popupRedirectResolver)}(Ge,y),Ge},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,E)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ye.wA("auth-internal",p=>{const y=En(p.getProvider("auth").getImmediate());return new Wd(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(_u,"0.23.2",function Xy(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,O.registerVersion)(_u,"0.23.2","esm2017")}("Browser")},2090:(yt,Me,L)=>{L.d(Me,{$s:()=>Xn,BH:()=>ge,G6:()=>Ce,L:()=>Oe,LL:()=>Ke,P0:()=>_t,Pz:()=>de,Sg:()=>Be,UG:()=>qe,US:()=>ye,ZB:()=>K,ZR:()=>St,aH:()=>be,b$:()=>$t,eu:()=>fe,hl:()=>Re,jU:()=>bt,m9:()=>Xr,ne:()=>qt,pd:()=>_n,r3:()=>Ri,ru:()=>rt,tV:()=>H,uI:()=>X,vZ:()=>_r,w1:()=>oe,xO:()=>Ni,xb:()=>zo,z$:()=>He,zI:()=>vt,zd:()=>pi});const se=function(U){const V=[];let N=0;for(let R=0;R<U.length;R++){let x=U.charCodeAt(R);x<128?V[N++]=x:x<2048?(V[N++]=x>>6|192,V[N++]=63&x|128):55296==(64512&x)&&R+1<U.length&&56320==(64512&U.charCodeAt(R+1))?(x=65536+((1023&x)<<10)+(1023&U.charCodeAt(++R)),V[N++]=x>>18|240,V[N++]=x>>12&63|128,V[N++]=x>>6&63|128,V[N++]=63&x|128):(V[N++]=x>>12|224,V[N++]=x>>6&63|128,V[N++]=63&x|128)}return V},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let x=0;x<U.length;x+=3){const q=U[x],ue=x+1<U.length,je=ue?U[x+1]:0,ot=x+2<U.length,ce=ot?U[x+2]:0;let Zt=(15&je)<<2|ce>>6,Tt=63&ce;ot||(Tt=64,ue||(Zt=64)),R.push(N[q>>2],N[(3&q)<<4|je>>4],N[Zt],N[Tt])}return R.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(se(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let N=0,R=0;for(;N<U.length;){const x=U[N++];if(x<128)V[R++]=String.fromCharCode(x);else if(x>191&&x<224){const q=U[N++];V[R++]=String.fromCharCode((31&x)<<6|63&q)}else if(x>239&&x<365){const ot=((7&x)<<18|(63&U[N++])<<12|(63&U[N++])<<6|63&U[N++])-65536;V[R++]=String.fromCharCode(55296+(ot>>10)),V[R++]=String.fromCharCode(56320+(1023&ot))}else{const q=U[N++],ue=U[N++];V[R++]=String.fromCharCode((15&x)<<12|(63&q)<<6|63&ue)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const N=V?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let x=0;x<U.length;){const q=N[U.charAt(x++)],je=x<U.length?N[U.charAt(x)]:0;++x;const ce=x<U.length?N[U.charAt(x)]:64;++x;const Je=x<U.length?N[U.charAt(x)]:64;if(++x,null==q||null==je||null==ce||null==Je)throw new Te;R.push(q<<2|je>>4),64!==ce&&(R.push(je<<4&240|ce>>2),64!==Je&&R.push(ce<<6&192|Je))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(U){return function(U){const V=se(U);return ye.encodeByteArray(V,!0)}(U).replace(/\./g,"")},H=function(U){try{return ye.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function K(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const N in V)!V.hasOwnProperty(N)||!Ue(N)||(U[N]=K(U[N],V[N]));return U}function Ue(U){return"__proto__"!==U}const he=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&H(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},_t=U=>{const V=(U=>{var V,N;return null===(N=null===(V=he())||void 0===V?void 0:V.emulatorHosts)||void 0===N?void 0:N[U]})(U);if(!V)return;const N=V.lastIndexOf(":");if(N<=0||N+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const R=parseInt(V.substring(N+1),10);return"["===V[0]?[V.substring(1,N-1),R]:[V.substring(0,N),R]},be=()=>{var U;return null===(U=he())||void 0===U?void 0:U.config},de=U=>{var V;return null===(V=he())||void 0===V?void 0:V[`_${U}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,N)=>{this.resolve=V,this.reject=N})}wrapCallback(V){return(N,R)=>{N?this.reject(N):this.resolve(R),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(N):V(N,R))}}}function Be(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=V||"demo-project",x=U.iat||0,q=U.sub||U.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:x,exp:x+3600,auth_time:x,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},U);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(ue)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function qe(){var U;const V=null===(U=he())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function rt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const U=He();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ce(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((U,V)=>{try{let N=!0;const R="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(R);x.onsuccess=()=>{x.result.close(),N||self.indexedDB.deleteDatabase(R),U(!0)},x.onupgradeneeded=()=>{N=!1},x.onerror=()=>{var q;V((null===(q=x.error)||void 0===q?void 0:q.message)||"")}}catch(N){V(N)}})}function vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class St extends Error{constructor(V,N,R){super(N),this.code=V,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(V,N,R){this.service=V,this.serviceName=N,this.errors=R}create(V,...N){const R=N[0]||{},x=`${this.service}/${V}`,q=this.errors[V],ue=q?function zt(U,V){return U.replace(Lt,(N,R)=>{const x=V[R];return null!=x?String(x):`<${R}?>`})}(q,R):"Error";return new St(x,`${this.serviceName}: ${ue} (${x}).`,R)}}const Lt=/\{\$([^}]+)}/g;function Ri(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function zo(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function _r(U,V){if(U===V)return!0;const N=Object.keys(U),R=Object.keys(V);for(const x of N){if(!R.includes(x))return!1;const q=U[x],ue=V[x];if(Hn(q)&&Hn(ue)){if(!_r(q,ue))return!1}else if(q!==ue)return!1}for(const x of R)if(!N.includes(x))return!1;return!0}function Hn(U){return null!==U&&"object"==typeof U}function Ni(U){const V=[];for(const[N,R]of Object.entries(U))Array.isArray(R)?R.forEach(x=>{V.push(encodeURIComponent(N)+"="+encodeURIComponent(x))}):V.push(encodeURIComponent(N)+"="+encodeURIComponent(R));return V.length?"&"+V.join("&"):""}function pi(U){const V={};return U.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[x,q]=R.split("=");V[decodeURIComponent(x)]=decodeURIComponent(q)}}),V}function _n(U){const V=U.indexOf("?");if(!V)return"";const N=U.indexOf("#",V);return U.substring(V,N>0?N:void 0)}function qt(U,V){const N=new lt(U,V);return N.subscribe.bind(N)}class lt{constructor(V,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{V(this)}).catch(R=>{this.error(R)})}next(V){this.forEachObserver(N=>{N.next(V)})}error(V){this.forEachObserver(N=>{N.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,N,R){let x;if(void 0===V&&void 0===N&&void 0===R)throw new Error("Missing Observer.");x=function Wt(U,V){if("object"!=typeof U||null===U)return!1;for(const N of V)if(N in U&&"function"==typeof U[N])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:N,complete:R},void 0===x.next&&(x.next=Br),void 0===x.error&&(x.error=Br),void 0===x.complete&&(x.complete=Br);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),q}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,V)}sendOne(V,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{N(this.observers[V])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}function Xn(U,V=1e3,N=2){const R=V*Math.pow(N,U),x=Math.round(.5*R*(Math.random()-.5)*2);return Math.min(144e5,R+x)}function Xr(U){return U&&U._delegate?U._delegate:U}},2361:(yt,Me,L)=>{var d=L(4650);let B=null;function O(){return B}const Te=new d.OlP("DocumentToken");let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Oe(){return(0,d.LFG)($)}()},providedIn:"platform"}),n})();const H=new d.OlP("Location Initialized");let $=(()=>{class n extends De{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ue(){return new $((0,d.LFG)(Te))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(it)},providedIn:"root"}),n})();const he=new d.OlP("appBaseHref");let it=(()=>{class n extends ie{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Qe(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Qe(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(De),d.LFG(he,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_t=(()=>{class n extends ie{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(De),d.LFG(he,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ee(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Ne,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function de(){return new be((0,d.LFG)(ie))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var bt=(()=>((bt=bt||{})[bt.Format=0]="Format",bt[bt.Standalone=1]="Standalone",bt))(),rt=(()=>((rt=rt||{})[rt.Narrow=0]="Narrow",rt[rt.Abbreviated=1]="Abbreviated",rt[rt.Wide=2]="Wide",rt[rt.Short=3]="Short",rt))(),$t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.Medium=1]="Medium",$t[$t.Long=2]="Long",$t[$t.Full=3]="Full",$t))(),st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Group=1]="Group",st[st.List=2]="List",st[st.PercentSign=3]="PercentSign",st[st.PlusSign=4]="PlusSign",st[st.MinusSign=5]="MinusSign",st[st.Exponential=6]="Exponential",st[st.SuperscriptingExponent=7]="SuperscriptingExponent",st[st.PerMille=8]="PerMille",st[st.Infinity=9]="Infinity",st[st.NaN=10]="NaN",st[st.TimeSeparator=11]="TimeSeparator",st[st.CurrencyDecimal=12]="CurrencyDecimal",st[st.CurrencyGroup=13]="CurrencyGroup",st))();function St(n,e){return et((0,d.cg1)(n)[d.wAp.DateFormat],e)}function Ke(n,e){return et((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function zt(n,e){return et((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Lt(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===st.CurrencyDecimal)return t[d.wAp.NumberSymbols][st.Decimal];if(e===st.CurrencyGroup)return t[d.wAp.NumberSymbols][st.Group]}return r}function Ur(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function et(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function _r(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const pi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_n={},gn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),gt=(()=>((gt=gt||{})[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt))();function Wt(n,e,t,r){let i=function x(n){if(ue(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,l=1]=n.split("-").map(f=>+f);return Br(i,a-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(pi))return function q(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,l,f,m,v),e}(r)}const e=new Date(n);if(!ue(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=cr(t,e)||e;let f,l=[];for(;e;){if(f=gn.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=V(r,m),i=function R(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function N(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(V(e,i)-i))}(i,r,!0));let v="";return l.forEach(C=>{const D=function U(n){if(Xr[n])return Xr[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(gt.Eras,rt.Abbreviated);break;case"GGGG":e=Yt(gt.Eras,rt.Wide);break;case"GGGGG":e=Yt(gt.Eras,rt.Narrow);break;case"y":e=Vt(lt.FullYear,1,0,!1,!0);break;case"yy":e=Vt(lt.FullYear,2,0,!0,!0);break;case"yyy":e=Vt(lt.FullYear,3,0,!1,!0);break;case"yyyy":e=Vt(lt.FullYear,4,0,!1,!0);break;case"Y":e=jr(1);break;case"YY":e=jr(2,!0);break;case"YYY":e=jr(3);break;case"YYYY":e=jr(4);break;case"M":case"L":e=Vt(lt.Month,1,1);break;case"MM":case"LL":e=Vt(lt.Month,2,1);break;case"MMM":e=Yt(gt.Months,rt.Abbreviated);break;case"MMMM":e=Yt(gt.Months,rt.Wide);break;case"MMMMM":e=Yt(gt.Months,rt.Narrow);break;case"LLL":e=Yt(gt.Months,rt.Abbreviated,bt.Standalone);break;case"LLLL":e=Yt(gt.Months,rt.Wide,bt.Standalone);break;case"LLLLL":e=Yt(gt.Months,rt.Narrow,bt.Standalone);break;case"w":e=Qi(1);break;case"ww":e=Qi(2);break;case"W":e=Qi(1,!0);break;case"d":e=Vt(lt.Date,1);break;case"dd":e=Vt(lt.Date,2);break;case"c":case"cc":e=Vt(lt.Day,1);break;case"ccc":e=Yt(gt.Days,rt.Abbreviated,bt.Standalone);break;case"cccc":e=Yt(gt.Days,rt.Wide,bt.Standalone);break;case"ccccc":e=Yt(gt.Days,rt.Narrow,bt.Standalone);break;case"cccccc":e=Yt(gt.Days,rt.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=Yt(gt.Days,rt.Abbreviated);break;case"EEEE":e=Yt(gt.Days,rt.Wide);break;case"EEEEE":e=Yt(gt.Days,rt.Narrow);break;case"EEEEEE":e=Yt(gt.Days,rt.Short);break;case"a":case"aa":case"aaa":e=Yt(gt.DayPeriods,rt.Abbreviated);break;case"aaaa":e=Yt(gt.DayPeriods,rt.Wide);break;case"aaaaa":e=Yt(gt.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":e=Yt(gt.DayPeriods,rt.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=Yt(gt.DayPeriods,rt.Wide,bt.Standalone,!0);break;case"bbbbb":e=Yt(gt.DayPeriods,rt.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(gt.DayPeriods,rt.Abbreviated,bt.Format,!0);break;case"BBBB":e=Yt(gt.DayPeriods,rt.Wide,bt.Format,!0);break;case"BBBBB":e=Yt(gt.DayPeriods,rt.Narrow,bt.Format,!0);break;case"h":e=Vt(lt.Hours,1,-12);break;case"hh":e=Vt(lt.Hours,2,-12);break;case"H":e=Vt(lt.Hours,1);break;case"HH":e=Vt(lt.Hours,2);break;case"m":e=Vt(lt.Minutes,1);break;case"mm":e=Vt(lt.Minutes,2);break;case"s":e=Vt(lt.Seconds,1);break;case"ss":e=Vt(lt.Seconds,2);break;case"S":e=Vt(lt.FractionalSeconds,1);break;case"SS":e=Vt(lt.FractionalSeconds,2);break;case"SSS":e=Vt(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=fn(qt.Short);break;case"ZZZZZ":e=fn(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=fn(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=fn(qt.Long);break;default:return null}return Xr[n]=e,e}(C);v+=D?D(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Br(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function cr(n,e){const t=function ae(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(_n[t]=_n[t]||{},_n[t][e])return _n[t][e];let r="";switch(e){case"shortDate":r=St(n,$t.Short);break;case"mediumDate":r=St(n,$t.Medium);break;case"longDate":r=St(n,$t.Long);break;case"fullDate":r=St(n,$t.Full);break;case"shortTime":r=Ke(n,$t.Short);break;case"mediumTime":r=Ke(n,$t.Medium);break;case"longTime":r=Ke(n,$t.Long);break;case"fullTime":r=Ke(n,$t.Full);break;case"short":const i=cr(n,"shortTime"),a=cr(n,"shortDate");r=Gn(zt(n,$t.Short),[i,a]);break;case"medium":const l=cr(n,"mediumTime"),f=cr(n,"mediumDate");r=Gn(zt(n,$t.Medium),[l,f]);break;case"long":const m=cr(n,"longTime"),v=cr(n,"longDate");r=Gn(zt(n,$t.Long),[m,v]);break;case"full":const C=cr(n,"fullTime"),D=cr(n,"fullDate");r=Gn(zt(n,$t.Full),[C,D])}return r&&(_n[t][e]=r),r}function Gn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function At(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),a+l}function Vt(n,e,t=0,r=!1,i=!1){return function(a,l){let f=function Yi(n,e){switch(n){case lt.FullYear:return e.getFullYear();case lt.Month:return e.getMonth();case lt.Date:return e.getDate();case lt.Hours:return e.getHours();case lt.Minutes:return e.getMinutes();case lt.Seconds:return e.getSeconds();case lt.FractionalSeconds:return e.getMilliseconds();case lt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===lt.Hours)0===f&&-12===t&&(f=12);else if(n===lt.FractionalSeconds)return function On(n,e){return At(n,3).substring(0,e)}(f,e);const m=Lt(l,st.MinusSign);return At(f,e,m,r,i)}}function Yt(n,e,t=bt.Format,r=!1){return function(i,a){return function vr(n,e,t,r,i,a){switch(t){case gt.Months:return function Re(n,e,t){const r=(0,d.cg1)(n),a=et([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return et(a,t)}(e,i,r)[n.getMonth()];case gt.Days:return function Ce(n,e,t){const r=(0,d.cg1)(n),a=et([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return et(a,t)}(e,i,r)[n.getDay()];case gt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(a){const v=function Ri(n){const e=(0,d.cg1)(n);return Ur(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?_r(r):[_r(r[0]),_r(r[1])])}(e),C=function Ki(n,e,t){const r=(0,d.cg1)(n);Ur(r);const a=et([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return et(a,t)||[]}(e,i,r),D=v.findIndex(k=>{if(Array.isArray(k)){const[F,G]=k,Q=l>=F.hours&&f>=F.minutes,J=l<G.hours||l===G.hours&&f<G.minutes;if(F.hours<G.hours){if(Q&&J)return!0}else if(Q||J)return!0}else if(k.hours===l&&k.minutes===f)return!0;return!1});if(-1!==D)return C[D]}return function pe(n,e,t){const r=(0,d.cg1)(n),a=et([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return et(a,t)}(e,i,r)[l<12?0:1];case gt.Eras:return function fe(n,e){return et((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function fn(n){return function(e,t,r){const i=-1*r,a=Lt(t,st.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+At(l,2,a)+At(Math.abs(i%60),2,a);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+At(l,1,a);case qt.Long:return"GMT"+(i>=0?"+":"")+At(l,2,a)+":"+At(Math.abs(i%60),2,a);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+At(l,2,a)+":"+At(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Xn(n){return Br(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Qi(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+a)/7)}else{const a=Xn(t),l=function gi(n){const e=Br(n,0,1).getDay();return Br(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return At(i,n,Lt(r,st.MinusSign))}}function jr(n,e=!1){return function(t,r){return At(Xn(t).getFullYear(),n,Lt(r,st.MinusSign),e)}}const Xr={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ue(n){return n instanceof Date&&!isNaN(n.valueOf())}let Qt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class En{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new En(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),Va(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Va(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Va(n,e){n.context.$implicit=e.item}let Fn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Tf{constructor(){this.$implicit=null,this.ngIf=null}}function Dr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}const Pf=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let iy=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){if(null==t||""===t||t!=t)return null;try{return Wt(t,r,a||this.locale,i??this.defaultTimezone??void 0)}catch(l){throw function yi(n,e){return new d.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(Pf,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Us(n){return"server"===n}let qo=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new fl((0,d.LFG)(Te),window)}),n})();class fl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ti(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ha(this.window.history)||Ha(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ha(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go extends class zf extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function we(n){B||(B=n)}(new go)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hy(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}();return null==t?null:function Bs(n){Ln=Ln||document.createElement("a"),Ln.setAttribute("href",n);const e=Ln.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Kc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ln,za=null;const pn=new d.OlP("TRANSITION_ID"),yd=[{provide:d.ip1,useFactory:function fy(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[pn,Te,d.zs3],multi:!0}];let _d=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const El=new d.OlP("EventManagerPlugins");let Ko=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(El),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends mo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yo))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Yo(n){O().remove(n)}const bl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vd=/%COMP%/g;function Il(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Il(n,i,t):(i=i.replace(vd,n),t.push(i))}return t}function qf(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ed=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new yy(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new _y(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Il(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ko),d.LFG(js),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Za(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Za(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=bl[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bl[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qf(r)):this.eventManager.addEventListener(e,t,qf(r))}}function Za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yy extends Wa{constructor(e,t,r,i){super(e),this.component=r;const a=Il(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Jo(n){return"_ngcontent-%COMP%".replace(vd,n)}(i+"-"+r.id),this.hostAttr=function wd(n){return"_nghost-%COMP%".replace(vd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _y extends Wa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Il(i.id,i.styles,[]);for(let l=0;l<a.length;l++){const f=document.createElement("style");f.textContent=a[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ka=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vy=["alt","control","meta","shift"],Ya={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rs=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),vy.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),l+=v+".")}),l+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=Ya[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vy.forEach(l=>{l!==i&&(0,Qa[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function by(){go.makeCurrent()},multi:!0},{provide:Te,useFactory:function Xa(){return(0,d.RDi)(document),document},deps:[]}]),Gs=new d.OlP(""),Id=[{provide:d.rWj,useClass:class py{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(m){l=l||m,a--,0==a&&r(l)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Cd=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ja(){return new d.qLn},deps:[]},{provide:El,useClass:Ka,multi:!0,deps:[Te,d.R0b,d.Lbi]},{provide:El,useClass:rs,multi:!0,deps:[Te]},{provide:Ed,useClass:Ed,deps:[Ko,js,d.AFp]},{provide:d.FYo,useExisting:Ed},{provide:mo,useExisting:js},{provide:js,useClass:js,deps:[Te]},{provide:Ko,useClass:Ko,deps:[El,d.R0b]},{provide:class sd{},useClass:_d,deps:[]},[]];let Dd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:pn,useExisting:d.AFp},yd]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gs,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Cd,...Id],imports:[sy,d.hGG]}),n})(),zs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Td(){return new zs((0,d.LFG)(Te))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class Sl{}const qs="*";function na(n,e){return{type:7,name:n,definitions:e,options:{}}}function nr(n,e=null){return{type:4,styles:e,timings:n}}function xd(n,e=null){return{type:2,steps:n,options:e}}function rr(n){return{type:6,styles:n,offset:null}}function ra(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function xl(n){Promise.resolve().then(n)}class Ei{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ky{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?xl(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ml(n){return new d.vHH(3e3,!1)}function ua(){return typeof window<"u"&&typeof window.document<"u"}function wo(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function is(n){switch(n.length){case 0:return new Ei;case 1:return n[0];default:return new ky(n)}}function jy(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let m=-1,v=null;if(r.forEach(C=>{const D=C.get("offset"),k=D==m,F=k&&v||new Map;C.forEach((G,Q)=>{let J=Q,Ie=G;if("offset"!==Q)switch(J=e.normalizePropertyName(J,l),Ie){case"!":Ie=i.get(Q);break;case qs:Ie=a.get(Q);break;default:Ie=e.normalizeStyleValue(Q,J,Ie,l)}F.set(J,Ie)}),k||f.push(F),v=F,m=D}),l.length)throw function cu(n){return new d.vHH(3502,!1)}();return f}function Ol(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&hu(t,"start",n)));break;case"done":n.onDone(()=>r(t&&hu(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&hu(t,"destroy",n)))}}function hu(n,e,t){const a=Qf(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function Qf(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Tr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Fl(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fu=(n,e)=>!1,la=(n,e,t)=>[],pu=null;function Ud(n){const e=n.parentNode||n.host;return e===pu?null:e}(wo()||typeof Element<"u")&&(ua()?(pu=(()=>document.documentElement)(),fu=(n,e)=>{for(;e;){if(e===n)return!0;e=Ud(e)}return!1}):fu=(n,e)=>n.contains(e),la=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ms=null,Hy=!1;const Gy=fu,zy=la;let qy=(()=>{class n{validateStyleProperty(t){return function Xf(n){ms||(ms=function Bd(){return typeof document<"u"?document.body:null}()||{},Hy=!!ms.style&&"WebkitAppearance"in ms.style);let e=!0;return ms.style&&!function $y(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ms.style,!e&&Hy&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ms.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Gy(t,r)}getParentElement(t){return Ud(t)}query(t,r,i){return zy(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],m){return new Ei(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),tp=(()=>{class n{}return n.NOOP=new qy,n})();const $d="ng-enter",gu="ng-leave",ca="ng-trigger",mu=".ng-trigger",Hd="ng-animating",Vl=".ng-animating";function ir(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Gd(parseFloat(e[1]),e[2])}function Gd(n,e){return"s"===e?1e3*n:n}function da(n,e,t){return n.hasOwnProperty("duration")?n:function Ky(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Ml()),{duration:0,delay:0,easing:""};i=Gd(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=Gd(parseFloat(m),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function Py(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Md(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,Ml())}return{duration:i,delay:a,easing:l}}(n,e,t)}function ha(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ul(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ys(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function zd(n,e,t){return t?e+":"+t+";":""}function rp(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zd(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zd(0,jl(t),n.style[t]));n.setAttribute("style",e)}function ss(n,e,t){n.style&&(e.forEach((r,i)=>{const a=qd(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),wo()&&rp(n))}function An(n,e){n.style&&(e.forEach((t,r)=>{const i=qd(r);n.style[i]=""}),wo()&&rp(n))}function Eo(n){return Array.isArray(n)?1==n.length?n[0]:xd(n):n}const bo=new RegExp("{{\\s*(.+?)\\s*}}","g");function dr(n){let e=[];if("string"==typeof n){let t;for(;t=bo.exec(n);)e.push(t[1]);bo.lastIndex=0}return e}function Fi(n,e,t){const r=n.toString(),i=r.replace(bo,(a,l)=>{let f=e[l];return null==f&&(t.push(function Rd(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function yu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ip=/-+([a-z0-9])/g;function qd(n){return n.replace(ip,(...e)=>e[1].toUpperCase())}function jl(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Nd(n){return new d.vHH(3004,!1)}()}}function $l(n,e){return window.getComputedStyle(n)[e]}function sp(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function t_(n,e,t){if(":"==n[0]){const m=function op(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Yf(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function kl(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(y(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(y(l,i))}(r,t,e)):t.push(n),t}const w=new Set(["true","1"]),p=new Set(["false","0"]);function y(n,e){const t=w.has(n)||p.has(n),r=w.has(e)||p.has(e);return(i,a)=>{let l="*"==n||n==i,f="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?w.has(n):p.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?w.has(e):p.has(e)),l&&f}}const E=":self",S=new RegExp(`s*${E}s*,?`,"g");function M(n,e,t,r){return new ne(n).build(e,t,r)}class ne{constructor(e){this._driver=e}build(e,t,r){const i=new at(t);return this._resetContextStyleTimingState(i),Sr(this,Eo(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function zE(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,a.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,l.push(m)}else t.errors.push(function Oi(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{dr(m).forEach(v=>{l.hasOwnProperty(v)||a.add(v)})})}),a.size&&(yu(a.values()),t.errors.push(function au(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Sr(this,Eo(e.animation),t);return{type:1,matchers:sp(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Gr(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Sr(this,r,t)),options:Gr(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=Sr(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Gr(e.options)}}visitAnimate(e,t){const r=function Hr(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Co(da(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Co(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=da(t,e);return Co(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:rr({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=rr(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===qs?r.push(f):t.errors.push(new d.vHH(3002,!1)):r.push(Ul(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let m of f.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(m);let D=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function Oy(n,e,t,r,i){return new d.vHH(3010,!1)}()),D=!1),a=C.startTime),D&&v.set(m,{startTime:a,endTime:i}),t.options&&function Bl(n,e,t){const r=e.params||{},i=dr(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Rl(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kd(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,m=!1,v=0;const C=e.steps.map(Ie=>{const Fe=this._makeStyleAst(Ie,t);let Le=null!=Fe.offset?Fe.offset:function Ht(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fe.styles),$e=0;return null!=Le&&(a++,$e=Fe.offset=Le),m=m||$e<0||$e>1,f=f||$e<v,v=$e,l.push($e),Fe});m&&t.errors.push(function Pd(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function uu(){return new d.vHH(3200,!1)}());const D=e.steps.length;let k=0;a>0&&a<D?t.errors.push(function oa(){return new d.vHH(3202,!1)}()):0==a&&(k=1/(D-1));const F=D-1,G=t.currentTime,Q=t.currentAnimateTimings,J=Q.duration;return C.forEach((Ie,Fe)=>{const Le=k>0?Fe==F?1:k*Fe:l[Fe],$e=Le*J;t.currentTime=G+Q.delay+$e,Q.duration=$e,this._validateStyleAst(Ie,t),Ie.offset=Le,r.styles.push(Ie)}),r}visitReference(e,t){return{type:8,animation:Sr(this,Eo(e.animation),t),options:Gr(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gr(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gr(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function Pe(n){const e=!!n.split(/\s*,\s*/).find(t=>t==E);return e&&(n=n.replace(S,"")),n=n.replace(/@\*/g,mu).replace(/@\w+/g,t=>mu+"-"+t.slice(1)).replace(/:animating/g,Vl),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Tr(t.collectedStyles,t.currentQuerySelector,new Map);const f=Sr(this,Eo(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Gr(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Od(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:da(e.timings,t.errors,!0);return{type:12,animation:Sr(this,Eo(e.animation),t),timings:r,options:null}}}class at{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gr(n){return n?(n=ha(n)).params&&(n.params=function Ge(n){return n?ha(n):null}(n.params)):n={},n}function Co(n,e,t){return{duration:n,delay:e,easing:t}}function fa(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class Do{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Zd=new RegExp(":enter","g"),Yd=new RegExp(":leave","g");function Li(n,e,t,r,i,a=new Map,l=new Map,f,m,v=[]){return(new Qd).buildKeyframes(n,e,t,r,i,a,l,f,m,v)}class Qd{buildKeyframes(e,t,r,i,a,l,f,m,v,C=[]){v=v||new Do;const D=new wu(e,t,v,i,a,C,[]);D.options=m;const k=m.delay?ir(m.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([l],null,D.errors,m),Sr(this,r,D);const F=D.timelines.filter(G=>G.containsAnimation());if(F.length&&f.size){let G;for(let Q=F.length-1;Q>=0;Q--){const J=F[Q];if(J.element===t){G=J;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,D.errors,m)}return F.length?F.map(G=>G.buildKeyframes()):[fa(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:ir(Fi(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?ir(r.duration):null,f=null!=r.delay?ir(r.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Sr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vu);const l=ir(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Sr(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ir(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Sr(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return da(t.params?Fi(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ir(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vu);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,v);a&&D.delayNextStep(a),v===t.element&&(m=D.currentTimeline),Sr(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const C=t.currentTimeline;m&&C.delayNextStep(m);const D=C.currentTime;Sr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-D+(i.startTime-r.currentTimeline.startTime)}}const vu={};class wu{constructor(e,t,r,i,a,l,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Jd(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ir(r.duration)),null!=r.delay&&(i.delay=ir(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Fi(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new wu(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=vu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new up(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Zd,"."+this._enterClassName)).replace(Yd,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&l.push(function Vn(n){return new d.vHH(3014,!1)}()),f}}class Jd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Jd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qs),this._currentKeyframe.set(t,qs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function KE(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,qs)}else ys(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of l){const v=Fi(m,a,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??qs),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const v=ys(f,new Map,this._backFill);v.forEach((C,D)=>{"!"===C?e.add(D):C===qs&&t.add(D)}),r||v.set("offset",m/this.duration),i.push(v)});const a=e.size?yu(e.values()):[],l=t.size?yu(t.values()):[];if(r){const f=i[0],m=new Map(f);f.set("offset",0),m.set("offset",1),i=[f,m]}return fa(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class up extends Jd{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,m=ys(e[0]);m.set("offset",0),a.push(m);const v=ys(e[0]);v.set("offset",ZE(f)),a.push(v);const C=e.length-1;for(let D=1;D<=C;D++){let k=ys(e[D]);const F=k.get("offset");k.set("offset",ZE((t+F*r)/l)),a.push(k)}r=l,t=0,i="",e=a}return fa(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function ZE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lp{}const QE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cp extends lp{normalizePropertyName(e,t){return qd(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(QE.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function sa(n,e){return new d.vHH(3005,!1)}())}return l+a}}function Xd(n,e,t,r,i,a,l,f,m,v,C,D,k){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:D,errors:k}}const dp={};class hp{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function n_(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,m,v,C){const D=[],k=this.ast.options&&this.ast.options.params||dp,G=this.buildStyles(r,f&&f.params||dp,D),Q=m&&m.params||dp,J=this.buildStyles(i,Q,D),Ie=new Set,Fe=new Map,Le=new Map,$e="void"===i,It={params:eh(Q,k),delay:this.ast.options?.delay},Ct=C?[]:Li(e,t,this.ast.animation,a,l,G,J,It,v,D);let nn=0;if(Ct.forEach(xi=>{nn=Math.max(xi.duration+xi.delay,nn)}),D.length)return Xd(t,this._triggerName,r,i,$e,G,J,[],[],Fe,Le,nn,D);Ct.forEach(xi=>{const ll=xi.element,wj=Tr(Fe,ll,new Set);xi.preStyleProps.forEach(If=>wj.add(If));const RE=Tr(Le,ll,new Set);xi.postStyleProps.forEach(If=>RE.add(If)),ll!==t&&Ie.add(ll)});const Zn=yu(Ie.values());return Xd(t,this._triggerName,r,i,$e,G,J,Ct,Zn,Fe,Le,nn)}}function eh(n,e){const t=ha(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class LS{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ha(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=Fi(l,i,t));const m=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,m,l,t),r.set(m,l)})}),r}}class VS{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new LS(i.style,i.options&&i.options.params||{},r))}),r_(this.states,"true","1"),r_(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hp(e,i,this.states))}),this.fallbackTransition=function US(n,e,t){return new hp(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function r_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const i_=new Do;class fp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=M(this._driver,t,r,[]);if(r.length)throw function Ly(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=jy(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=Li(this._driver,t,a,$d,gu,new Map,new Map,r,i_,i),l.forEach(C=>{const D=Tr(f,C.element,new Map);C.postStyleProps.forEach(k=>D.set(k,null))})):(i.push(function Fd(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function _o(n){return new d.vHH(3504,!1)}();f.forEach((C,D)=>{C.forEach((k,F)=>{C.set(F,this._driver.computeStyle(D,F,qs))})});const v=is(l.map(C=>{const D=f.get(C.element);return this._buildPlayer(C,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Pl(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Qf(t,"","","");return Ol(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pp="ng-animate-queued",s_="ng-animate-disabled",o_=[],eb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ri="__ng_removed";class th{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function HS(n){return n??null}(r?e.value:e),r){const a=ha(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const zl="void",gp=new th(zl);class nb{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_s(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function vo(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function Vy(n){return new d.vHH(3303,!1)}();if(!function GS(n){return"start"==n||"done"==n}(r))throw function Ld(n,e){return new d.vHH(3400,!1)}();const a=Tr(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=Tr(this._engine.statesByElement,e,new Map);return f.has(t)||(_s(e,ca),_s(e,ca+"-"+t),f.set(t,gp)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(l);m>=0&&a.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function aa(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new a_(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(_s(e,ca),_s(e,ca+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new th(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=gp),v.value!==zl&&m.value===v.value){if(!function sb(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,v.params)){const Q=[],J=a.matchStyles(m.value,m.params,Q),Ie=a.matchStyles(v.value,v.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{An(e,J),ss(e,Ie)})}return}const k=Tr(this._engine.playersByElement,e,[]);k.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let F=a.matchTransition(m.value,v.value,e,v.params),G=!1;if(!F){if(!i)return;F=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:m,toState:v,player:l,isFallbackTransition:G}),G||(_s(e,pp),l.onStart(()=>{nh(e,pp)})),l.onDone(()=>{let Q=this.players.indexOf(l);Q>=0&&this.players.splice(Q,1);const J=this._engine.playersByElement.get(e);if(J){let Ie=J.indexOf(l);Ie>=0&&J.splice(Ie,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,mu,!0);r.forEach(i=>{if(i[ri])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const C=this.trigger(e,v,zl,i);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&is(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const m=this._triggers.get(l).fallbackTransition,v=r.get(l)||gp,C=new th(zl),D=new a_(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ri];(!a||a===eb)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){_s(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const m=Qf(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,Ol(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rb{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(mp(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mp(t))return;const a=t[ri];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_s(e,s_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nh(e,s_))}removeNode(e,t,r,i){if(mp(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[ri]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return mp(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,mu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Vl,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return is(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ri];if(t&&t.setForRemoval){if(e[ri]=eb,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(s_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)_s(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?is(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function du(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Do,i=[],a=new Map,l=[],f=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(dt=>{C.add(dt);const Dt=this.driver.query(dt,".ng-animate-queued",!0);for(let Mt=0;Mt<Dt.length;Mt++)C.add(Dt[Mt])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),F=ib(k,this.collectedEnterElements),G=new Map;let Q=0;F.forEach((dt,Dt)=>{const Mt=$d+Q++;G.set(Dt,Mt),dt.forEach(un=>_s(un,Mt))});const J=[],Ie=new Set,Fe=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Dt=this.collectedLeaveElements[dt],Mt=Dt[ri];Mt&&Mt.setForRemoval&&(J.push(Dt),Ie.add(Dt),Mt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(un=>Ie.add(un)):Fe.add(Dt))}const Le=new Map,$e=ib(k,Array.from(Ie));$e.forEach((dt,Dt)=>{const Mt=gu+Q++;Le.set(Dt,Mt),dt.forEach(un=>_s(un,Mt))}),e.push(()=>{F.forEach((dt,Dt)=>{const Mt=G.get(Dt);dt.forEach(un=>nh(un,Mt))}),$e.forEach((dt,Dt)=>{const Mt=Le.get(Dt);dt.forEach(un=>nh(un,Mt))}),J.forEach(dt=>{this.processLeaveNode(dt)})});const It=[],Ct=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Mt=>{const un=Mt.player,Jr=Mt.element;if(It.push(un),this.collectedEnterElements.length){const Mi=Jr[ri];if(Mi&&Mi.setForMove){if(Mi.previousTriggersValues&&Mi.previousTriggersValues.has(Mt.triggerName)){const Cf=Mi.previousTriggersValues.get(Mt.triggerName),uo=this.statesByElement.get(Mt.element);if(uo&&uo.has(Mt.triggerName)){const xS=uo.get(Mt.triggerName);xS.value=Cf,uo.set(Mt.triggerName,xS)}}return void un.destroy()}}const Oa=!D||!this.driver.containsElement(D,Jr),Fs=Le.get(Jr),Zc=G.get(Jr),Kn=this._buildInstruction(Mt,r,Zc,Fs,Oa);if(Kn.errors&&Kn.errors.length)return void Ct.push(Kn);if(Oa)return un.onStart(()=>An(Jr,Kn.fromStyles)),un.onDestroy(()=>ss(Jr,Kn.toStyles)),void i.push(un);if(Mt.isFallbackTransition)return un.onStart(()=>An(Jr,Kn.fromStyles)),un.onDestroy(()=>ss(Jr,Kn.toStyles)),void i.push(un);const Ij=[];Kn.timelines.forEach(Mi=>{Mi.stretchStartingKeyframe=!0,this.disabledNodes.has(Mi.element)||Ij.push(Mi)}),Kn.timelines=Ij,r.append(Jr,Kn.timelines),l.push({instruction:Kn,player:un,element:Jr}),Kn.queriedElements.forEach(Mi=>Tr(f,Mi,[]).push(un)),Kn.preStyleProps.forEach((Mi,Cf)=>{if(Mi.size){let uo=m.get(Cf);uo||m.set(Cf,uo=new Set),Mi.forEach((xS,lP)=>uo.add(lP))}}),Kn.postStyleProps.forEach((Mi,Cf)=>{let uo=v.get(Cf);uo||v.set(Cf,uo=new Set),Mi.forEach((xS,lP)=>uo.add(lP))})});if(Ct.length){const dt=[];Ct.forEach(Dt=>{dt.push(function By(n,e){return new d.vHH(3505,!1)}())}),It.forEach(Dt=>Dt.destroy()),this.reportError(dt)}const nn=new Map,Zn=new Map;l.forEach(dt=>{const Dt=dt.element;r.has(Dt)&&(Zn.set(Dt,Dt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,nn))}),i.forEach(dt=>{const Dt=dt.element;this._getPreviousPlayers(Dt,!1,dt.namespaceId,dt.triggerName,null).forEach(un=>{Tr(nn,Dt,[]).push(un),un.destroy()})});const xi=J.filter(dt=>ob(dt,m,v)),ll=new Map;ql(ll,this.driver,Fe,v,qs).forEach(dt=>{ob(dt,m,v)&&xi.push(dt)});const RE=new Map;F.forEach((dt,Dt)=>{ql(RE,this.driver,new Set(dt),m,"!")}),xi.forEach(dt=>{const Dt=ll.get(dt),Mt=RE.get(dt);ll.set(dt,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const If=[],Ej=[],bj={};l.forEach(dt=>{const{element:Dt,player:Mt,instruction:un}=dt;if(r.has(Dt)){if(C.has(Dt))return Mt.onDestroy(()=>ss(Dt,un.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(un.totalTime),void i.push(Mt);let Jr=bj;if(Zn.size>1){let Fs=Dt;const Zc=[];for(;Fs=Fs.parentNode;){const Kn=Zn.get(Fs);if(Kn){Jr=Kn;break}Zc.push(Fs)}Zc.forEach(Kn=>Zn.set(Kn,Jr))}const Oa=this._buildAnimation(Mt.namespaceId,un,nn,a,RE,ll);if(Mt.setRealPlayer(Oa),Jr===bj)If.push(Mt);else{const Fs=this.playersByElement.get(Jr);Fs&&Fs.length&&(Mt.parentPlayer=is(Fs)),i.push(Mt)}}else An(Dt,un.fromStyles),Mt.onDestroy(()=>ss(Dt,un.toStyles)),Ej.push(Mt),C.has(Dt)&&i.push(Mt)}),Ej.forEach(dt=>{const Dt=a.get(dt.element);if(Dt&&Dt.length){const Mt=is(Dt);dt.setRealPlayer(Mt)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<J.length;dt++){const Dt=J[dt],Mt=Dt[ri];if(nh(Dt,gu),Mt&&Mt.hasAnimation)continue;let un=[];if(f.size){let Oa=f.get(Dt);Oa&&Oa.length&&un.push(...Oa);let Fs=this.driver.query(Dt,Vl,!0);for(let Zc=0;Zc<Fs.length;Zc++){let Kn=f.get(Fs[Zc]);Kn&&Kn.length&&un.push(...Kn)}}const Jr=un.filter(Oa=>!Oa.destroyed);Jr.length?dP(this,Dt,Jr):this.processLeaveNode(Dt)}return J.length=0,If.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Dt=this.players.indexOf(dt);this.players.splice(Dt,1)}),dt.play()}),If}elementContainsData(e,t){let r=!1;const i=t[ri];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const m=!a||a==zl;f.forEach(v=>{v.queued||!m&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,C=v!==a,D=Tr(r,v,[]);this._getPreviousPlayers(v,C,l,f,t.toState).forEach(F=>{const G=F.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),F.destroy(),D.push(F)})}An(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,m=t.element,v=[],C=new Set,D=new Set,k=t.timelines.map(G=>{const Q=G.element;C.add(Q);const J=Q[ri];if(J&&J.removedBeforeQueried)return new Ei(G.duration,G.delay);const Ie=Q!==m,Fe=function hP(n){const e=[];return zS(n,e),e}((r.get(Q)||o_).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===Q),Le=a.get(Q),$e=l.get(Q),It=jy(0,this._normalizer,0,G.keyframes,Le,$e),Ct=this._buildPlayer(G,It,Fe);if(G.subTimeline&&i&&D.add(Q),Ie){const nn=new a_(e,f,Q);nn.setRealPlayer(Ct),v.push(nn)}return Ct});v.forEach(G=>{Tr(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function $S(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,G.element,G))}),C.forEach(G=>_s(G,Hd));const F=is(k);return F.onDestroy(()=>{C.forEach(G=>nh(G,Hd)),ss(m,t.toStyles)}),D.forEach(G=>{Tr(i,G,[]).push(F)}),F}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ei(e.duration,e.delay)}}class a_{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ei,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ol(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Tr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mp(n){return n&&1===n.nodeType}function To(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ql(n,e,t,r,i){const a=[];t.forEach(m=>a.push(To(m)));const l=[];r.forEach((m,v)=>{const C=new Map;m.forEach(D=>{const k=e.computeStyle(v,D,i);C.set(D,k),(!k||0==k.length)&&(v[ri]=tb,l.push(v))}),n.set(v,C)});let f=0;return t.forEach(m=>To(m,a[f++])),l}function ib(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(f){if(!f)return 1;let m=a.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:i.has(v)?1:l(v),a.set(f,m),m}return e.forEach(f=>{const m=l(f);1!==m&&t.get(m).push(f)}),t}function _s(n,e){n.classList?.add(e)}function nh(n,e){n.classList?.remove(e)}function dP(n,e,t){is(t).onDone(()=>n.processLeaveNode(e))}function zS(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ky?zS(r.players,e):e.push(r)}}function ob(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class yp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new rb(e,t,r),this._timelineEngine=new fp(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const m=[],C=M(this._driver,a,m,[]);if(m.length)throw function Fy(n,e){return new d.vHH(3404,!1)}();f=function XE(n,e,t){return new VS(n,e,t)}(i,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=Fl(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=Fl(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let WS=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ss(this._element,this._initialStyles),this._endStyles&&(ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(An(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),ss(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rh(n){let e=null;return n.forEach((t,r)=>{(function So(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Wl{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:$l(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ab{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Gy(e,t)}getParentElement(e){return Ud(e)}query(e,t,r){return zy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const v=new Map,C=l.filter(F=>F instanceof Wl);(function Qy(n,e){return 0===n||0===e})(r,i)&&C.forEach(F=>{F.currentSnapshot.forEach((G,Q)=>v.set(Q,G))});let D=function Yy(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ul(e)):[]}(t).map(F=>ys(F));D=function Jy(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,$l(n,f)))}}return e}(e,D,v);const k=function qS(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=rh(e[0]),e.length>1&&(r=rh(e[e.length-1]))):e instanceof Map&&(t=rh(e)),t||r?new WS(n,t,r):null}(e,D);return new Wl(e,D,m,k)}}let ub=(()=>{class n extends Sl{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?xd(t):t;return ZS(this._renderer,null,r,"register",[i]),new lb(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Te))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class lb extends class ou{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fP(this._id,e,t||{},this._renderer)}}class fP{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZS(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const _p="@.disabled";let l_=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(a);return C||(C=new KS("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(l,f,t,C.name,C)};return r.data.animation.forEach(m),new pP(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(yp),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class KS{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==_p?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pP extends KS{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_p?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function cb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function YS(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let QS=(()=>{class n extends yp{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Te),d.LFG(tp),d.LFG(lp),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const c_=[{provide:Sl,useClass:ub},{provide:lp,useFactory:function JS(){return new cp}},{provide:yp,useClass:QS},{provide:d.FYo,useFactory:function XS(n,e,t){return new l_(n,e,t)},deps:[Ed,yp,d.R0b]}],Zl=[{provide:tp,useFactory:()=>new ab},{provide:d.QbO,useValue:"BrowserAnimations"},...c_],db=[{provide:tp,useClass:qy},{provide:d.QbO,useValue:"NoopAnimations"},...c_];let d_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?db:Zl}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Zl,imports:[Dd]}),n})();var hn=L(8996),pa=L(7669);function ut(...n){const e=(0,pa.yG)(n);return(0,hn.D)(n,e)}var Ao=L(7579);class ii extends Ao.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vp=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var os=L(9751);const{isArray:yP}=Array,{getPrototypeOf:_P,prototype:ih,keys:h_}=Object;function f_(n){if(1===n.length){const e=n[0];if(yP(e))return{args:e,keys:null};if(function hb(n){return n&&"object"==typeof n&&_P(n)===ih}(e)){const t=h_(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var bu=L(4671),xt=L(4004);const{isArray:fb}=Array;function wp(n){return(0,xt.U)(e=>function pb(n,e){return fb(e)?n(...e):n(e)}(n,e))}function tA(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var wr=L(5403),p_=L(9672);function g_(...n){const e=(0,pa.yG)(n),t=(0,pa.jO)(n),{args:r,keys:i}=f_(n);if(0===r.length)return(0,hn.D)([],e);const a=new os.y(function gb(n,e,t=bu.y){return r=>{ga(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)ga(e,()=>{const v=(0,hn.D)(n[m],e);let C=!1;v.subscribe((0,wr.x)(r,D=>{a[m]=D,C||(C=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>tA(i,l):bu.y));return t?a.pipe(wp(t)):a}function ga(n,e,t){n?(0,p_.f)(t,n,e):e()}var sh=L(8189);function Kl(...n){return function m_(){return(0,sh.J)(1)}()((0,hn.D)(n,(0,pa.yG)(n)))}var Ep=L(8421);function bp(n){return new os.y(e=>{(0,Ep.Xf)(n()).subscribe(e)})}var Ip=L(9635),Ks=L(576);function Yl(n,e){const t=(0,Ks.m)(n)?n:()=>n,r=i=>i.error(t());return new os.y(e?i=>e.schedule(r,0,i):r)}var xo=L(515),y_=L(727),Ar=L(4482);function Cp(){return(0,Ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,wr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Iu extends os.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new y_.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=y_.w0.EMPTY)}return e}refCount(){return Cp()(this)}}function sr(n,e){return(0,Ar.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,wr.x)(r,m=>{i?.unsubscribe();let v=0;const C=a++;(0,Ep.Xf)(n(m,C)).subscribe(i=(0,wr.x)(r,D=>r.next(e?e(m,D,C,v++):D),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function oh(n){return n<=0?()=>xo.E:(0,Ar.e)((e,t)=>{let r=0;e.subscribe((0,wr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dp(...n){const e=(0,pa.yG)(n);return(0,Ar.e)((t,r)=>{(e?Kl(n,t,e):Kl(n,t)).subscribe(r)})}function vs(n,e){return(0,Ar.e)((t,r)=>{let i=0;t.subscribe((0,wr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var xr=L(5577);function Tp(n){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,wr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function __(n=nA){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,wr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nA(){return new vp}function Ys(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vs((i,a)=>n(i,a,r)):bu.y,oh(1),t?Tp(e):__(()=>new vp))}function Ql(n,e){return(0,Ks.m)(e)?(0,xr.z)(n,e,1):(0,xr.z)(n,1)}function Mr(n,e,t){const r=(0,Ks.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Ar.e)((i,a)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let f=!0;i.subscribe((0,wr.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):bu.y}function as(n){return(0,Ar.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,wr.x)(t,void 0,void 0,l=>{a=(0,Ep.Xf)(n(l,as(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function rA(n,e,t,r,i){return(a,l)=>{let f=t,m=e,v=0;a.subscribe((0,wr.x)(l,C=>{const D=v++;m=f?n(m,C,D):(f=!0,C),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}function Qs(n,e){return(0,Ar.e)(rA(n,e,arguments.length>=2,!0))}function Cu(n){return n<=0?()=>xo.E:(0,Ar.e)((e,t)=>{let r=[];e.subscribe((0,wr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mb(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vs((i,a)=>n(i,a,r)):bu.y,Cu(1),t?Tp(e):__(()=>new vp))}function v_(n){return(0,Ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",ah=Symbol("RouteTitle");class _b{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Du(n){return new _b(n)}function w_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Sp(n[i],e[i]))return!1;return!0}function Sp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Jl(n){return Array.prototype.concat.apply([],n)}function vb(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ma(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,hn.D)(Promise.resolve(n)):ut(n)}const iA={exact:function Eb(n,e,t){if(!_a(n.segments,e.segments)||!I_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Eb(n.children[r],e.children[r],t))return!1;return!0},subset:oA},Tu={exact:function sA(n,e){return Js(n,e)},subset:function EP(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Sp(n[t],e[t]))},ignored:()=>!0};function Xs(n,e,t){return iA[t.paths](n.root,e.root,t.matrixParams)&&Tu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oA(n,e,t){return b_(n,e,e.segments,t)}function b_(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_a(i,t)||e.hasChildren()||!I_(i,t,r))}if(n.segments.length===t.length){if(!_a(n.segments,t)||!I_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!oA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(_a(n.segments,i)&&I_(n.segments,i,r)&&n.children[Gt])&&b_(n.children[Gt],e,a,r)}}function I_(n,e,t){return e.every((r,i)=>Tu[t](n[i].parameters,r.parameters))}class ya{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return lA.serialize(this)}}class Jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uh(this)}}class Xl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Du(this.parameters)),this._parameterMap}toString(){return Db(this)}}function _a(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let bb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Vi},providedIn:"root"}),n})();class Vi{parse(e){const t=new xb(e);return new ya(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lh(e.root,!0)}`,r=function Tb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xp(t)}=${xp(i)}`).join("&"):`${xp(t)}=${xp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function cA(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lA=new Vi;function uh(n){return n.segments.map(e=>Db(e)).join("/")}function lh(n,e){if(!n.hasChildren())return uh(n);if(e){const t=n.children[Gt]?lh(n.children[Gt],!1):"",r=[];return Rr(n.children,(i,a)=>{a!==Gt&&r.push(`${a}:${lh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uA(n,e){let t=[];return Rr(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),Rr(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[lh(n.children[Gt],!1)]:[`${i}:${lh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${uh(n)}/${t[0]}`:`${uh(n)}/(${t.join("//")})`}}function Ib(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return Ib(n).replace(/%3B/gi,";")}function Mp(n){return Ib(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(n){return decodeURIComponent(n)}function Cb(n){return Rp(n.replace(/\+/g,"%20"))}function Db(n){return`${Mp(n.path)}${function Pt(n){return Object.keys(n).map(e=>`;${Mp(e)}=${Mp(n[e])}`).join("")}(n.parameters)}`}const Sb=/^[^\/()?;=#]+/;function ch(n){const e=n.match(Sb);return e?e[0]:""}const dA=/^[^=?&#]+/,Ab=/^[^&#]+/;class xb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Jt(e,t)),r}parseSegment(){const e=ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Xl(Rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ch(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ch(this.remaining);i&&(r=i,this.capture(r))}e[Rp(t)]=Rp(r)}parseQueryParam(e){const t=function hA(n){const e=n.match(dA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function fA(n){const e=n.match(Ab);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Cb(t),a=Cb(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ch(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Gt]:new Jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function C_(n){return n.segments.length>0?new Jt([],{[Gt]:n}):n}function Np(n){const e={};for(const r of Object.keys(n.children)){const a=Np(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function bP(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Jt(n.segments.concat(e.segments),e.children)}return n}(new Jt(n.segments,e))}function va(n){return n instanceof ya}function T_(n,e,t,r,i){if(0===t.length)return hh(e.root,e.root,e.root,r,i);const a=function S_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Mb(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Rr(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Mb(t,e,r)}(t);return a.toRoot()?hh(e.root,e.root,new Jt([],{}),r,i):function l(m){const v=function tc(n,e,t,r){if(n.isAbsolute)return new fh(e.root,!0,0);if(-1===r)return new fh(t,t===e.root,0);return function Rb(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new fh(r,!1,i-a)}(t,r+(dh(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),C=v.processChildren?ph(v.segmentGroup,v.index,a.commands):nc(v.segmentGroup,v.index,a.commands);return hh(e.root,v.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function dh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pp(n){return"object"==typeof n&&null!=n&&n.outlets}function hh(n,e,t,r,i){let l,a={};r&&Rr(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),l=n===e?t:gA(n,e,t);const f=C_(Np(l));return new ya(f,a,i)}function gA(n,e,t){const r={};return Rr(n.children,(i,a)=>{r[a]=i===e?t:gA(i,e,t)}),new Jt(n.segments,r)}class Mb{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dh(r[0]))throw new d.vHH(4003,!1);const i=r.find(Pp);if(i&&i!==vb(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nc(n,e,t){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return ph(n,e,t);const r=function kb(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(Pp(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ob(m,v,l))return a;r+=2}else{if(!Ob(m,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Jt(n.segments.slice(0,r.pathIndex),{});return a.children[Gt]=new Jt(n.segments.slice(r.pathIndex),n.children),ph(a,0,i)}return r.match&&0===i.length?new Jt(n.segments,{}):r.match&&!n.hasChildren()?A_(n,e,t):r.match?ph(n,0,i):A_(n,e,t)}function ph(n,e,t){if(0===t.length)return new Jt(n.segments,{});{const r=function Nb(n){return Pp(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return Rr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=nc(n.children[l],e,a))}),Rr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Jt(n.segments,i)}}function A_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Pp(a)){const m=yA(a.outlets);return new Jt(r,m)}if(0===i&&dh(t[0])){r.push(new Xl(n.segments[e].path,Pb(t[0]))),i++;continue}const l=Pp(a)?a.outlets[Gt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&dh(f)?(r.push(new Xl(l,Pb(f))),i+=2):(r.push(new Xl(l,{})),i++)}return new Jt(r,{})}function yA(n){const e={};return Rr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=A_(new Jt([],{}),0,t))}),e}function Pb(n){const e={};return Rr(n,(t,r)=>e[r]=`${t}`),e}function Ob(n,e,t){return n==t.path&&Js(e,t.parameters)}class Mo{constructor(e,t){this.id=e,this.url=t}}class Op extends Mo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends Mo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gh extends Mo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class x_ extends Mo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class M_ extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IP extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R_ extends Mo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _A extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CP extends Mo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rc{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fb{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ub{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eo{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lp(e,this._root).map(t=>t.value)}}function mh(n,e){if(n===e.value)return e;for(const t of e.children){const r=mh(n,t);if(r)return r}return null}function Lp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lp(n,t);if(r.length)return r.unshift(e),r}return[]}class Es{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class k_ extends eo{constructor(e,t){super(e),this.snapshot=t,O_(this,e)}toString(){return this.snapshot.toString()}}function vA(n,e){const t=function Vp(n,e){const l=new ic([],{},{},"",{},Gt,e,null,n.root,-1,{});return new wA("",new Es(l,[]))}(n,e),r=new ii([new Xl("",{})]),i=new ii({}),a=new ii({}),l=new ii({}),f=new ii(""),m=new bs(r,i,l,f,a,Gt,e,t.root);return m.snapshot=t.root,new k_(new Es(m,[]),t)}class bs{constructor(e,t,r,i,a,l,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,xt.U)(v=>v[ah]))??ut(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Up(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function P_(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ic{constructor(e,t,r,i,a,l,f,m,v,C,D,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.[ah],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._correctedLastPathIndex=k??C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wA extends eo{constructor(e,t){super(t),this.url=e,O_(this,t)}toString(){return Bb(this._root)}}function O_(n,e){e.value._routerState=n,e.children.forEach(t=>O_(n,t))}function Bb(n){const e=n.children.length>0?` { ${n.children.map(Bb).join(", ")} } `:"";return`${n.value}${e}`}function F_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Js(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Js(e.params,t.params)||n.params.next(t.params),function E_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Js(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function L_(n,e){const t=Js(n.params,e.params)&&function aA(n,e){return _a(n,e)&&n.every((t,r)=>Js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||L_(n.parent,e.parent))}function Bp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function EA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bp(n,r,i);return Bp(n,r)})}(n,e,t);return new Es(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Bp(n,f)),l}}const r=function DP(n){return new bs(new ii(n.url),new ii(n.params),new ii(n.queryParams),new ii(n.fragment),new ii(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Bp(n,a));return new Es(r,i)}}const jp="ngNavigationCancelingError";function V_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=va(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$b(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function $b(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function $p(n){return bA(n)&&va(n.url)}function bA(n){return n&&n[jp]}class TP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hp,this.attachRef=null}}let Hp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new TP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U_=!1;let Hb=(()=>{class n{constructor(t,r,i,a,l){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,U_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,U_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,U_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,U_);this._activatedRoute=t;const i=this.location,l=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new SP(t,f,i.injector);if(r&&function AP(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Hp),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class SP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bs?this.route:e===Hp?this.childContexts:this.parent.get(e,t)}}let Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Hb],encapsulation:2}),n})();function IA(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $_(n){const e=n.children&&n.children.map($_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=Gb),t}function fr(n){return n.outlet||Gt}function H_(n,e){const t=n.filter(r=>fr(r)===e);return t.push(...n.filter(r=>fr(r)!==e)),t}function _h(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Wb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),F_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yh(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Rr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yh(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yh(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yh(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Vb(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Fp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(F_(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),F_(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=_h(i.snapshot),m=f?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Zb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zp{constructor(e,t){this.component=e,this.route=t}}function qp(n,e,t){const r=n._root;return to(r,e?e._root:null,t,[r.value])}function wa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function to(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=yh(e);return n.children.forEach(l=>{(function G_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function Wp(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_a(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_a(n.url,e.url)||!Js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L_(n,e)||!Js(n.queryParams,e.queryParams);default:return!L_(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Zb(r)):(a.data=l.data,a._resolvedData=l._resolvedData),to(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new zp(f.outlet.component,l))}else l&&oc(e,f,i),i.canActivateChecks.push(new Zb(r)),to(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Rr(a,(l,f)=>oc(l,t.getContext(f),i)),i}function oc(n,e,t){const r=yh(n),i=n.value;Rr(r,(a,l)=>{oc(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new zp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ac(n){return"function"==typeof n}function Z_(n){return n instanceof vp||"EmptyError"===n?.name}const vh=Symbol("INITIAL_VALUE");function xu(){return sr(n=>g_(n.map(e=>e.pipe(oh(1),Dp(vh)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===vh)return vh;if(!1===t||t instanceof ya)return t}return!0}),vs(e=>e!==vh),oh(1)))}function Xb(n){return(0,Ip.z)(Mr(e=>{if(va(e))throw V_(0,e)}),(0,xt.U)(e=>!0===e))}const Zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eI(n,e,t,r,i){const a=Kp(n,e,t);return a.matched?function MA(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ut(i.map(l=>{const f=wa(l,n);return ma(function MP(n){return n&&ac(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(xu(),Xb()):ut(!0)}(r=IA(e,r),e,t).pipe((0,xt.U)(l=>!0===l?a:{...Zp})):ut(a)}function Kp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Zp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||w_)(t,n,e);if(!i)return{...Zp};const a={};Rr(i.posParams,(f,m)=>{a[m]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Yp(n,e,t,r,i="corrected"){if(t.length>0&&function nI(n,e,t){return t.some(r=>Bi(n,e,r)&&fr(r)!==Gt)}(n,t,r)){const l=new Jt(e,function tI(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&fr(a)!==Gt){const l=new Jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[fr(a)]=l}return i}(n,e,r,new Jt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function NA(n,e,t){return t.some(r=>Bi(n,e,r))}(n,t,r)){const l=new Jt(n.segments,function RA(n,e,t,r,i,a){const l={};for(const f of r)if(Bi(n,t,f)&&!i[fr(f)]){const m=new Jt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,l[fr(f)]=m}return{...i,...l}}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const a=new Jt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Bi(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qp(n,e,t,r){return!!(fr(n)===r||r!==Gt&&Bi(e,t,n))&&("**"===n.path||Kp(e,n,t).matched)}function rI(n,e,t){return 0===e.length&&!n.children[t]}const Jp=!1;class Y_{constructor(e){this.segmentGroup=e||null}}class Q_{constructor(e){this.urlTree=e}}function wh(n){return Yl(new Y_(n))}function iI(n){return Yl(new Q_(n))}class OA{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Yp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,xt.U)(a=>this.createUrlTree(Np(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(a=>{if(a instanceof Q_)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Y_?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,xt.U)(i=>this.createUrlTree(Np(i),e.queryParams,e.fragment))).pipe(as(i=>{throw i instanceof Y_?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Jp)}createUrlTree(e,t,r){const i=C_(e);return new ya(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new Jt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,hn.D)(i).pipe(Ql(a=>{const l=r.children[a],f=H_(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,xt.U)(m=>({segment:m,outlet:a})))}),Qs((a,l)=>(a[l.outlet]=l.segment,a),{}),mb())}expandSegment(e,t,r,i,a,l){return(0,hn.D)(r).pipe(Ql(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(as(v=>{if(v instanceof Y_)return ut(null);throw v}))),Ys(f=>!!f),as((f,m)=>{if(Z_(f))return rI(t,i,a)?ut(new Jt([],{})):wh(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return Qp(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):wh(t):wh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iI(a):this.lineralizeSegments(r,a).pipe((0,xr.z)(l=>{const f=new Jt(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Kp(t,i,a);if(!f)return wh(t);const D=this.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?iI(D):this.lineralizeSegments(i,D).pipe((0,xr.z)(k=>this.expandSegment(e,t,r,k.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=IA(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Jt(i,{})))):ut(new Jt(i,{}))):eI(t,r,i,e).pipe(sr(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,xr.z)(C=>{const D=C.injector??e,k=C.routes,{segmentGroup:F,slicedSegments:G}=Yp(t,f,m,k),Q=new Jt(F.segments,F.children);if(0===G.length&&Q.hasChildren())return this.expandChildren(D,k,Q).pipe((0,xt.U)(Le=>new Jt(f,Le)));if(0===k.length&&0===G.length)return ut(new Jt(f,{}));const J=fr(r)===a;return this.expandSegment(D,Q,k,G,J?Gt:a,!0).pipe((0,xt.U)(Fe=>new Jt(f.concat(Fe.segments),Fe.children)))})):wh(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function xA(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ut(!0):ut(i.map(l=>{const f=wa(l,n);return ma(function q_(n){return n&&ac(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(xu(),Xb())}(e,t,r).pipe((0,xr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Mr(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function J_(n){return Yl($b(Jp,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[Gt])return Yl(new d.vHH(4e3,Jp));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ya(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Rr(t.children,(f,m)=>{l[m]=this.createSegmentGroup(e,f,r,i)}),new Jt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Jp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class eg{}class PP{constructor(e,t,r,i,a,l,f,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f,this.urlSerializer=m}recognize(){const e=Yp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,xt.U)(t=>{if(null===t)return null;const r=new ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Es(r,t),a=new wA(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Up(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,hn.D)(Object.keys(r.children)).pipe(Ql(i=>{const a=r.children[i],l=H_(t,i);return this.processSegmentGroup(e,l,a,i)}),Qs((i,a)=>i&&a?(i.push(...a),i):null),function vP(n,e=!1){return(0,Ar.e)((t,r)=>{let i=0;t.subscribe((0,wr.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),Tp(null),mb(),(0,xt.U)(i=>{if(null===i)return null;const a=ev(i);return function sI(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,hn.D)(t).pipe(Ql(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Ys(l=>!!l),as(l=>{if(Z_(l))return rI(r,i,a)?ut([]):ut(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Qp(t,r,i,a))return ut(null);let l;if("**"===t.path){const f=i.length>0?vb(i).parameters:{},m=Eh(r)+i.length;l=ut({snapshot:new ic(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lc(t),fr(t),t.component??t._loadedComponent??null,t,no(r),m,uI(t),m),consumedSegments:[],remainingSegments:[]})}else l=eI(r,t,i,e).pipe((0,xt.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:C})=>{if(!f)return null;const D=Eh(r)+m.length;return{snapshot:new ic(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lc(t),fr(t),t.component??t._loadedComponent??null,t,no(r),D,uI(t),D),consumedSegments:m,remainingSegments:v}}));return l.pipe(sr(f=>{if(null===f)return ut(null);const{snapshot:m,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const D=t._loadedInjector??e,k=function oI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:G}=Yp(r,v,C,k.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===G.length&&F.hasChildren())return this.processChildren(D,k,F).pipe((0,xt.U)(J=>null===J?null:[new Es(m,J)]));if(0===k.length&&0===G.length)return ut([new Es(m,[])]);const Q=fr(t)===a;return this.processSegment(D,k,F,G,Q?Gt:a).pipe((0,xt.U)(J=>null===J?null:[new Es(m,J)]))}))}}function aI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ev(n){const e=[],t=new Set;for(const r of n){if(!aI(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ev(r.children);e.push(new Es(r.value,i))}return e.filter(r=>!t.has(r))}function no(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Eh(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function lc(n){return n.data||{}}function uI(n){return n.resolve||{}}function UA(n){return"string"==typeof n.title||null===n.title}function rv(n){return sr(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,xt.U)(()=>e)):ut(e)})}let BA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[ah]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(cI)},providedIn:"root"}),n})(),cI=(()=>{class n extends BA{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jA{}class iv extends class dI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const cc=new d.OlP("",{providedIn:"root",factory:()=>({})}),sv=new d.OlP("ROUTES");let ov=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ma(t.loadComponent()).pipe(Mr(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),v_(()=>{this.componentLoaders.delete(t)})),i=new Iu(r,()=>new Ao.x).pipe(Cp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,C=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=Jl(m.get(sv,[],d.XFs.Self|d.XFs.Optional)));return{routes:v.map($_),injector:m}}),v_(()=>{this.childrenLoaders.delete(r)})),l=new Iu(a,()=>new Ao.x).pipe(Cp());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return ma(t()).pipe((0,xr.z)(r=>r instanceof d.YKP||Array.isArray(r)?ut(r):(0,hn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HA{}class GA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ng(n){throw n}function Mu(n,e,t){return e.parse("/")}const FP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fI(){const n=(0,d.f3M)(bb),e=(0,d.f3M)(Hp),t=(0,d.f3M)(be),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),a=(0,d.f3M)(sv,{optional:!0})??[],l=(0,d.f3M)(cc,{optional:!0})??{},f=(0,d.f3M)(cI),m=(0,d.f3M)(BA,{optional:!0}),v=(0,d.f3M)(HA,{optional:!0}),C=(0,d.f3M)(jA,{optional:!0}),D=new bn(null,n,e,t,r,i,Jl(a));return v&&(D.urlHandlingStrategy=v),C&&(D.routeReuseStrategy=C),D.titleStrategy=m??f,function zA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,D),D}let bn=(()=>{class n{constructor(t,r,i,a,l,f,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ao.x,this.errorHandler=ng,this.malformedUriErrorHandler=Mu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ut(void 0),this.urlHandlingStrategy=new GA,this.routeReuseStrategy=new iv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(ov),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new Fb(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new rc(k)),this.ngModule=l.get(d.h0i),this.console=l.get(d.c2e);const D=l.get(d.R0b);this.isNgZoneEnabled=D instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function wb(){return new ya(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vA(this.currentUrlTree,this.rootComponentType),this.transitions=new ii({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(vs(i=>0!==i.id),(0,xt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sr(i=>{let a=!1,l=!1;return ut(i).pipe(Mr(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sr(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Is(f.source)&&(this.browserUrlTree=f.extractedUrl),ut(f).pipe(sr(D=>{const k=this.transitions.getValue();return r.next(new Op(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),k!==this.transitions.getValue()?xo.E:Promise.resolve(D)}),function Xp(n,e,t,r){return sr(i=>function PA(n,e,t,r,i){return new OA(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mr(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function nv(n,e,t,r,i,a){return(0,xr.z)(l=>function X_(n,e,t,r,i,a,l="emptyOnly",f="legacy"){return new PP(n,e,t,r,i,l,f,a).recognize().pipe(sr(m=>null===m?function kP(n){return new os.y(e=>e.error(n))}(new eg):ut(m)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,a).pipe((0,xt.U)(f=>({...l,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Mr(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(F,D)}this.browserUrlTree=D.urlAfterRedirects}const k=new M_(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(k)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:F,source:G,restoredState:Q,extras:J}=f,Ie=new Op(k,this.serializeUrl(F),G,Q);r.next(Ie);const Fe=vA(F,this.rootComponentType).snapshot;return ut(i={...f,targetSnapshot:Fe,urlAfterRedirects:F,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),xo.E}),Mr(f=>{const m=new IP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,xt.U)(f=>i={...f,guards:qp(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function TA(n,e){return(0,xr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?ut({...t,guardsResult:!0}):function Ui(n,e,t,r){return(0,hn.D)(n).pipe((0,xr.z)(i=>function Jb(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const m=_h(e)??i,v=wa(f,m);return ma(function DA(n){return n&&ac(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(Ys())})).pipe(xu()):ut(!0)}(i.component,i.route,t,e,r)),Ys(i=>!0!==i,!0))}(l,r,i,n).pipe((0,xr.z)(f=>f&&function z_(n){return"boolean"==typeof n}(f)?function Qb(n,e,t,r){return(0,hn.D)(e).pipe(Ql(i=>Kl(function NP(n,e){return null!==n&&e&&e(new Lb(n)),ut(!0)}(i.route.parent,r),function SA(n,e){return null!==n&&e&&e(new ws(n)),ut(!0)}(i.route,r),function K_(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function sc(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>bp(()=>ut(l.guards.map(m=>{const v=_h(l.node)??t,C=wa(m,v);return ma(function W_(n){return n&&ac(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(Ys())})).pipe(xu())));return ut(a).pipe(xu())}(n,i.path,t),function AA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(a=>bp(()=>{const l=_h(e)??t,f=wa(a,l);return ma(function Kb(n){return n&&ac(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Ys())}));return ut(i).pipe(xu())}(n,i.route,t))),Ys(i=>!0!==i,!0))}(r,a,n,e):ut(f)),(0,xt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Mr(f=>{if(i.guardsResult=f.guardsResult,va(f.guardsResult))throw V_(0,f.guardsResult);const m=new R_(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),vs(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),rv(f=>{if(f.guards.canActivateChecks.length)return ut(f).pipe(Mr(m=>{const v=new _A(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),sr(m=>{let v=!1;return ut(m).pipe(function lI(n,e){return(0,xr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let a=0;return(0,hn.D)(i).pipe(Ql(l=>function FA(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!UA(i)&&(a[ah]=i.title),function LA(n,e,t,r){const i=function Ih(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ut({});const a={};return(0,hn.D)(i).pipe((0,xr.z)(l=>function VA(n,e,t,r){const i=_h(e)??r,a=wa(n,i);return ma(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Ys(),Mr(f=>{a[l]=f}))),Cu(1),function yb(n){return(0,xt.U)(()=>n)}(a),as(l=>Z_(l)?xo.E:Yl(l)))}(a,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=Up(n,t).resolve,i&&UA(i)&&(n.data[ah]=i.title),null)))}(l.route,r,n,e)),Mr(()=>a++),Cu(1),(0,xr.z)(l=>a===i.length?ut(t):xo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mr({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),Mr(m=>{const v=new CP(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),rv(f=>{const m=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe(Mr(D=>{v.component=D}),(0,xt.U)(()=>{})));for(const D of v.children)C.push(...m(D));return C};return g_(m(f.targetSnapshot.root)).pipe(Tp(),oh(1))}),rv(()=>this.afterPreactivation()),(0,xt.U)(f=>{const m=function jb(n,e,t){const r=Bp(n,e._root,t?t._root:void 0);return new k_(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:m}}),Mr(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new Wb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Mr({next(){a=!0},complete(){a=!0}}),v_(()=>{a||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),as(f=>{if(l=!0,bA(f)){$p(f)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new gh(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(m),$p(f)){const v=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),C={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Is(i.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new x_(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(f))}catch(v){i.reject(v)}}return xo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map($_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,v=i||this.routerState.root,C=m?this.currentUrlTree.fragment:l;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...a};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=a||null}return null!==D&&(D=this.removeEmptyProps(D)),T_(v,this.currentUrlTree,t,D,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=va(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function qA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...FP}:!1===r?{...Ch}:r,va(t))return Xs(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Xs(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,v;l?(f=l.resolve,m=l.reject,v=l.promise):v=new Promise((k,F)=>{f=k,m=F});const C=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:C,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new gh(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return fI()},providedIn:"root"}),n})();function Is(n){return"imperative"!==n}class ji{}let dc=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(vs(t=>t instanceof Su),Ql(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,hn.D)(i).pipe((0,sh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const a=i.pipe((0,xr.z)(l=>null===l?ut(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,hn.D)([a,l]).pipe((0,sh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ji),d.LFG(ov))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ea=new d.OlP("");let ku=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ub&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ub(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Cs(n,e){return{\u0275kind:n,\u0275providers:e}}function ba(n){return[{provide:sv,multi:!0,useValue:n}]}function av(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(bn),i=n.get(uv);1===n.get(ig)&&r.initialNavigation(),n.get(lv,null,d.XFs.Optional)?.setUpPreloading(),n.get(Ea,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const uv=new d.OlP("",{factory:()=>new Ao.x}),ig=new d.OlP("",{providedIn:"root",factory:()=>1});const lv=new d.OlP("");function _I(n){return Cs(0,[{provide:lv,useExisting:dc},{provide:ji,useExisting:n}])}const vI=new d.OlP("ROUTER_FORROOT_GUARD"),KA=[be,{provide:bb,useClass:Vi},{provide:bn,useFactory:fI},Hp,{provide:bs,useFactory:function Pu(n){return n.routerState.root},deps:[bn]},ov];function cv(){return new d.PXZ("Router",bn)}let og=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KA,[],ba(t),{provide:vI,useFactory:dv,deps:[[bn,new d.FiY,new d.tp0]]},{provide:cc,useValue:r||{}},r?.useHash?{provide:ie,useClass:_t}:{provide:ie,useClass:it},{provide:Ea,useFactory:()=>{const n=(0,d.f3M)(bn),e=(0,d.f3M)(qo),t=(0,d.f3M)(cc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ku(n,e,t)}},r?.preloadingStrategy?_I(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:cv},r?.initialNavigation?QA(r):[],[{provide:lg,useFactory:av},{provide:d.tb,multi:!0,useExisting:lg}]]}}static forChild(t){return{ngModule:n,providers:[ba(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vI,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Gb]}),n})();function dv(n){return"guarded"}function QA(n){return["disabled"===n.initialNavigation?Cs(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(bn);return()=>{e.setUpLocationChangeListener()}}},{provide:ig,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Cs(2,[{provide:ig,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const l=e.get(bn),f=e.get(uv);(function i(a){e.get(bn).events.pipe(vs(f=>f instanceof Su||f instanceof gh||f instanceof x_),(0,xt.U)(f=>f instanceof Su||f instanceof gh&&(0===f.code||1===f.code)&&null),vs(f=>null!==f),oh(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),l.afterPreactivation=()=>(a(!0),r||f.closed?ut(void 0):f),l.initialNavigation()}))}}]).\u0275providers:[]]}const lg=new d.OlP(""),fv=na("fadeInAnimation",[ra(":enter",[rr({opacity:0}),nr("1000ms",rr({opacity:1}))]),ra(":leave",[nr("500ms",rr({opacity:0}))])]),Sh=na("menuFadeInAnimation",[ra(":enter",[rr({opacity:0}),nr("400ms",rr({opacity:1}))]),ra(":leave",[rr({opacity:1}),nr("3000ms",rr({opacity:0}))])]),wI=na("videoFadeInAnimation",[ra(":enter",[rr({opacity:0}),nr("500ms",rr({opacity:1}))]),ra(":leave",[rr({opacity:1}),nr("500ms",rr({opacity:0}))])]);let cg=(()=>{class n{constructor(){this.isMenuOpenHeader=new ii(!1),this.isMenuOpenHeader$=this.isMenuOpenHeader.asObservable(),this.isMenuOpenFooter=new ii(!1),this.isMenuOpenFooter$=this.isMenuOpenFooter.asObservable(),this.isHeaderBorder=new ii(!1),this.isHeaderBorder$=this.isHeaderBorder.asObservable(),this.isSM=new ii(!1),this.isSM$=this.isSM.asObservable()}setIsMenuOpenHeader(t){this.isMenuOpenHeader.next(t)}setIsMenuOpenFooter(t){this.isMenuOpenFooter.next(t)}setIsHeaderBorder(t){this.isHeaderBorder.next(t)}setIsSM(t){this.isSM.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pv extends y_.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Ah={setInterval(n,e,...t){const{delegate:r}=Ah;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ah;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var XA=L(8737);class gv extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return Ah.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ah.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,XA.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const dg={now:()=>(dg.delegate||Date).now(),delegate:void 0};class hc{constructor(e,t=hc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}hc.now=dg.now;class mv extends hc{constructor(e,t=hc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const yv=new mv(gv);var Ut=L(6881);(0,Ut.registerVersion)("firebase","9.22.0","app");var W=L(5861),Ye=L(2090),bi=L(4859),us=L(1877);let vv,wv;const II=new WeakMap,hg=new WeakMap,CI=new WeakMap,Wn=new WeakMap,fg=new WeakMap;let pg={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return hg.get(n);if("objectStoreNames"===e)return n.objectStoreNames||CI.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function TI(n){return"function"==typeof n?function DI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tx(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ev(this),e),$i(II.get(this))}:function(...e){return $i(n.apply(Ev(this),e))}:function(e,...t){const r=n.call(Ev(this),e,...t);return CI.set(r,e.sort?e.sort():[e]),$i(r)}}(n):(n instanceof IDBTransaction&&function rx(n){if(hg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});hg.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function UP(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,pg):n)}function $i(n){if(n instanceof IDBRequest)return function nx(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t($i(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&II.set(t,n)}).catch(()=>{}),fg.set(e,n),e}(n);if(Wn.has(n))return Wn.get(n);const e=TI(n);return e!==n&&(Wn.set(n,e),fg.set(e,n)),e}const Ev=n=>fg.get(n),ax=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],AI=new Map;function bv(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(AI.get(e))return AI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=SI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ax.includes(t))return;const a=function(){var l=(0,W.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return AI.set(e,a),a}!function ix(n){pg=n(pg)}(n=>({...n,get:(e,t,r)=>bv(e,t)||n.get(e,t,r),has:(e,t)=>!!bv(e,t)||n.has(e,t)}));const gg="@firebase/installations",MI="w:0.6.4",Ds="FIS_v2",No=new Ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kI(n){return n instanceof Ye.ZR&&n.code.includes("request-failed")}function Iv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function mg(n){return{token:n.token,requestStatus:2,expiresIn:vg(n.expiresIn),creationTime:Date.now()}}function Ou(n,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,W.Z)(function*(n,e){const r=(yield e.json()).error;return No.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Dv({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function PI(n,{refreshToken:e}){const t=Dv(n);return t.append("Authorization",function lx(n){return`${Ds} ${n}`}(e)),t}function yg(n){return _g.apply(this,arguments)}function _g(){return(_g=(0,W.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function vg(n){return Number(n.replace("s","000"))}function OI(n,e){return wg.apply(this,arguments)}function wg(){return(wg=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Iv(n),i=Dv(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Ds,appId:n.appId,sdkVersion:MI})},m=yield yg(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:mg(v.authToken)}}throw yield Ou("Create Installation",m)})).apply(this,arguments)}function Eg(n){return new Promise(e=>{setTimeout(e,n)})}const Tv=/^[cdef][\w-]{21}$/;function FI(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function LI(n){return function bg(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Tv.test(t)?t:""}catch{return""}}function Fu(n){return`${n.appName}!${n.appId}`}const Lu=new Map;function Sv(n,e){const t=Fu(n);UI(t,e),function dx(n,e){const t=function BI(){return!Vu&&"BroadcastChannel"in self&&(Vu=new BroadcastChannel("[Firebase] FID Change"),Vu.onmessage=n=>{UI(n.data.key,n.data.fid)}),Vu}();t&&t.postMessage({key:n,fid:e}),function jI(){0===Lu.size&&Vu&&(Vu.close(),Vu=null)}()}(t,e)}function UI(n,e){const t=Lu.get(n);if(t)for(const r of t)r(e)}let Vu=null;const Uu="firebase-installations-store";let Av=null;function xv(){return Av||(Av=function sx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),f=$i(l);return r&&l.addEventListener("upgradeneeded",m=>{r($i(l.result),m.oldVersion,m.newVersion,$i(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Uu)}})),Av}function Cg(n,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,W.Z)(function*(n,e){const t=Fu(n),i=(yield xv()).transaction(Uu,"readwrite"),a=i.objectStore(Uu),l=yield a.get(t);return yield a.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&Sv(n,e.fid),e})).apply(this,arguments)}function Rv(n){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,W.Z)(function*(n){const e=Fu(n),r=(yield xv()).transaction(Uu,"readwrite");yield r.objectStore(Uu).delete(e),yield r.done})).apply(this,arguments)}function xh(n,e){return kv.apply(this,arguments)}function kv(){return(kv=(0,W.Z)(function*(n,e){const t=Fu(n),i=(yield xv()).transaction(Uu,"readwrite"),a=i.objectStore(Uu),l=yield a.get(t),f=e(l);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!l||l.fid!==f.fid)&&Sv(n,f.fid),f})).apply(this,arguments)}function Pv(n){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,W.Z)(function*(n){let e;const t=yield xh(n.appConfig,r=>{const i=$I(r),a=HI(n,i);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function $I(n){return Fv(n||{fid:FI(),registrationStatus:0})}function HI(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(No.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function GI(n,e){return Tg.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:zI(n)}:{installationEntry:e}}function Tg(){return(Tg=(0,W.Z)(function*(n,e){try{const t=yield OI(n,e);return Cg(n.appConfig,t)}catch(t){throw kI(t)&&409===t.customData.serverCode?yield Rv(n.appConfig):yield Cg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function zI(n){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,W.Z)(function*(n){let e=yield Ov(n.appConfig);for(;1===e.registrationStatus;)yield Eg(100),e=yield Ov(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Pv(n);return r||t}return e})).apply(this,arguments)}function Ov(n){return xh(n,e=>{if(!e)throw No.create("installation-not-found");return Fv(e)})}function Fv(n){return function qI(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function WI(n,e){return ko.apply(this,arguments)}function ko(){return(ko=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=px(n,t),i=PI(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:MI,appId:n.appId}})},m=yield yg(()=>fetch(r,f));if(m.ok)return mg(yield m.json());throw yield Ou("Generate Auth Token",m)})).apply(this,arguments)}function px(n,{fid:e}){return`${Iv(n)}/${e}/authTokens:generate`}function Lv(n){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,W.Z)(function*(n,e=!1){let t;const r=yield xh(n.appConfig,a=>{if(!mx(a))throw No.create("not-registered");const l=a.authToken;if(!e&&Et(l))return a;if(1===l.requestStatus)return t=BP(n,e),a;{if(!navigator.onLine)throw No.create("app-offline");const f=_x(a);return t=ZI(n,f),f}});return t?yield t:r.authToken})).apply(this,arguments)}function BP(n,e){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,W.Z)(function*(n,e){let t=yield gx(n.appConfig);for(;1===t.authToken.requestStatus;)yield Eg(100),t=yield gx(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Lv(n,e):r})).apply(this,arguments)}function gx(n){return xh(n,e=>{if(!mx(e))throw No.create("not-registered");return function vx(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ZI(n,e){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,W.Z)(function*(n,e){try{const t=yield WI(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Cg(n.appConfig,r),t}catch(t){if(!kI(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Cg(n.appConfig,r)}else yield Rv(n.appConfig);throw t}})).apply(this,arguments)}function mx(n){return void 0!==n&&2===n.registrationStatus}function Et(n){return 2===n.requestStatus&&!function yx(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function _x(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Vv(){return(Vv=(0,W.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Pv(e);return r?r.catch(console.error):Lv(e).catch(console.error),t.fid})).apply(this,arguments)}function pc(){return(pc=(0,W.Z)(function*(n,e=!1){const t=n;return yield Un(t),(yield Lv(t,e)).token})).apply(this,arguments)}function Un(n){return KI.apply(this,arguments)}function KI(){return(KI=(0,W.Z)(function*(n){const{registrationPromise:e}=yield Pv(n);e&&(yield e)})).apply(this,arguments)}function Uv(n){return No.create("missing-app-config-values",{valueName:n})}const QI="installations",Dx=n=>{const e=n.getProvider("app").getImmediate(),t=function Cx(n){if(!n||!n.options)throw Uv("App Configuration");if(!n.name)throw Uv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Uv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Ut._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Tx=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Ut._getProvider)(e,QI).getImmediate();return{getId:()=>function fc(n){return Vv.apply(this,arguments)}(t),getToken:i=>function xg(n){return pc.apply(this,arguments)}(t,i)}};(function Sx(){(0,Ut._registerComponent)(new bi.wA(QI,Dx,"PUBLIC")),(0,Ut._registerComponent)(new bi.wA("installations-internal",Tx,"PRIVATE"))})(),(0,Ut.registerVersion)(gg,"0.6.4"),(0,Ut.registerVersion)(gg,"0.6.4","esm2017");const gc="@firebase/remote-config",br=new Ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nC{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&l.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(l),a})()}}function kh(n=navigator){return n.languages&&n.languages[0]||n.language}class Lx{constructor(e,t,r,i,a,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=l}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:kh()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(l,v),D=new Promise((Ie,Fe)=>{e.signal.addEventListener(()=>{const Le=new Error("The operation was aborted.");Le.name="AbortError",Fe(Le)})});let k;try{yield Promise.race([C,D]),k=yield C}catch(Ie){let Fe="fetch-client-network";throw"AbortError"===Ie?.name&&(Fe="fetch-timeout"),br.create(Fe,{originalErrorMessage:Ie?.message})}let F=k.status;const G=k.headers.get("ETag")||void 0;let Q,J;if(200===k.status){let Ie;try{Ie=yield k.json()}catch(Fe){throw br.create("fetch-client-parse",{originalErrorMessage:Fe?.message})}Q=Ie.entries,J=Ie.state}if("INSTANCE_STATE_UNSPECIFIED"===J?F=500:"NO_CHANGE"===J?F=304:("NO_TEMPLATE"===J||"EMPTY_CONFIG"===J)&&(Q={}),304!==F&&200!==F)throw br.create("fetch-status",{httpStatus:F});return{status:F,eTag:G,config:Q}})()}}class Bx{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,W.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,W.Z)(function*(){yield function Vx(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function Ux(n){if(!(n instanceof Ye.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const l={throttleEndTimeMillis:Date.now()+(0,Ye.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class $x{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pg(n,e){const t=n.target.error||void 0;return br.create(e,{originalErrorMessage:t&&t?.message})}const As="app_namespace_store";class sC{constructor(e,t,r,i=function Gx(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Pg(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(As,{keyPath:"compositeKey"})}}catch(t){e(br.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([As],"readonly").objectStore(As),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{a(Pg(C,"storage-get"))},v.onsuccess=C=>{const D=C.target.result;i(D?D.value:void 0)}}catch(v){a(br.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,W.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,l)=>{const m=i.transaction([As],"readwrite").objectStore(As),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=D=>{l(Pg(D,"storage-set"))},C.onsuccess=()=>{a()}}catch(C){l(br.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([As],"readwrite").objectStore(As),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{a(Pg(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(br.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class zx{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,W.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qx(){return Og.apply(this,arguments)}function Og(){return(Og=(0,W.Z)(function*(){if(!(0,Ye.hl)())return!1;try{return yield(0,Ye.eu)()}catch{return!1}})).apply(this,arguments)}let uC,lC;!function oC(){(0,Ut._registerComponent)(new bi.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw br.create("registration-window");if(!(0,Ye.hl)())throw br.create("indexed-db-unavailable");const{projectId:a,apiKey:l,appId:f}=r.options;if(!a)throw br.create("registration-project-id");if(!l)throw br.create("registration-api-key");if(!f)throw br.create("registration-app-id");const m=new sC(f,r.name,t=t||"firebase"),v=new zx(m),C=new us.Yd(gc);C.logLevel=us.in.ERROR;const D=new Lx(i,Ut.SDK_VERSION,t,a,l,f),k=new Bx(D,m),F=new nC(k,m,v,C),G=new $x(r,F,v,m,C);return function kx(n){const e=(0,Ye.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(G),G},"PUBLIC").setMultipleInstances(!0)),(0,Ut.registerVersion)(gc,"0.4.4"),(0,Ut.registerVersion)(gc,"0.4.4","esm2017")}();const cC=new WeakMap,Fg=new WeakMap,dC=new WeakMap,Hv=new WeakMap,Gv=new WeakMap;let zv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Fg.get(n);if("objectStoreNames"===e)return n.objectStoreNames||dC.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function hC(n){return"function"==typeof n?function Qx(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $v(){return lC||(lC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qv(this),e),ro(cC.get(this))}:function(...e){return ro(n.apply(qv(this),e))}:function(e,...t){const r=n.call(qv(this),e,...t);return dC.set(r,e.sort?e.sort():[e]),ro(r)}}(n):(n instanceof IDBTransaction&&function Kx(n){if(Fg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Fg.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Wx(){return uC||(uC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,zv):n)}function ro(n){if(n instanceof IDBRequest)return function Zx(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ro(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&cC.set(t,n)}).catch(()=>{}),Gv.set(e,n),e}(n);if(Hv.has(n))return Hv.get(n);const e=hC(n);return e!==n&&(Hv.set(n,e),Gv.set(e,n)),e}const qv=n=>Gv.get(n);function fC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),f=ro(l);return r&&l.addEventListener("upgradeneeded",m=>{r(ro(l.result),m.oldVersion,m.newVersion,ro(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function Lg(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ro(t).then(()=>{})}const Jx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],Wv=new Map;function Vg(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Wv.get(e))return Wv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Jx.includes(t))return;const a=function(){var l=(0,W.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return l.apply(this,arguments)}}();return Wv.set(e,a),a}!function Yx(n){zv=n(zv)}(n=>({...n,get:(e,t,r)=>Vg(e,t)||n.get(e,t,r),has:(e,t)=>!!Vg(e,t)||n.has(e,t)}));const Zv="/firebase-messaging-sw.js",pC="/firebase-cloud-messaging-push-scope",Ug="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gC="google.c.a.c_id",Kv="google.c.a.c_l",tM="google.c.a.ts",mC="google.c.a.e";var ju=(()=>{return(n=ju||(ju={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ju;var n})();function Po(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function HP(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const Bg="fcm_token_details_db",yC="fcm_token_object_Store";function Qv(n){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,W.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Bg))return null;let e=null;return(yield fC(Bg,5,{upgrade:(r=(0,W.Z)(function*(i,a,l,f){var m;if(a<2||!i.objectStoreNames.contains(yC))return;const v=f.objectStore(yC),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===a){const D=C;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(m=D.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:Po(D.vapidKey)}}}else if(3===a){const D=C;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:Po(D.auth),p256dh:Po(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:Po(D.vapidKey)}}}else if(4===a){const D=C;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:Po(D.auth),p256dh:Po(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:Po(D.vapidKey)}}}}),function(a,l,f,m){return r.apply(this,arguments)})})).close(),yield Lg(Bg),yield Lg("fcm_vapid_details_db"),yield Lg("undefined"),_C(e)?e:null;var r}),Jv.apply(this,arguments)}function _C(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ca="firebase-messaging-store";let jg=null;function $g(){return jg||(jg=fC("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ca)}})),jg}function wC(n){return e0.apply(this,arguments)}function e0(){return(e0=(0,W.Z)(function*(n){const e=Hg(n),r=yield(yield $g()).transaction(Ca).objectStore(Ca).get(e);if(r)return r;{const i=yield Qv(n.appConfig.senderId);if(i)return yield t0(n,i),i}})).apply(this,arguments)}function t0(n,e){return n0.apply(this,arguments)}function n0(){return(n0=(0,W.Z)(function*(n,e){const t=Hg(n),i=(yield $g()).transaction(Ca,"readwrite");return yield i.objectStore(Ca).put(e,t),yield i.done,e})).apply(this,arguments)}function EC(n){return bC.apply(this,arguments)}function bC(){return(bC=(0,W.Z)(function*(n){const e=Hg(n),r=(yield $g()).transaction(Ca,"readwrite");yield r.objectStore(Ca).delete(e),yield r.done})).apply(this,arguments)}function Hg({appConfig:n}){return n.appId}const Nr=new Ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function GP(n,e){return IC.apply(this,arguments)}function IC(){return(IC=(0,W.Z)(function*(n,e){const t=yield s0(n),r=DC(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(zg(n.appConfig),i)).json()}catch(l){throw Nr.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(a.error)throw Nr.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Nr.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function rM(n,e){return r0.apply(this,arguments)}function r0(){return(r0=(0,W.Z)(function*(n,e){const t=yield s0(n),r=DC(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${zg(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw Nr.create("token-update-failed",{errorInfo:l?.toString()})}if(a.error)throw Nr.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Nr.create("token-update-no-token");return a.token})).apply(this,arguments)}function CC(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,W.Z)(function*(n,e){const r={method:"DELETE",headers:yield s0(n)};try{const a=yield(yield fetch(`${zg(n.appConfig)}/${e}`,r)).json();if(a.error)throw Nr.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Nr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function zg({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function s0(n){return o0.apply(this,arguments)}function o0(){return(o0=(0,W.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function DC({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Ug&&(i.web.applicationPubKey=r),i}const iM=6048e5;function sM(n){return a0.apply(this,arguments)}function a0(){return(a0=(0,W.Z)(function*(n){const e=yield AC(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Po(e.getKey("auth")),p256dh:Po(e.getKey("p256dh"))},r=yield wC(n.firebaseDependencies);if(r){if(oM(r.subscriptionOptions,t))return Date.now()>=r.createTime+iM?SC(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield CC(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return u0(n.firebaseDependencies,t)}return u0(n.firebaseDependencies,t)})).apply(this,arguments)}function TC(n){return $u.apply(this,arguments)}function $u(){return($u=(0,W.Z)(function*(n){const e=yield wC(n.firebaseDependencies);e&&(yield CC(n.firebaseDependencies,e.token),yield EC(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function SC(n,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,W.Z)(function*(n,e){try{const t=yield rM(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield t0(n.firebaseDependencies,r),t}catch(t){throw yield TC(n),t}})).apply(this,arguments)}function u0(n,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,W.Z)(function*(n,e){const r={token:yield GP(n,e),createTime:Date.now(),subscriptionOptions:e};return yield t0(n,r),r.token})).apply(this,arguments)}function AC(n,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,W.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:HP(e)})})).apply(this,arguments)}function oM(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function aM(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function xC(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function MC(n,e){!e.data||(n.data=e.data)}(e,n),function uM(n,e){var t,r,i,a,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const m=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function lM(n){return"object"==typeof n&&!!n&&gC in n}function RC(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function l0(n){return Nr.create("missing-app-config-values",{valueName:n})}RC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RC("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class c0{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Fh(n){if(!n||!n.options)throw l0("App Configuration Object");if(!n.name)throw l0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw l0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xs(n){return d0.apply(this,arguments)}function d0(){return(d0=(0,W.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Zv,{scope:pC}),n.swRegistration.update().catch(()=>{})}catch(e){throw Nr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function h0(n,e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,W.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield xs(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function cM(n,e){return f0.apply(this,arguments)}function f0(){return(f0=(0,W.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Ug)})).apply(this,arguments)}function mc(){return(mc=(0,W.Z)(function*(n,e){if(!navigator)throw Nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nr.create("permission-blocked");return yield cM(n,e?.vapidKey),yield h0(n,e?.serviceWorkerRegistration),sM(n)})).apply(this,arguments)}function Kg(n,e,t){return p0.apply(this,arguments)}function p0(){return(p0=(0,W.Z)(function*(n,e,t){const r=dM(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[gC],message_name:t[Kv],message_time:t[tM],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dM(n){switch(n){case ju.NOTIFICATION_CLICKED:return"notification_open";case ju.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yg(){return(Yg=(0,W.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ju.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(aM(t)):n.onMessageHandler.next(aM(t)));const r=t.data;lM(r)&&"1"===r[mC]&&(yield Kg(n,t.messageType,r))})).apply(this,arguments)}const Qg="@firebase/messaging",hM=n=>{const e=new c0(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function kC(n,e){return Yg.apply(this,arguments)}(e,t)),e},fM=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function NC(n,e){return mc.apply(this,arguments)}(e,r)}};function Jg(){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,W.Z)(function*(){try{yield(0,Ye.eu)()}catch{return!1}return typeof window<"u"&&(0,Ye.hl)()&&(0,Ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zP(){(0,Ut._registerComponent)(new bi.wA("messaging",hM,"PUBLIC")),(0,Ut._registerComponent)(new bi.wA("messaging-internal",fM,"PRIVATE")),(0,Ut.registerVersion)(Qg,"0.12.4"),(0,Ut.registerVersion)(Qg,"0.12.4","esm2017")}();const yc="analytics",OC="firebase_id",LC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_0="https://www.googletagmanager.com/gtag/js",pr=new us.Yd("@firebase/analytics"),si=new Ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function UC(n){if(!n.startsWith(_0)){const e=si.create("invalid-gtag-resource",{gtagURL:n});return pr.warn(e.message),""}return n}function BC(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _c(n,e){const t=function oi(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:UC}),r=document.createElement("script"),i=`${_0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yM(n,e,t,r,i,a){return jC.apply(this,arguments)}function jC(){return(jC=(0,W.Z)(function*(n,e,t,r,i,a){const l=r[i];try{if(l)yield e[l];else{const m=(yield BC(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){pr.error(f)}n("config",i,a)})).apply(this,arguments)}function KP(n,e,t,r,i){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,W.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const f=yield BC(t);for(const m of l){const v=f.find(D=>D.measurementId===m),C=v&&e[v.appId];if(!C){a=[];break}a.push(C)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){pr.error(a)}})).apply(this,arguments)}function _M(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_0)&&t.src.includes(n))return t;return null}const GC=new class HC{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function EM(n){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,W.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:wM(r)},a=LC.replace("{app-id}",t),l=yield fetch(a,i);if(200!==l.status&&304!==l.status){let f="";try{const m=yield l.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()})).apply(this,arguments)}function zC(n){return em.apply(this,arguments)}function em(){return(em=(0,W.Z)(function*(n,e=GC,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw si.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw si.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new bM;return setTimeout((0,W.Z)(function*(){f.abort()}),void 0!==t?t:6e4),jh({appId:r,apiKey:i,measurementId:a},l,f,e)})).apply(this,arguments)}function jh(n,e,t){return $h.apply(this,arguments)}function $h(){return($h=(0,W.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=GC){var a;const{appId:l,measurementId:f}=n;try{yield YP(r,e)}catch(m){if(f)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw m}try{const m=yield EM(n);return i.deleteThrottleMetadata(l),m}catch(m){const v=m;if(!qC(v)){if(i.deleteThrottleMetadata(l),f)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:f};throw m}const C=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,Ye.$s)(t,i.intervalMillis,30):(0,Ye.$s)(t,i.intervalMillis),D={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(l,D),pr.debug(`Calling attemptFetch again in ${C} millis`),jh(n,D,r,i)}})).apply(this,arguments)}function YP(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qC(n){if(!(n instanceof Ye.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class bM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let tm,C0;function w0(){return(w0=(0,W.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function D0(n){C0=n}function T0(n){tm=n}function CM(){return S0.apply(this,arguments)}function S0(){return(S0=(0,W.Z)(function*(){if(!(0,Ye.hl)())return pr.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ye.eu)()}catch(n){return pr.warn(si.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function A0(){return(A0=(0,W.Z)(function*(n,e,t,r,i,a,l){var f;const m=zC(n);m.then(F=>{t[F.measurementId]=F.appId,n.options.measurementId&&F.measurementId!==n.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${F.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(F=>pr.error(F)),e.push(m);const v=CM().then(F=>{if(F)return r.getId()}),[C,D]=yield Promise.all([m,v]);_M(a)||_c(a,C.measurementId),C0&&(i("consent","default",C0),D0(void 0)),i("js",new Date);const k=null!==(f=l?.config)&&void 0!==f?f:{};return k.origin="firebase",k.update=!0,null!=D&&(k[OC]=D),i("config",C.measurementId,k),tm&&(i("set",tm),T0(void 0)),C.measurementId})).apply(this,arguments)}class YC{constructor(e){this.app=e}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},x0=[];const M0={};let DM,Rs,rm="dataLayer",JC=!1;function eO(n,e,t){!function XP(){const n=[];if((0,Ye.ru)()&&n.push("This is a browser extension environment."),(0,Ye.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=si.create("invalid-analytics-context",{errorInfo:e});pr.warn(t.message)}}();const r=n.options.appId;if(!r)throw si.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw si.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ms[r])throw si.create("already-exists",{id:r});if(!JC){!function mM(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(rm);const{wrappedGtag:a,gtagCore:l}=function Uh(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function $C(n,e,t,r){function a(){return(a=(0,W.Z)(function*(l,...f){try{if("event"===l){const[m,v]=f;yield KP(n,e,t,m,v)}else if("config"===l){const[m,v]=f;yield yM(n,e,t,r,m,v)}else if("consent"===l){const[m]=f;n("consent","update",m)}else if("get"===l){const[m,v,C]=f;n("get",m,v,C)}else if("set"===l){const[m]=f;n("set",m)}else n(l,...f)}catch(m){pr.error(m)}})).apply(this,arguments)}return function i(l){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(Ms,x0,M0,rm,"gtag");Rs=a,DM=l,JC=!0}return Ms[r]=function KC(n,e,t,r,i,a,l){return A0.apply(this,arguments)}(n,x0,M0,e,DM,rm,t),new YC(n)}function nO(){return XC.apply(this,arguments)}function XC(){return(XC=(0,W.Z)(function*(){if((0,Ye.ru)()||!(0,Ye.zI)()||!(0,Ye.hl)())return!1;try{return yield(0,Ye.eu)()}catch{return!1}})).apply(this,arguments)}const eD="@firebase/analytics";!function rO(){(0,Ut._registerComponent)(new bi.wA(yc,(e,{options:t})=>eO(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Ut._registerComponent)(new bi.wA("analytics-internal",function n(e){try{const t=e.getProvider(yc).getImmediate();return{logEvent:(r,i,a)=>function k0(n,e,t,r){n=(0,Ye.m9)(n),function vc(n,e,t,r,i){return w0.apply(this,arguments)}(Rs,Ms[n.app.options.appId],e,t,r).catch(i=>pr.error(i))}(t,r,i,a)}}catch(t){throw si.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Ut.registerVersion)(eD,"0.10.0"),(0,Ut.registerVersion)(eD,"0.10.0","esm2017")}();const RM=new class MM extends mv{}(class xM extends gv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var Gu=L(5363),sm=L(9468);const F0=new d.GfV("7.5.0"),tD="__angularfire_symbol__analyticsIsSupportedValue",L0="__angularfire_symbol__analyticsIsSupported",V0="__angularfire_symbol__remoteConfigIsSupportedValue",U0="__angularfire_symbol__remoteConfigIsSupported",nD="__angularfire_symbol__messagingIsSupportedValue",B0="__angularfire_symbol__messagingIsSupported";globalThis[L0]||(globalThis[L0]=nO().then(n=>globalThis[tD]=n).catch(()=>globalThis[tD]=!1)),globalThis[B0]||(globalThis[B0]=Jg().then(n=>globalThis[nD]=n).catch(()=>globalThis[nD]=!1)),globalThis[U0]||(globalThis[U0]=qx().then(n=>globalThis[V0]=n).catch(()=>globalThis[V0]=!1));const Gh=(n,e)=>{const t=e?[e]:(0,Ut.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function wc(){}class Hi{constructor(e,t=RM){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class kM{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)),t.pipe(Mr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zu=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Hi(Zone.current)),this.insideAngular=t.run(()=>new Hi(Zone.current,yv)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function PM(n){return qu().ngZone.runOutsideAngular(()=>n())}function Oo(n){return qu().ngZone.run(()=>n())}function $0(n){return n.pipe((0,Gu.Q)(qu().outsideAngular))}function ai(n){return qu(),function rD(n){return function(t){return(t=t.lift(new kM(n.ngZone))).pipe((0,sm.R)(n.outsideAngular),(0,Gu.Q)(n.insideAngular))}}(qu())(n)}const iD=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oo(()=>n.apply(void 0,r))},Ec=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)))),r[a]=iD(r[a],t));const i=PM(()=>n.apply(this,r));if(!e){if(i instanceof os.y){const a=qu();return i.pipe((0,sm.R)(a.outsideAngular),(0,Gu.Q)(a.insideAngular))}return Oo(()=>i)}return i instanceof os.y?i.pipe(ai):i instanceof Promise?Oo(()=>new Promise((a,l)=>i.then(f=>Oo(()=>a(f)),f=>Oo(()=>l(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Oo(()=>i)};var zr=L(2011),sD=L(3942);const am="firebasestorage.googleapis.com",Fo="storageBucket";class xn extends Ye.ZR{constructor(e,t,r=0){super(G0(e),`Firebase Storage: ${t} (${G0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return G0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var vn=(()=>{return(n=vn||(vn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",vn;var n})();function G0(n){return"storage/"+n}function z0(){return new xn(vn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lD(){return new xn(vn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q0(){return new xn(vn.CANCELED,"User canceled the upload/download.")}function Z0(){return new xn(vn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vo(n){return new xn(vn.INVALID_ARGUMENT,n)}function zh(){return new xn(vn.APP_DELETED,"The Firebase app was deleted.")}function K0(n){return new xn(vn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qh(n,e){return new xn(vn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function bc(n){throw new xn(vn.INTERNAL_ERROR,"Internal error: "+n)}class kr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=kr.makeFromUrl(e,t)}catch{return new kr(e,"")}if(""===r.path)return r;throw function W0(n){return new xn(vn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v($e){$e.path_=decodeURIComponent($e.path)}const D=t.replace(/[.]/g,"\\."),Le=[{regex:f,indices:{bucket:1,path:3},postModify:function a($e){"/"===$e.path.charAt($e.path.length-1)&&($e.path_=$e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===am?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let $e=0;$e<Le.length;$e++){const It=Le[$e],Ct=It.regex.exec(e);if(Ct){let Zn=Ct[It.indices.path];Zn||(Zn=""),r=new kr(Ct[It.indices.bucket],Zn),It.postModify(r);break}}if(null==r)throw function sO(n){return new xn(vn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class VM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function um(n){return"string"==typeof n||n instanceof String}function gD(n){return mD()&&n instanceof Blob}function mD(){return typeof Blob<"u"&&!(0,Ye.UG)()}function yD(n,e,t,r){if(r<e)throw Vo(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vo(`Invalid value for '${n}'. Expected ${t} or less.`)}function Da(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function jM(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Wu=(()=>{return(n=Wu||(Wu={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Wu;var n})();function _D(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class lm{constructor(e,t,r,i,a,l,f,m,v,C,D,k=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=D,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,G)=>{this.resolve_=F,this.reject_=G,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function aO(n){return void 0!==n}(m)?a():a(m)}catch(m){l(m)}else if(null!==f){const m=z0();m.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,m):m)}else l(i.canceled?this.appDelete_?zh():q0():lD())};this.canceled_?t(0,new cm(!1,null,!0)):this.backoffId_=function UM(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function m(){return 2===f}let v=!1;function C(...J){v||(v=!0,e.apply(null,J))}function D(J){i=setTimeout(()=>{i=null,n(F,m())},J)}function k(){a&&clearTimeout(a)}function F(J,...Ie){if(v)return void k();if(J)return k(),void C.call(null,J,...Ie);if(m()||l)return k(),void C.call(null,J,...Ie);let Le;r<64&&(r*=2),1===f?(f=2,Le=0):Le=1e3*(r+Math.random()),D(Le)}let G=!1;function Q(J){G||(G=!0,k(),!v&&(null!==i?(J||(f=2),clearTimeout(i),D(0)):J||(f=1)))}return D(0),a=setTimeout(()=>{l=!0,Q(!0)},t),Q}((r,i)=>{if(i)return void r(!1,new cm(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===Wu.NO_ERROR,m=a.getStatus();if(!f||_D(m,this.additionalRetryCodes_)&&this.retry){const C=a.getErrorCode()===Wu.ABORT;return void r(!1,new cm(!1,null,C))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new cm(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function oO(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class cm{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function HM(...n){const e=function Q0(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(mD())return new Blob(n);throw new xn(vn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ED{constructor(e,t){this.data=e,this.contentType=t||null}}function bD(n,e){switch(n){case qr.RAW:return new ED(GM(e));case qr.BASE64:case qr.BASE64URL:return new ED(ew(n,e));case qr.DATA_URL:return new ED(function zM(n){const e=new ID(n);return e.base64?ew(qr.BASE64,e.rest):function uO(n){let e;try{e=decodeURIComponent(n)}catch{throw qh(qr.DATA_URL,"Malformed data URL.")}return GM(e)}(e.rest)}(e),function qM(n){return new ID(n).contentType}(e))}throw z0()}function GM(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ew(n,e){switch(n){case qr.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw qh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw qh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function X0(n){if(typeof atob>"u")throw function fD(n){return new xn(vn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:qh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class ID{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qh(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function WM(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ns{constructor(e,t){let r=0,i="";gD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(gD(this.data_)){const i=function J0(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Ns(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(mD()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(HM.apply(null,t))}{const t=e.map(l=>um(l)?bD(qr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new Ns(i,!0)}}uploadData(){return this.data_}}function dm(n){let e;try{e=JSON.parse(n)}catch{return null}return function BM(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function DD(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function TD(n,e){return e}class Pr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||TD}}let tw=null;function Ku(){if(tw)return tw;const n=[];n.push(new Pr("bucket")),n.push(new Pr("generation")),n.push(new Pr("metageneration")),n.push(new Pr("name","fullPath",!0));const t=new Pr("name");t.xform=function e(a,l){return function SD(n){return!um(n)||n.length<2?n:DD(n)}(l)},n.push(t);const i=new Pr("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Pr("timeCreated")),n.push(new Pr("updated")),n.push(new Pr("md5Hash",null,!0)),n.push(new Pr("cacheControl",null,!0)),n.push(new Pr("contentDisposition",null,!0)),n.push(new Pr("contentEncoding",null,!0)),n.push(new Pr("contentLanguage",null,!0)),n.push(new Pr("contentType",null,!0)),n.push(new Pr("metadata","customMetadata",!0)),tw=n,tw}function QM(n,e,t){const r=dm(e);return null===r?null:function YM(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function KM(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new kr(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function nw(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const AD="prefixes";class Uo{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bo(n){if(!n)throw z0()}function rw(n,e){return function t(r,i){const a=QM(n,i,e);return Bo(null!==a),a}}function Wh(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function iO(){return new xn(vn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function aD(){return new xn(vn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function LM(n){return new xn(vn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function uD(n){return new xn(vn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function hm(n){const e=Wh(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function FM(n){return new xn(vn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function XM(n,e,t){const i=Da(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Uo(i,"GET",rw(n,t),l);return f.errorHandler=hm(e),f}function fO(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Da(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new Uo(f,"GET",function JM(n,e){return function t(r,i){const a=function dO(n,e,t){const r=dm(t);return null===r?null:function cO(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[AD])for(const i of t[AD]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new kr(e,a));r.prefixes.push(l)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new kr(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Bo(null!==a),a}}(n,e.bucket),v);return C.urlParams=a,C.errorHandler=Wh(e),C}function h(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function c(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class _{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function b(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Bo(!1)}return Bo(!!t&&-1!==(e||["active"]).indexOf(t)),t}const A=262144;const j={STATE_CHANGED:"state_changed"},Z={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function le(n){switch(n){case"running":case"pausing":case"canceling":return Z.RUNNING;case"paused":return Z.PAUSED;case"success":return Z.SUCCESS;case"canceled":return Z.CANCELED;default:return Z.ERROR}}class ke{constructor(e,t,r){if(function pD(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Ve(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class ve extends class mt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw bc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ct(){return new ve}class fm{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Ku(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(_D(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=lD()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function I(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=h(e,r,i),f={name:l.fullPath},m=Da(a,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=nw(l,t),G=new Uo(m,"POST",function F(Q){let J;b(Q);try{J=Q.getResponseHeader("X-Goog-Upload-URL")}catch{Bo(!1)}return Bo(um(J)),J},n.maxUploadRetryTime);return G.urlParams=f,G.headers=C,G.body=D,G.errorHandler=Wh(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ct,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function T(n,e,t,r){const m=new Uo(t,"POST",function a(v){const C=b(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bo(!1)}D||Bo(!1);const k=Number(D);return Bo(!isNaN(k)),new _(k,r.size(),"final"===C)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Wh(e),m}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ct,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=A*this._chunkMultiplier,t=new _(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function P(n,e,t,r,i,a,l,f){const m=new _(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function dD(){return new xn(vn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let C=v;i>0&&(C=Math.min(C,i));const D=m.current;let F="";F=0===C?"finalize":v===C?"upload, finalize":"upload";const G={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${m.current}`},Q=r.slice(D,D+C);if(null===Q)throw Z0();const Le=new Uo(t,"POST",function J($e,It){const Ct=b($e,["active","final"]),nn=m.current+C,Zn=r.size();let xi;return xi="final"===Ct?rw(e,a)($e,It):null,new _(nn,Zn,"final"===Ct,xi)},e.maxUploadRetryTime);return Le.headers=G,Le.body=Q.uploadData(),Le.progressCallback=f||null,Le.errorHandler=Wh(n),Le}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(l,ct,i,a,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){A*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=XM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ct,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function g(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let Le="";for(let $e=0;$e<2;$e++)Le+=Math.random().toString().slice(2);return Le}();l["Content-Type"]="multipart/related; boundary="+m;const v=h(e,r,i),C=nw(v,t),F=Ns.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===F)throw Z0();const G={name:v.fullPath},Q=Da(a,n.host,n._protocol),Ie=n.maxUploadRetryTime,Fe=new Uo(Q,"POST",rw(n,t),Ie);return Fe.urlParams=G,Fe.headers=l,Fe.body=F.uploadData(),Fe.errorHandler=Wh(e),Fe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ct,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=q0(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=le(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new ke(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(le(this._state)){case Z.SUCCESS:Ve(this._resolve.bind(null,this.snapshot))();break;case Z.CANCELED:case Z.ERROR:Ve(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(le(this._state)){case Z.RUNNING:case Z.PAUSED:e.next&&Ve(e.next.bind(e,this.snapshot))();break;case Z.SUCCESS:e.complete&&Ve(e.complete.bind(e))();break;default:e.error&&Ve(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jo{constructor(e,t){this._service=e,this._location=t instanceof kr?t:kr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jo(e,t)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DD(this._location.path)}get storage(){return this._service}get parent(){const e=function CD(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new kr(this._location.bucket,e);return new jo(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw K0(e)}}function pO(n,e,t){return t1.apply(this,arguments)}function t1(){return(t1=(0,W.Z)(function*(n,e,t){const i=yield gO(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield pO(n,e,i.nextPageToken))})).apply(this,arguments)}function gO(n,e){null!=e&&"number"==typeof e.maxResults&&yD("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=fO(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ct)}function Oj(n){n._throwIfRoot("getDownloadURL");const e=function s(n,e,t){const i=Da(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Uo(i,"GET",function hO(n,e){return function t(r,i){const a=QM(n,i,e);return Bo(null!==a),function lO(n,e,t,r){const i=dm(e);if(null===i||!um(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(v=>{const D=n.fullPath;return Da("/b/"+l(n.bucket)+"/o/"+l(D),t,r)+jM({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=hm(e),f}(n.storage,n._location,Ku());return n.storage.makeRequestWithTokens(e,ct).then(t=>{if(null===t)throw function hD(){return new xn(vn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function mO(n,e){const t=function ZM(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new kr(n._location.bucket,t);return new jo(n.storage,r)}function yO(n,e){if(n instanceof n1){const t=n;if(null==t._bucket)throw function cD(){return new xn(vn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fo+"' property when initializing the app?")}();const r=new jo(t,t._bucket);return null!=e?yO(r,e):r}return void 0!==e?mO(n,e):n}function Uj(n,e){if(e&&function Lj(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof n1)return function Vj(n,e){return new jo(n,e)}(n,e);throw Vo("To use ref(service, url), the first argument must be a Storage instance.")}return yO(n,e)}function _O(n,e){const t=e?.[Fo];return null==t?null:kr.makeFromBucketSpec(t,n)}class n1{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=am,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?kr.makeFromBucketSpec(i,this._host):_O(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?kr.makeFromBucketSpec(this._url,e):_O(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,W.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,W.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jo(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new VM(zh());{const l=function Y0(n,e,t,r,i,a,l=!0){const f=jM(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function Zu(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function $M(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function vD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function wD(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new lm(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,W.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const vO="@firebase/storage",EO="storage";function bO(n,e,t){return function aw(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new fm(n,new Ns(e),t)}(n=(0,Ye.m9)(n),e,t)}function IO(n){return Oj(n=(0,Ye.m9)(n))}function CO(n){return function Fj(n){n._throwIfRoot("deleteObject");const e=function u(n,e){const r=Da(e.fullServerUrl(),n.host,n._protocol),f=new Uo(r,"DELETE",function l(m,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=hm(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ct)}(n=(0,Ye.m9)(n))}function r1(n,e){return Uj(n=(0,Ye.m9)(n),e)}function qj(n=(0,Ut.getApp)(),e){n=(0,Ye.m9)(n);const r=(0,Ut._getProvider)(n,EO).getImmediate({identifier:e}),i=(0,Ye.P0)("storage");return i&&DO(r,...i),r}function DO(n,e,t,r={}){!function Bj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Ye.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function Wj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new n1(t,r,i,e,Ut.SDK_VERSION)}!function Zj(){(0,Ut._registerComponent)(new bi.wA(EO,Wj,"PUBLIC").setMultipleInstances(!0)),(0,Ut.registerVersion)(vO,"0.11.2",""),(0,Ut.registerVersion)(vO,"0.11.2","esm2017")}();class MD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class TO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new MD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new MD(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new MD(l,this,this._ref)):{next:t.next?l=>t.next(new MD(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class SO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Qu(e,this._service))}get items(){return this._delegate.items.map(e=>new Qu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function zj(n,e){return mO(n,e)}(this._delegate,e);return new Qu(t,this.storage)}get root(){return new Qu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Qu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new TO(bO(this._delegate,e,t),this)}putString(e,t=qr.RAW,r){this._throwIfRoot("putString");const i=bD(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new TO(new fm(this._delegate,new Ns(i.data,!0),a),this)}listAll(){return function Gj(n){return function lw(n){const e={prefixes:[],items:[]};return pO(n,e).then(()=>e)}(n=(0,Ye.m9)(n))}(this._delegate).then(e=>new SO(e,this.storage))}list(e){return function Hj(n,e){return gO(n=(0,Ye.m9)(n),e)}(this._delegate,e||void 0).then(t=>new SO(t,this.storage))}getMetadata(){return function jj(n){return function kj(n){n._throwIfRoot("getMetadata");const e=XM(n.storage,n._location,Ku());return n.storage.makeRequestWithTokens(e,ct)}(n=(0,Ye.m9)(n))}(this._delegate)}updateMetadata(e){return function $j(n,e){return function Pj(n,e){n._throwIfRoot("updateMetadata");const t=function o(n,e,t,r){const a=Da(e.fullServerUrl(),n.host,n._protocol),f=nw(t,r),v=n.maxOperationRetryTime,C=new Uo(a,"PATCH",rw(n,r),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=f,C.errorHandler=hm(e),C}(n.storage,n._location,e,Ku());return n.storage.makeRequestWithTokens(t,ct)}(n=(0,Ye.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return IO(this._delegate)}delete(){return this._throwIfRoot("delete"),CO(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw K0(e)}}class AO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(xO(e))throw Vo("ref() expected a child path but got a URL, use refFromURL instead.");return new Qu(r1(this._delegate,e),this)}refFromURL(e){if(!xO(e))throw Vo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kr.makeFromUrl(e,this._delegate.host)}catch{throw Vo("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qu(r1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){DO(this._delegate,e,t,r)}}function xO(n){return/^[A-Za-z]+:\/\//.test(n)}function Jj(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new AO(t,r)}!function Xj(n){const e={TaskState:Z,TaskEvent:j,StringFormat:qr,Storage:AO,Reference:Qu};n.INTERNAL.registerComponent(new bi.wA("storage-compat",Jj,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(sD.Z);class gm{constructor(e){return e}}class MO{constructor(){return(0,Ut.getApps)()}}const i1=new d.OlP("angularfire2._apps"),t$={provide:gm,useFactory:function e$(n){return n&&1===n.length?n[0]:new gm((0,Ut.getApp)())},deps:[[new d.FiY,i1]]},n$={provide:MO,deps:[[new d.FiY,i1]]};function r$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gm(r)}}let i$=(()=>{class n{constructor(t){(0,Ut.registerVersion)("angularfire",F0.full,"core"),(0,Ut.registerVersion)("angularfire",F0.full,"app"),(0,Ut.registerVersion)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[t$,n$]}),n})();function s$(n,...e){return{ngModule:i$,providers:[{provide:i1,useFactory:r$(n),multi:!0,deps:[d.R0b,d.zs3,zu,...e]}]}}const o$=Ec(Ut.initializeApp,!0),s1=new Map,RO={activated:!1,tokenObservers:[]},a$={initialized:!1,enabled:!1};function or(n){return s1.get(n)||Object.assign({},RO)}function RD(){return a$}class f${constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new Ye.BH,yield function p$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ye.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ui=new Ye.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function a1(n){if(!or(n).activated)throw ui.create("use-before-activation",{appName:n.name})}function PD(n,e){return l1.apply(this,arguments)}function l1(){return(l1=(0,W.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(D){throw ui.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw ui.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(D){throw ui.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}})).apply(this,arguments)}function kO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cw="firebase-app-check-store";let OD=null;function OO(){return OD||(OD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ui.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cw,{keyPath:"compositeKey"})}}catch(t){e(ui.create("storage-open",{originalErrorMessage:t?.message}))}}),OD)}function c1(){return(c1=(0,W.Z)(function*(n,e){const r=(yield OO()).transaction(cw,"readwrite"),a=r.objectStore(cw).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var v;f(ui.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const dw=new us.Yd("@firebase/app-check");function f1(n,e){return(0,Ye.hl)()?function E$(n,e){return function FO(n,e){return c1.apply(this,arguments)}(function VO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function g1(){return RD().enabled}function m1(){return y1.apply(this,arguments)}function y1(){return(y1=(0,W.Z)(function*(){const n=RD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const S$={error:"UNKNOWN_ERROR"};function A$(n){return Ye.US.encodeString(JSON.stringify(n),!1)}function FD(n){return _1.apply(this,arguments)}function _1(){return(_1=(0,W.Z)(function*(n,e=!1){const t=n.app;a1(t);const r=or(t);let a,i=r.token;if(i&&!mm(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(mm(m)?i=m:yield f1(t,void 0))}if(!e&&i&&mm(i))return{token:i.token};let f,l=!1;if(g1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PD(kO(t,yield m1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield f1(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield or(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?dw.warn(m.message):dw.error(m),a=m}return i?a?f=mm(i)?{token:i.token,internalError:a}:jO(a):(f={token:i.token},r.token=i,yield f1(t,i)):f=jO(a),l&&BO(t,f),f})).apply(this,arguments)}function E1(n,e){const t=or(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function UO(n){const{app:e}=n,t=or(e);let r=t.tokenRefresher;r||(r=function M$(n){const{app:e}=n;return new f$((0,W.Z)(function*(){let r;if(r=or(e).token?yield FD(n,!0):yield FD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=or(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function BO(n,e){const t=or(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function mm(n){return n.expireTimeMillis-Date.now()>0}function jO(n){return{token:A$(S$),error:n}}class R${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=or(this.app);for(const t of e)E1(this.app,t.next);return Promise.resolve()}}const KO="app-check-internal";!function z$(){(0,Ut._registerComponent)(new bi.wA("app-check",n=>function N$(n,e){return new R$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KO).initialize()})),(0,Ut._registerComponent)(new bi.wA(KO,n=>function k$(n){return{getToken:e=>FD(n,e),addTokenListener:e=>function w1(n,e,t,r){const{app:i}=n,a=or(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&mm(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),UO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>UO(n))}(n,"INTERNAL",e),removeTokenListener:e=>E1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ut.registerVersion)("@firebase/app-check","0.7.0")}();class hw{constructor(){return Gh("app-check")}}typeof window<"u"&&window;var Y$=L(9260);function QO(n){const e=function Q$(n){return new os.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(function ex(n,e=yv){return(0,Ar.e)((t,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=a;a=null,r.next(v)}};function m(){const v=l+n,C=e.now();if(C<v)return i=this.schedule(void 0,v-C),void r.add(i);f()}t.subscribe((0,wr.x)(r,v=>{a=v,l=e.now(),i||(i=e.schedule(m,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,xt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function VD(n){return{getDownloadURL:()=>ut(void 0).pipe($0,sr(()=>n.getDownloadURL()),ai),getMetadata:()=>ut(void 0).pipe($0,sr(()=>n.getMetadata()),ai),delete:()=>(0,hn.D)(n.delete()),child:e=>VD(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>QO(n.put(e,t)),putString:(e,t,r)=>QO(n.putString(e,t,r)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}const J$=new d.OlP("angularfire2.storageBucket"),X$=new d.OlP("angularfire2.storage.maxUploadRetryTime"),eH=new d.OlP("angularfire2.storage.maxOperationRetryTime"),tH=new d.OlP("angularfire2.storage.use-emulator");let nH=(()=>{class n{constructor(t,r,i,a,l,f,m,v,C,D){const k=(0,zr.on)(t,l,r);this.storage=(0,zr.cc)(`${k.name}.storage.${i}`,"AngularFireStorage",k.name,()=>{const F=l.runOutsideAngular(()=>k.storage(i||void 0)),G=C;return G&&F.useEmulator(...G),m&&F.setMaxUploadRetryTime(m),v&&F.setMaxOperationRetryTime(v),F},[m,v])}ref(t){return VD(this.storage.ref(t))}refFromURL(t){return VD(this.storage.refFromURL(t))}upload(t,r,i){return VD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zr.Dh),d.LFG(zr.xv,8),d.LFG(J$,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zu),d.LFG(X$,8),d.LFG(eH,8),d.LFG(tH,8),d.LFG(hw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function T1(){return(0,Ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,wr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function iH(n,e){return n===e}L(9568);var Xe,sH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$o={},S1=S1||{},Ft=sH||self;function UD(){}function BD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var A1="closure_uid_"+(1e9*Math.random()>>>0),aH=0;function uH(n,e,t){return n.call.apply(n.bind,arguments)}function lH(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uH:lH).apply(null,arguments)}function jD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ic(){this.s=this.s,this.o=this.o}Ic.prototype.s=!1,Ic.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function oH(n){Object.prototype.hasOwnProperty.call(n,A1)&&n[A1]||(n[A1]=++aH)}(this)},Ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function x1(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function XO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(BD(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var dH=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",UD,e),Ft.removeEventListener("test",UD,e)}catch{}return n}();function $D(n){return/^[\s\xa0]*$/.test(n)}var eF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function M1(n,e){return n<e?-1:n>e?1:0}function HD(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function Ta(n){return-1!=HD().indexOf(n)}function R1(n){return R1[" "](n),n}function tF(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}R1[" "]=UD;var GD,n,hH=Ta("Opera"),ym=Ta("Trident")||Ta("MSIE"),nF=Ta("Edge"),N1=nF||ym,rF=Ta("Gecko")&&!(-1!=HD().toLowerCase().indexOf("webkit")&&!Ta("Edge"))&&!(Ta("Trident")||Ta("MSIE"))&&!Ta("Edge"),fH=-1!=HD().toLowerCase().indexOf("webkit")&&!Ta("Edge");function iF(){var n=Ft.document;return n?n.documentMode:void 0}e:{var k1="",P1=(n=HD(),rF?/rv:([^\);]+)(\)|;)/.exec(n):nF?/Edge\/([\d\.]+)/.exec(n):ym?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fH?/WebKit\/(\S+)/.exec(n):hH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(P1&&(k1=P1?P1[1]:""),ym){var O1=iF();if(null!=O1&&O1>parseFloat(k1)){GD=String(O1);break e}}GD=k1}var pH={},mH=Ft.document&&ym&&(iF()||parseInt(GD,10))||void 0;function pw(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rF){e:{try{R1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yH[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pw.$.h.call(this)}}Wr(pw,Ci);var yH={2:"touch",3:"pen",4:"mouse"};pw.prototype.h=function(){pw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gw="closure_listenable_"+(1e6*Math.random()|0),_H=0;function vH(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++_H,this.fa=this.ia=!1}function zD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function L1(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oF(n){const e={};for(const t in n)e[t]=n[t];return e}const aF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<aF.length;a++)t=aF[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qD(n){this.src=n,this.g={},this.h=0}function V1(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=JO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(zD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function U1(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}qD.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=U1(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new vH(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var B1="closure_lm_"+(1e6*Math.random()|0),j1={};function lF(n,e,t,r,i){if(r&&r.once)return dF(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)lF(n,e[a],t,r,i);return null}return t=z1(t),n&&n[gw]?n.O(e,t,fw(r)?!!r.capture:!!r,i):cF(n,e,t,!1,r,i)}function cF(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=fw(i)?!!i.capture:!!i,f=H1(n);if(f||(n[B1]=f=new qD(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function wH(){const e=EH;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dH||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(fF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dF(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)dF(n,e[a],t,r,i);return null}return t=z1(t),n&&n[gw]?n.P(e,t,fw(r)?!!r.capture:!!r,i):cF(n,e,t,!0,r,i)}function hF(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)hF(n,e[a],t,r,i);else r=fw(r)?!!r.capture:!!r,t=z1(t),n&&n[gw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=U1(a=n.g[e],t,r,i))&&(zD(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=H1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=U1(e,t,r,i)),(t=-1<n?e[n]:null)&&$1(t))}function $1(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[gw])V1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=H1(e))?(V1(t,n),0==t.h&&(t.src=null,e[B1]=null)):zD(n)}}}function fF(n){return n in j1?j1[n]:j1[n]="on"+n}function EH(n,e){if(n.fa)n=!0;else{e=new pw(e,this);var t=n.listener,r=n.la||n.src;n.ia&&$1(n),n=t.call(r,e)}return n}function H1(n){return(n=n[B1])instanceof qD?n:null}var G1="__closure_events_fn_"+(1e9*Math.random()>>>0);function z1(n){return"function"==typeof n?n:(n[G1]||(n[G1]=function(e){return n.handleEvent(e)}),n[G1])}function Zr(){Ic.call(this),this.i=new qD(this),this.S=this,this.J=null}function li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;uF(e=new Ci(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=WD(l,r,!0,e)&&i}if(i=WD(l=e.g=n,r,!0,e)&&i,i=WD(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=WD(l=e.g=t[a],r,!1,e)&&i}function WD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,m=l.la||l.src;l.ia&&V1(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Wr(Zr,Ic),Zr.prototype[gw]=!0,Zr.prototype.removeEventListener=function(n,e,t,r){hF(this,n,e,t,r)},Zr.prototype.N=function(){if(Zr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zD(t[r]);delete n.g[e],n.h--}}this.J=null},Zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Zr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var q1=Ft.JSON.stringify;function bH(){var n=mF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var W1,pF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new CH,n=>n.reset());class CH{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DH(n){Ft.setTimeout(()=>{throw n},0)}function gF(n,e){W1||function TH(){var n=Ft.Promise.resolve(void 0);W1=function(){n.then(SH)}}(),Z1||(W1(),Z1=!0),mF.add(n,e)}var Z1=!1,mF=new class IH{constructor(){this.h=this.g=null}add(e,t){const r=pF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function SH(){for(var n;n=bH();){try{n.h.call(n.g)}catch(t){DH(t)}var e=pF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Z1=!1}function ZD(n,e){Zr.call(this),this.h=n||1,this.g=e||Ft,this.j=Ii(this.qb,this),this.l=Date.now()}function K1(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Y1(n,e,t){if("function"==typeof n)t&&(n=Ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function yF(n){n.g=Y1(()=>{n.g=null,n.i&&(n.i=!1,yF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wr(ZD,Zr),(Xe=ZD.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),li(this,"tick"),this.ga&&(K1(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){ZD.$.N.call(this),K1(this),delete this.g};class AH extends Ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yF(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mw(n){Ic.call(this),this.h=n,this.g={}}Wr(mw,Ic);var _F=[];function vF(n,e,t,r){Array.isArray(t)||(t&&(_F[0]=t.toString()),t=_F);for(var i=0;i<t.length;i++){var a=lF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function wF(n){L1(n.g,function(e,t){this.g.hasOwnProperty(t)&&$1(e)},n),n.g={}}function KD(){this.g=!0}function _m(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NH(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return q1(t)}catch{return e}}(n,t)+(r?" "+r:"")})}mw.prototype.N=function(){mw.$.N.call(this),wF(this)},mw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},KD.prototype.Ea=function(){this.g=!1},KD.prototype.info=function(){};var Zh={},EF=null;function YD(){return EF=EF||new Zr}function bF(n){Ci.call(this,Zh.Ta,n)}function yw(n){const e=YD();li(e,new bF(e))}function IF(n,e){Ci.call(this,Zh.STAT_EVENT,n),this.stat=e}function Gi(n){const e=YD();li(e,new IF(e,n))}function CF(n,e){Ci.call(this,Zh.Ua,n),this.size=e}function _w(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Zh.Ta="serverreachability",Wr(bF,Ci),Zh.STAT_EVENT="statevent",Wr(IF,Ci),Zh.Ua="timingevent",Wr(CF,Ci);var QD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q1(){}function SF(){}Q1.prototype.h=null;var eR,vw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function J1(){Ci.call(this,"d")}function X1(){Ci.call(this,"c")}function JD(){}function ww(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new mw(this),this.P=kH,this.V=new ZD(n=N1?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new AF}function AF(){this.i=null,this.g="",this.h=!1}Wr(J1,Ci),Wr(X1,Ci),Wr(JD,Q1),JD.prototype.g=function(){return new XMLHttpRequest},JD.prototype.i=function(){return{}},eR=new JD;var kH=45e3,tR={},XD={};function nR(n,e,t){n.L=1,n.v=rT(Ju(e)),n.s=t,n.S=!0,xF(n,null)}function xF(n,e){n.G=Date.now(),Ew(n),n.A=Ju(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),UF(t.i,"t",r),n.C=0,t=n.l.I,n.h=new AF,n.g=lL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new AH(Ii(n.Pa,n,n.g),n.O)),vF(n.U,n.g,"readystatechange",n.nb),e=n.I?oF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),yw(),function xH(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var D=C.split("_");l=2<=D.length&&"type"==D[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function MF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function RF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=PH(n,t),i==XD){4==e&&(n.o=4,Gi(14),r=!1),_m(n.j,n.m,null,"[Incomplete Response]");break}if(i==tR){n.o=4,Gi(15),_m(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_m(n.j,n.m,i,null),rR(n,i)}MF(n)&&i!=XD&&i!=tR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),dR(e),e.L=!0,Gi(11))):(_m(n.j,n.m,t,"[Invalid Chunked Response]"),Kh(n),bw(n))}function PH(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?XD:(t=Number(e.substring(t,r)),isNaN(t)?tR:(r+=1)+t>e.length?XD:(e=e.substr(r,t),n.C=r+t,e))}function Ew(n){n.Y=Date.now()+n.P,NF(n,n.P)}function NF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_w(Ii(n.lb,n),e)}function eT(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function bw(n){0==n.l.H||n.J||sL(n.l,n)}function Kh(n){eT(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,K1(n.V),wF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function rR(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||iR(t.h,n)))if(!n.K&&iR(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;lT(t),aT(t)}cR(t),Gi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=_w(Ii(t.ib,t),6e3));if(1>=$F(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Qh(t,11)}else if((n.K||t.g==n)&&lT(t),!$D(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.J=v[1],t.oa=v[2];const C=v[3];null!=C&&(t.qa=C,t.j.info("VER="+t.qa));const D=v[4];null!=D&&(t.Ga=D,t.j.info("SVER="+t.Ga));const k=v[5];null!=k&&"number"==typeof k&&0<k&&(t.K=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const F=n.g;if(F){const G=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(sR(a,a.h),a.h=null))}if(r.F){const Q=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.Da=Q,Bn(r.G,r.F,Q))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=uL(r,r.I?r.oa:null,r.Y),l.K){HF(r.h,l);var f=l,m=r.K;m&&f.setTimeout(m),f.B&&(eT(f),Ew(f)),r.g=l}else rL(r);0<t.i.length&&uT(t)}else"stop"!=v[0]&&"close"!=v[0]||Qh(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Qh(t,7):lR(t):"noop"!=v[0]&&t.l&&t.l.Aa(v),t.A=0)}yw()}catch{}}function kF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(BD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FH(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(BD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function OH(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(BD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Xe=ww.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Xu(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const C=Xu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||N1||this.g&&(this.h.h||this.g.ja()||QF(this.g)))){this.J||4!=C||7==e||yw(),eT(this);var t=this.g.da();this.aa=t;t:if(MF(this)){var r=QF(this.g);n="";var i=r.length,a=4==Xu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kh(this),bw(this);var l="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function MH(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$D(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Gi(12),Kh(this),bw(this);break e}_m(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rR(this,t)}this.S?(RF(this,C,l),N1&&this.i&&3==C&&(vF(this.U,this.V,"tick",this.mb),this.V.start())):(_m(this.j,this.m,l,null),rR(this,l)),4==C&&Kh(this),this.i&&!this.J&&(4==C?sL(this.l,this):(this.i=!1,Ew(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),Kh(this),bw(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Xu(this.g),e=this.g.ja();this.C<e.length&&(eT(this),RF(this,n,e),this.i&&4!=n&&Ew(this))}},Xe.cancel=function(){this.J=!0,Kh(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RH(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yw(),Gi(17)),Kh(this),this.o=2,bw(this)):NF(this,this.Y-n)};var PF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yh){this.h=void 0!==e?e:n.h,tT(this,n.j),this.s=n.s,this.g=n.g,nT(this,n.m),this.l=n.l,e=n.i;var t=new Dw;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),OF(this,t),this.o=n.o}else n&&(t=String(n).match(PF))?(this.h=!!e,tT(this,t[1]||"",!0),this.s=Iw(t[2]||""),this.g=Iw(t[3]||"",!0),nT(this,t[4]),this.l=Iw(t[5]||"",!0),OF(this,t[6]||"",!0),this.o=Iw(t[7]||"")):(this.h=!!e,this.i=new Dw(null,this.h))}function Ju(n){return new Yh(n)}function tT(n,e,t){n.j=t?Iw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function nT(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function OF(n,e,t){e instanceof Dw?(n.i=e,function HH(n,e){e&&!n.j&&(Cc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(LF(this,r),UF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Cw(e,jH)),n.i=new Dw(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function rT(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Iw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,VH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function VH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cw(e,FF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cw(e,FF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cw(t,"/"==t.charAt(0)?BH:UH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cw(t,$H)),n.join("")};var FF=/[#\/\?@]/g,UH=/[#\?:]/g,BH=/[#\?]/g,jH=/[#\?@]/g,$H=/#/g;function Dw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cc(n){n.g||(n.g=new Map,n.h=0,n.i&&function LH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function LF(n,e){Cc(n),e=vm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function VF(n,e){return Cc(n),e=vm(n,e),n.g.has(e)}function UF(n,e,t){LF(n,e),0<t.length&&(n.i=null,n.g.set(vm(n,e),x1(t)),n.h+=t.length)}function vm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BF(n){this.l=n||zH,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=Dw.prototype).add=function(n,e){Cc(this),this.i=null,n=vm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Cc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Xe.sa=function(){Cc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Xe.Z=function(n){Cc(this);let e=[];if("string"==typeof n)VF(this,n)&&(e=e.concat(this.g.get(vm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return Cc(this),this.i=null,VF(this,n=vm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var zH=10;function jF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $F(n){return n.h?1:n.g?n.g.size:0}function iR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sR(n,e){n.g?n.g.add(e):n.h=e}function HF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function GF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return x1(n.i)}function oR(){}function qH(){this.g=new oR}function WH(n,e,t){const r=t||"";try{kF(n,function(i,a){let l=i;fw(i)&&(l=q1(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iT(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Tw(n){this.l=n.fc||null,this.j=n.ob||!1}function sT(n,e){Zr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=aR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BF.prototype.cancel=function(){if(this.i=GF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},oR.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},oR.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},Wr(Tw,Q1),Tw.prototype.g=function(){return new sT(this.l,this.j)},Tw.prototype.i=function(n){return function(){return n}}({}),Wr(sT,Zr);var aR=0;function zF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Sw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Aw(n)}function Aw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=sT.prototype).open=function(n,e){if(this.readyState!=aR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Aw(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sw(this)),this.readyState=aR},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Aw(this)),this.g&&(this.readyState=3,Aw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sw(this):Aw(this),3==this.readyState&&zF(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,Sw(this))},Xe.Ya=function(n){this.g&&(this.response=n,Sw(this))},Xe.ka=function(){this.g&&Sw(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KH=Ft.JSON.parse;function ar(n){Zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qF,this.L=this.M=!1}Wr(ar,Zr);var qF="",YH=/^https?$/i,QH=["POST","PUT"];function WF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZF(n),oT(n)}function ZF(n){n.F||(n.F=!0,li(n,"complete"),li(n,"error"))}function KF(n){if(n.h&&typeof S1<"u"&&(!n.C[1]||4!=Xu(n)||2!=n.da()))if(n.v&&4==Xu(n))Y1(n.La,0,n);else if(li(n,"readystatechange"),4==Xu(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(PF)[1]||null;if(!i&&Ft.self&&Ft.self.location){var a=Ft.self.location.protocol;i=a.substr(0,a.length-1)}r=!YH.test(i?i.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var l=2<Xu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",ZF(n)}}finally{oT(n)}}}function oT(n,e){if(n.g){YF(n);const t=n.g,r=n.C[0]?UD:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch{}}}function YF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Xu(n){return n.g?n.g.readyState:0}function QF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case qF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function JF(n){let e="";return L1(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function uR(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=JF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function xw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XF(n){this.Ga=0,this.i=[],this.j=new KD,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xw("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xw("baseRetryDelayMs",5e3,n),this.hb=xw("retryDelaySeedMs",1e4,n),this.eb=xw("forwardChannelMaxRetries",2,n),this.xa=xw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new BF(n&&n.concurrentRequestLimit),this.Ja=new qH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function lR(n){if(eL(n),3==n.H){var e=n.W++,t=Ju(n.G);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),Mw(n,t),(e=new ww(n,n.j,e,void 0)).L=2,e.v=rT(Ju(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=lL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ew(e)}aL(n)}function aT(n){n.g&&(dR(n),n.g.cancel(),n.g=null)}function eL(n){aT(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),lT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function uT(n){jF(n.h)||n.m||(n.m=!0,gF(n.Na,n),n.C=0)}function tL(n,e){var t;t=e?e.m:n.W++;const r=Ju(n.G);Bn(r,"SID",n.J),Bn(r,"RID",t),Bn(r,"AID",n.V),Mw(n,r),n.o&&n.s&&uR(r,n.o,n.s),t=new ww(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=nL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),sR(n.h,t),nR(t,r,e)}function Mw(n,e){n.ma&&L1(n.ma,function(t,r){Bn(e,r,t)}),n.l&&kF({},function(t,r){Bn(e,r,t)})}function nL(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ii(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const C=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),f=!1;else try{WH(C,l,"req"+v+"_")}catch{r&&r(C)}}if(f){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function rL(n){n.g||n.u||(n.ba=1,gF(n.Ma,n),n.A=0)}function cR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=_w(Ii(n.Ma,n),oL(n,n.A)),n.A++,0))}function dR(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function iL(n){n.g=new ww(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ju(n.wa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.M?"0":"1"),Bn(e,"AID",n.V),Bn(e,"TYPE","xmlhttp"),Mw(n,e),n.o&&n.s&&uR(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=rT(Ju(e)),t.s=null,t.S=!0,xF(t,n)}function lT(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function sL(n,e){var t=null;if(n.g==e){lT(n),dR(n),n.g=null;var r=2}else{if(!iR(n.h,e))return;t=e.F,HF(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;li(r=YD(),new CF(r,t)),uT(n)}else rL(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function XH(n,e){return!($F(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=_w(Ii(n.Na,n,e),oL(n,n.C)),n.C++,0)))}(n,e)||2==r&&cR(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Qh(n,5);break;case 4:Qh(n,10);break;case 3:Qh(n,6);break;default:Qh(n,2)}}function oL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Qh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ii(n.pb,n);t||(t=new Yh("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||tT(t,"https"),rT(t)),function ZH(n,e){const t=new KD;if(Ft.Image){const r=new Image;r.onload=jD(iT,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jD(iT,t,r,"TestLoadImage: error",!1,e),r.onabort=jD(iT,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jD(iT,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gi(2);n.H=0,n.l&&n.l.za(e),aL(n),eL(n)}function aL(n){if(n.H=0,n.pa=[],n.l){const e=GF(n.h);(0!=e.length||0!=n.i.length)&&(XO(n.pa,e),XO(n.pa,n.i),n.h.i.length=0,x1(n.i),n.i.length=0),n.l.ya()}}function uL(n,e,t){var r=t instanceof Yh?Ju(t):new Yh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),nT(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Yh(null,void 0);r&&tT(a,r),e&&(a.g=e),i&&nT(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Bn(r,t,e),Bn(r,"VER",n.qa),Mw(n,r),r}function lL(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ha&&!n.va?new Tw({ob:!0}):n.va)).Oa(n.I),e}function cL(){}function cT(){if(ym&&!(10<=Number(mH)))throw Error("Environmental error: no available transport.")}function ks(n,e){Zr.call(this),this.g=new XF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!$D(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$D(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wm(this)}function dL(n){J1.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hL(){X1.call(this),this.status=1}function wm(n){this.g=n}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hR(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function mn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(Xe=ar.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eR.g(),this.C=function TF(n){return n.h||(n.h=n.i())}(this.u?this.u:eR),this.g.onreadystatechange=Ii(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void WF(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=JO(QH,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YF(this),0<this.B&&((this.L=function JH(n){return ym&&function gH(){return tF(pH,9,function(){let n=0;const e=eF(String(GD)).split("."),t=eF("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=M1(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||M1(0==i[2].length,0==a[2].length)||M1(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.ua,this)):this.A=Y1(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){WF(this,a)}},Xe.ua=function(){typeof S1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),oT(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oT(this,!0)),ar.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?KF(this):this.kb())},Xe.kb=function(){KF(this)},Xe.da=function(){try{return 2<Xu(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KH(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=XF.prototype).qa=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new ww(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=oF(a),uF(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nL(this,i,e),Bn(t=Ju(this.G),"RID",n),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),Mw(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(JF(a)))+"&"+e:this.o&&uR(t,this.o,a)),sR(this.h,i),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),i.ba=!0,nR(i,t,null)):nR(i,t,e),this.H=2}}else 3==this.H&&(n?tL(this,n):0==this.i.length||jF(this.h)||tL(this))},Xe.Ma=function(){if(this.u=null,iL(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=_w(Ii(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Gi(10),aT(this),iL(this))},Xe.ib=function(){null!=this.v&&(this.v=null,aT(this),cR(this),Gi(19))},Xe.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Gi(2)):(this.j.info("Failed to ping google.com"),Gi(1))},(Xe=cL.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.Va=function(){},cT.prototype.g=function(n,e){return new ks(n,e)},Wr(ks,Zr),ks.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Gi(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=uL(n,null,n.Y),uT(n)},ks.prototype.close=function(){lR(this.g)},ks.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=q1(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&uT(e)},ks.prototype.N=function(){this.g.l=null,delete this.j,lR(this.g),delete this.g,ks.$.N.call(this)},Wr(dL,J1),Wr(hL,X1),Wr(wm,cL),wm.prototype.Ba=function(){li(this.g,"a")},wm.prototype.Aa=function(n){li(this.g,new dL(n))},wm.prototype.za=function(n){li(this.g,new hL)},wm.prototype.ya=function(){li(this.g,"b")},Wr(Ho,function e4(){this.blockSize=-1}),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)hR(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){hR(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){hR(this,r),i=0;break}}this.h=i,this.i+=e},Ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var t4={};function fR(n){return-128<=n&&128>n?tF(t4,n,function(e){return new mn([0|e],0>e?-1:0)}):new mn([0|n],0>n?-1:0)}function Sa(n){if(isNaN(n)||!isFinite(n))return Em;if(0>n)return ci(Sa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=pR;return new mn(e,0)}var pR=4294967296,Em=fR(0),gR=fR(1),pL=fR(16777216);function el(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function so(n){return-1==n.h}function ci(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new mn(t,~n.h).add(gR)}function dT(n,e){return n.add(ci(e))}function hT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rw(n,e){this.g=n,this.h=e}function fT(n,e){if(el(e))throw Error("division by zero");if(el(n))return new Rw(Em,Em);if(so(n))return e=fT(ci(n),e),new Rw(ci(e.g),ci(e.h));if(so(e))return e=fT(n,ci(e)),new Rw(ci(e.g),e.h);if(30<n.g.length){if(so(n)||so(e))throw Error("slowDivide_ only works with positive integers.");for(var t=gR,r=e;0>=r.X(n);)t=gL(t),r=gL(r);var i=bm(t,1),a=bm(r,1);for(r=bm(r,2),t=bm(t,2);!el(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=bm(r,1),t=bm(t,1)}return e=dT(n,i.R(e)),new Rw(i,e)}for(i=Em;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Sa(t)).R(e);so(l)||0<l.X(n);)l=(a=Sa(t-=r)).R(e);el(a)&&(a=gR),i=i.add(a),n=dT(n,l)}return new Rw(i,n)}function gL(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new mn(t,n.h)}function bm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new mn(i,n.h)}(Xe=mn.prototype).ea=function(){if(so(this))return-ci(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:pR+r)*e,e*=pR}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(el(this))return"0";if(so(this))return"-"+ci(this).toString(n);for(var e=Sa(Math.pow(n,6)),t=this,r="";;){var i=fT(t,e).g,a=((0<(t=dT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(el(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return so(n=dT(this,n))?-1:el(n)?0:1},Xe.abs=function(){return so(this)?ci(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new mn(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(el(this)||el(n))return Em;if(so(this))return so(n)?ci(this).R(ci(n)):ci(ci(this).R(n));if(so(n))return ci(this.R(ci(n)));if(0>this.X(pL)&&0>n.X(pL))return Sa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,hT(t,2*r+2*i),t[2*r+2*i+1]+=a*m,hT(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,hT(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,hT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new mn(t,0)},Xe.gb=function(n){return fT(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new mn(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new mn(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new mn(t,this.h^n.h)},cT.prototype.createWebChannel=cT.prototype.g,ks.prototype.send=ks.prototype.u,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,QD.NO_ERROR=0,QD.TIMEOUT=8,QD.HTTP_ERROR=6,DF.COMPLETE="complete",SF.EventType=vw,vw.OPEN="a",vw.CLOSE="b",vw.ERROR="c",vw.MESSAGE="d",Zr.prototype.listen=Zr.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,mn.prototype.add=mn.prototype.add,mn.prototype.multiply=mn.prototype.R,mn.prototype.modulo=mn.prototype.gb,mn.prototype.compare=mn.prototype.X,mn.prototype.toNumber=mn.prototype.ea,mn.prototype.toString=mn.prototype.toString,mn.prototype.getBits=mn.prototype.D,mn.fromNumber=Sa,mn.fromString=function fL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ci(fL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Sa(Math.pow(e,8)),r=Em,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Sa(Math.pow(e,a)),r=r.R(a).add(Sa(l))):r=(r=r.R(t)).add(Sa(l))}return r};var n4=$o.createWebChannelTransport=function(){return new cT},r4=$o.getStatEventTarget=function(){return YD()},mR=$o.ErrorCode=QD,i4=$o.EventType=DF,s4=$o.Event=Zh,mL=$o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},o4=$o.FetchXmlHttpFactory=Tw,pT=$o.WebChannel=SF,a4=$o.XhrIo=ar,u4=$o.Md5=Ho,Im=$o.Integer=mn;const yL="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Cm="9.22.0";const Dc=new us.Yd("@firebase/firestore");function yR(){return Dc.logLevel}function xe(n,...e){if(Dc.logLevel<=us.in.DEBUG){const t=e.map(_R);Dc.debug(`Firestore (${Cm}): ${n}`,...t)}}function gr(n,...e){if(Dc.logLevel<=us.in.ERROR){const t=e.map(_R);Dc.error(`Firestore (${Cm}): ${n}`,...t)}}function oo(n,...e){if(Dc.logLevel<=us.in.WARN){const t=e.map(_R);Dc.warn(`Firestore (${Cm}): ${n}`,...t)}}function _R(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Cm}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function ft(n,e){n||tt()}function Ze(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ye.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _L{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class h4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f4{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,W.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new _L(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Kr(e)}}class p4{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class g4{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new p4(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.T=t.token,new vL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function y4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=y4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function Dm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function EL(n){return n+"\0"}class jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new jn(0,0))}static max(){return new pt(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nw{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Nw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends Nw{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const _4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends Nw{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return _4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(sn.fromString(e))}static fromName(e){return new ze(sn.fromString(e).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new sn(e.slice()))}}class gT{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vR(n){return n.fields.find(e=>2===e.kind)}function Jh(n){return n.fields.filter(e=>2!==e.kind)}gT.UNKNOWN_ID=-1;class mT{constructor(e,t){this.fieldPath=e,this.kind=t}}class kw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kw(0,Ps.min())}}function bL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(1e9===r?new jn(t+1,0):new jn(t,r));return new Ps(i,ze.empty(),e)}function IL(n){return new Ps(n.readTime,n.key,-1)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(pt.min(),ze.empty(),-1)}static max(){return new Ps(pt.max(),ze.empty(),-1)}}function wR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}const CL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tc(n){return ER.apply(this,arguments)}function ER(){return ER=(0,W.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==CL)throw n;xe("LocalStore","Unexpectedly lost primary lease")}),ER.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},m=>r(m))}),l=!0,a===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(C=>{l[v]=C,++f,f===a&&r(l)},C=>i(C))}})}static doWhile(e,t){return new te((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class yT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Or,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Pw(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=bR(r.target.error);this.v.reject(new Pw(e,i))}}static open(e,t,r,i){try{return new yT(t,e.transaction(i,r))}catch(a){throw new Pw(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new b4(t)}}class Go{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Go.S((0,Ye.z$)())&&gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),Xh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ye.hl)())return!1;if(Go.C())return!0;const e=(0,Ye.z$)(),t=Go.S(e),r=0<t&&t<10,i=Go.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,W.Z)(function*(){return t.db||(xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Pw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new _e(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new _e(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Pw(e,f))},a.onupgradeneeded=l=>{xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,W.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const m=yT.open(a.db,e,l?"readonly":"readwrite",r),v=i(m).next(C=>(m.P(),C)).catch(C=>(m.abort(C),te.reject(C))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,C="FirebaseError"!==v.name&&f<3;if(xe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),a.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class E4{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Xh(this.L.delete())}}class Pw extends _e{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sc(n){return"IndexedDbTransactionError"===n.name}class b4{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xh(r)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),Xh(this.store.add(e))}get(e){return Xh(this.store.get(e)).next(t=>(void 0===t&&(t=null),xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),Xh(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),Xh(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new te((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new te((r,i)=>{t.onerror=a=>{const l=bR(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new te((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const m=new E4(f),v=t(f.primaryKey,f.value,m);if(v instanceof te){const C=v.catch(D=>(m.done(),te.reject(D)));r.push(C)}m.isDone?i():null===m.K?f.continue():f.continue(m.K)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xh(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=bR(r.target.error);t(i)}})}let TL=!1;function bR(n){const e=Go.S((0,Ye.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TL||(TL=!0,setTimeout(()=>{throw r},0)),r}}return n}class I4{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{xe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Sc(r)?xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Tc(r)}yield t.et(6e4)}))}}class C4{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return te.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return xe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(xe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=IL(a);wR(l,r)>0&&(r=l)}),new Ps(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Os=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ow(n){return null==n}function Fw(n){return 0===n&&1/n==-1/0}function SL(n){return"number"==typeof n&&Number.isInteger(n)&&!Fw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Di(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AL(e)),e=D4(n.get(t),e);return AL(e)}function D4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function AL(n){return n+"\x01\x01"}function Aa(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&tt(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:tt()}a=l+2}return new sn(r)}const xL=["userId","batchId"];function _T(n,e){return[n,Di(e)]}function ML(n,e,t){return[n,Di(e),t]}const T4={},S4=["prefixPath","collectionGroup","readTime","documentId"],A4=["prefixPath","collectionGroup","documentId"],x4=["collectionGroup","readTime","prefixPath","documentId"],M4=["canonicalId","targetId"],R4=["targetId","path"],N4=["path","targetId"],k4=["collectionId","parent"],P4=["indexId","uid"],O4=["uid","sequenceNumber"],F4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L4=["indexId","uid","orderedDocumentKey"],V4=["userId","collectionPath","documentId"],U4=["userId","collectionPath","largestBatchId"],B4=["userId","collectionGroup","largestBatchId"],RL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],j4=[...RL,"documentOverlays"],NL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kL=NL,$4=[...kL,"indexConfiguration","indexState","indexEntries"];class IR extends DL{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Yr(n,e){const t=Ze(n);return Go.M(t.ht,e)}function PL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cn{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vT(this.root,e,this.comparator,!1)}getReverseIterator(){return new vT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vT(this.root,e,this.comparator,!0)}}class vT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??di.RED,this.left=i??di.EMPTY,this.right=a??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new di(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FL(this.data.getIterator())}getIteratorFrom(e){return new FL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class FL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tm(n){return n.hasNext()?n.getNext():void 0}class cs{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new cs([])}unionWith(e){let t=new Mn(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class LL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LL("Invalid base64 string: "+i):i}}(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const G4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(n){if(ft(!!n),"string"==typeof n){let e=0;const t=G4.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tl(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function wT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ET(n){const e=n.mapValue.fields.__previous_value__;return wT(e)?ET(e):e}function Lw(n){const e=xc(n.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}class z4{constructor(e,t,r,i,a,l,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bT={nullValue:"NULL_VALUE"};function Nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wT(n)?4:jL(n)?9007199254740991:10:tt()}function xa(n,e){if(n===e)return!0;const t=Nc(n);if(t!==Nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lw(n).isEqual(Lw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=xc(r.timestampValue),l=xc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,tl(n.bytesValue).isEqual(tl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return lr(r.geoPointValue.latitude)===lr(i.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lr(r.integerValue)===lr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=lr(r.doubleValue),l=lr(i.doubleValue);return a===l?Fw(a)===Fw(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Dm(n.arrayValue.values||[],e.arrayValue.values||[],xa);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(PL(a)!==PL(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!xa(a[f],l[f])))return!1;return!0}(n,e);default:return tt()}var i}function Vw(n,e){return void 0!==(n.values||[]).find(t=>xa(t,e))}function kc(n,e){if(n===e)return 0;const t=Nc(n),r=Nc(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=lr(i.integerValue||i.doubleValue),f=lr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return VL(n.timestampValue,e.timestampValue);case 4:return VL(Lw(n),Lw(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(i,a){const l=tl(i),f=tl(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let m=0;m<l.length&&m<f.length;m++){const v=Ot(l[m],f[m]);if(0!==v)return v}return Ot(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ot(lr(i.latitude),lr(a.latitude));return 0!==l?l:Ot(lr(i.longitude),lr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let m=0;m<l.length&&m<f.length;++m){const v=kc(l[m],f[m]);if(v)return v}return Ot(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Rc.mapValue&&a===Rc.mapValue)return 0;if(i===Rc.mapValue)return 1;if(a===Rc.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const D=Ot(f[C],v[C]);if(0!==D)return D;const k=kc(l[f[C]],m[v[C]]);if(0!==k)return k}return Ot(f.length,v.length)}(n.mapValue,e.mapValue);default:throw tt()}}function VL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=xc(n),r=xc(e),i=Ot(t.seconds,r.seconds);return 0!==i?i:Ot(t.nanos,r.nanos)}function Sm(n){return CR(n)}function CR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tl(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=CR(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${CR(r.fields[f])}`;return a+"}"}(n.mapValue):tt();var e}function ef(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function DR(n){return!!n&&"integerValue"in n}function Uw(n){return!!n&&"arrayValue"in n}function UL(n){return!!n&&"nullValue"in n}function BL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function CT(n){return!!n&&"mapValue"in n}function Bw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function q4(n){return"nullValue"in n?bT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ef(Mc.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tt()}function W4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ef(Mc.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rc:tt()}function $L(n,e){const t=kc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function HL(n,e){const t=kc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!CT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bw(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=Bw(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());CT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];CT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ac(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new hi(Bw(this.value))}}function GL(n){const e=[];return Ac(n.fields,(t,r)=>{const i=new ur([t]);if(CT(r)){const a=GL(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new cs(e)}class Rn{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,pt.min(),pt.min(),pt.min(),hi.empty(),0)}static newFoundDocument(e,t,r,i){return new Rn(e,1,t,pt.min(),r,i,0)}static newNoDocument(e,t){return new Rn(e,2,t,pt.min(),pt.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,pt.min(),pt.min(),hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function zL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?ze.comparator(ze.fromName(l.referenceValue),t.key):kc(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xa(n.position[t],e.position[t]))return!1;return!0}class Am{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WL{}class en extends WL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new K4(e,t,r):"array-contains"===t?new J4(e,r):"in"===t?new XL(e,r):"not-in"===t?new X4(e,r):"array-contains-any"===t?new e6(e,r):new en(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Y4(e,r):new Q4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kc(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends WL{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yn(e,t)}matches(e){return xm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xm(n){return"and"===n.op}function TR(n){return"or"===n.op}function SR(n){return ZL(n)&&xm(n)}function ZL(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function AR(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+Sm(n.value);if(SR(n))return n.filters.map(e=>AR(e)).join(",");{const e=n.filters.map(t=>AR(t)).join(",");return`${n.op}(${e})`}}function KL(n,e){return n instanceof en?(t=n,(r=e)instanceof en&&t.op===r.op&&t.field.isEqual(r.field)&&xa(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&KL(a,r.filters[l]),!0)}(n,e):void tt();var t,r}function YL(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function QL(n){return n instanceof en?`${(e=n).field.canonicalString()} ${e.op} ${Sm(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(QL).join(" ,")+"}"}(n):"Filter";var e}class K4 extends en{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class Y4 extends en{constructor(e,t){super(e,"in",t),this.keys=JL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q4 extends en{constructor(e,t){super(e,"not-in",t),this.keys=JL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class J4 extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uw(t)&&Vw(t.arrayValue,this.value)}}class XL extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vw(this.value.arrayValue,t)}}class X4 extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vw(this.value.arrayValue,t)}}class e6 extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vw(this.value.arrayValue,r))}}class t6{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function xR(n,e=null,t=[],r=[],i=null,a=null,l=null){return new t6(n,e,t,r,i,a,l)}function tf(n){const e=Ze(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>AR(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ow(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sm(r)).join(",")),e.dt=t}return e.dt}function jw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qL(n.startAt,e.startAt)&&qL(n.endAt,e.endAt)}function DT(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TT(n,e){return n.filters.filter(t=>t instanceof en&&t.field.isEqual(e))}function e2(n,e,t){let r=bT,i=!0;for(const a of TT(n,e)){let l=bT,f=!0;switch(a.op){case"<":case"<=":l=q4(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=bT}$L({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];$L({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function t2(n,e,t){let r=Rc,i=!0;for(const a of TT(n,e)){let l=Rc,f=!0;switch(a.op){case">=":case">":l=W4(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Rc}HL({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];HL({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class nl{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function n2(n,e,t,r,i,a,l,f){return new nl(n,e,t,r,i,a,l,f)}function Mm(n){return new nl(n)}function r2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function MR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ST(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function RR(n){return null!==n.collectionGroup}function nf(n){const e=Ze(n);if(null===e.wt){e.wt=[];const t=ST(e),r=MR(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Am(t)),e.wt.push(new Am(ur.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Am(ur.keyField(),a))}}}return e.wt}function zi(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=xR(e.path,e.collectionGroup,nf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of nf(e))t.push(new Am(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;e._t=xR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function NR(n,e){e.getFirstInequalityField(),ST(n);const t=n.filters.concat([e]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function AT(n,e,t){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $w(n,e){return jw(zi(n),zi(e))&&n.limitType===e.limitType}function i2(n){return`${tf(zi(n))}|lt:${n.limitType}`}function kR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>QL(r)).join(", ")}]`),Ow(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sm(r)).join(",")),`Target(${t})`}(zi(n))}; limitType=${n.limitType})`}function Hw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of nf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=zL(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,nf(t),r)||t.endAt&&!function(i,a,l){const f=zL(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,nf(t),r)));var t,r}function s2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o2(n){return(e,t)=>{let r=!1;for(const i of nf(n)){const a=n6(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function n6(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),m=l.data.field(i);return null!==f&&null!==m?kc(f,m):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return OL(this.inner)}size(){return this.innerSize}}const r6=new Cn(ze.comparator);function ds(){return r6}const a2=new Cn(ze.comparator);function Gw(...n){let e=a2;for(const t of n)e=e.insert(t.key,t);return e}function u2(n){let e=a2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ma(){return zw()}function l2(){return zw()}function zw(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const i6=new Cn(ze.comparator),s6=new Mn(ze.comparator);function jt(...n){let e=s6;for(const t of n)e=e.add(t);return e}const o6=new Mn(Ot);function PR(){return o6}function c2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fw(e)?"-0":e}}function d2(n){return{integerValue:""+n}}function h2(n,e){return SL(e)?d2(e):c2(n,e)}class xT{constructor(){this._=void 0}}function a6(n,e,t){return n instanceof Rm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wT(i)&&(i=ET(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof rf?p2(n,e):n instanceof sf?g2(n,e):function(r,i){const a=f2(r,i),l=m2(a)+m2(r.gt);return DR(a)&&DR(r.gt)?d2(l):c2(r.serializer,l)}(n,e)}function u6(n,e,t){return n instanceof rf?p2(n,e):n instanceof sf?g2(n,e):t}function f2(n,e){return n instanceof Nm?DR(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Rm extends xT{}class rf extends xT{constructor(e){super(),this.elements=e}}function p2(n,e){const t=y2(e);for(const r of n.elements)t.some(i=>xa(i,r))||t.push(r);return{arrayValue:{values:t}}}class sf extends xT{constructor(e){super(),this.elements=e}}function g2(n,e){let t=y2(e);for(const r of n.elements)t=t.filter(i=>!xa(i,r));return{arrayValue:{values:t}}}class Nm extends xT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function m2(n){return lr(n.integerValue||n.doubleValue)}function y2(n){return Uw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qw{constructor(e,t){this.field=e,this.transform=t}}class c6{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function MT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class RT{}function _2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Pm(n.key,$n.none()):new km(n.key,n.data,$n.none());{const t=n.data,r=hi.empty();let i=new Mn(ur.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new il(n.key,r,new cs(i.toArray()),$n.none())}}function d6(n,e,t){n instanceof km?function(r,i,a){const l=r.value.clone(),f=E2(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof il?function(r,i,a){if(!MT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=E2(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(w2(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ww(n,e,t,r){return n instanceof km?function(i,a,l,f){if(!MT(i.precondition,a))return l;const m=i.value.clone(),v=b2(i.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof il?function(i,a,l,f){if(!MT(i.precondition,a))return l;const m=b2(i.fieldTransforms,f,a),v=a.data;return v.setAll(w2(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,MT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function h6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=f2(r.transform,i||null);null!=a&&(null===t&&(t=hi.empty()),t.set(r.field,a))}return t||null}function v2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Dm(t,r,(i,a)=>function l6(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof rf&&r instanceof rf||t instanceof sf&&r instanceof sf?Dm(t.elements,r.elements,xa):t instanceof Nm&&r instanceof Nm?xa(t.gt,r.gt):t instanceof Rm&&r instanceof Rm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class km extends RT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class il extends RT{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function w2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function E2(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,u6(l,f,t[i]))}return r}function b2(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,a6(a,l,e))}return r}class Pm extends RT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends RT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&d6(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ww(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ww(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=l2();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const m=_2(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&Dm(this.mutations,e.mutations,(t,r)=>v2(t,r))&&Dm(this.baseMutations,e.baseMutations,(t,r)=>v2(t,r))}}class LR{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=i6;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new LR(e,t,r,i)}}class VR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class p6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ir,on;function I2(n){switch(n){default:return tt();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function C2(n){if(void 0===n)return gr("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ir.OK:return re.OK;case Ir.CANCELLED:return re.CANCELLED;case Ir.UNKNOWN:return re.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return re.INTERNAL;case Ir.UNAVAILABLE:return re.UNAVAILABLE;case Ir.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ir.NOT_FOUND:return re.NOT_FOUND;case Ir.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ir.ABORTED:return re.ABORTED;case Ir.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ir.DATA_LOSS:return re.DATA_LOSS;default:return tt()}}(on=Ir||(Ir={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class UR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return NT}static getOrCreateInstance(){return null===NT&&(NT=new UR),NT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let NT=null;function D2(){return new TextEncoder}const g6=new Im([4294967295,4294967295],0);function T2(n){const e=D2().encode(n),t=new u4;return t.update(e),new Uint8Array(t.digest())}function S2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Im([t,r],0),new Im([i,a],0)]}class BR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zw(`Invalid padding: ${t}`);if(r<0)throw new Zw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Zw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Zw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Im.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Im.fromNumber(r)));return 1===i.compare(g6)&&(i=new Im([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=T2(e),[r,i]=S2(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new BR(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=T2(e),[r,i]=S2(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Zw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kw{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Yw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kw(pt.min(),i,new Cn(Ot),ds(),jt())}}class Yw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yw(r,t,jt(),jt(),jt())}}class kT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class A2{constructor(e,t){this.targetId=e,this.Vt=t}}class x2{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class M2{constructor(){this.St=0,this.Dt=N2(),this.Ct=Fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=jt(),t=jt(),r=jt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new Yw(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=N2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class m6{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ds(),this.zt=R2(),this.Wt=new Cn(Ot)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(DT(l))if(0===i){const f=new ze(l.path);this.Yt(r,f,Rn.newNoDocument(f,pt.min()))}else ft(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=UR.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,D){var k,F,G,Q,J,Ie;const Fe={localCacheCount:C,existenceFilterCount:D.count},Le=D.unchangedNames;return Le&&(Fe.bloomFilter={applied:0===v,hashCount:null!==(k=Le?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(Q=null===(G=null===(F=Le?.bits)||void 0===F?void 0:F.bitmap)||void 0===G?void 0:G.length)&&void 0!==Q?Q:0,padding:null!==(Ie=null===(J=Le?.bits)||void 0===J?void 0:J.padding)&&void 0!==Ie?Ie:0}),Fe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let m,v;try{m=tl(a).toUint8Array()}catch(C){if(C instanceof LL)return oo("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new BR(m,l,f)}catch(C){return oo(C instanceof Zw?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&DT(f.target)){const m=new ze(f.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,Rn.newNoDocument(m,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=jt();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new Kw(e,t,this.Wt,this.jt,r);return this.jt=ds(),this.zt=R2(),this.Wt=new Cn(Ot),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new M2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Mn(Ot),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||xe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new M2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function R2(){return new Cn(ze.comparator)}function N2(){return new Cn(ze.comparator)}const y6={asc:"ASCENDING",desc:"DESCENDING"},_6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v6={and:"AND",or:"OR"};class w6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jR(n,e){return n.useProto3Json||Ow(e)?e:{value:e}}function Om(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function E6(n,e){return Om(n,e.toTimestamp())}function mr(n){return ft(!!n),pt.fromTimestamp(function(e){const t=xc(e);return new jn(t.seconds,t.nanos)}(n))}function $R(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function P2(n){const e=sn.fromString(n);return ft(H2(e)),e}function Qw(n,e){return $R(n.databaseId,e.path)}function Ra(n,e){const t=P2(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(F2(t))}function HR(n,e){return $R(n.databaseId,e)}function O2(n){const e=P2(n);return 4===e.length?sn.emptyPath():F2(e)}function Jw(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F2(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function L2(n,e,t){return{name:Qw(n,e),fields:t.value.mapValue.fields}}function V2(n,e,t){const r=Ra(n,e.name),i=mr(e.updateTime),a=e.createTime?mr(e.createTime):pt.min(),l=new hi({mapValue:{fields:e.fields}}),f=Rn.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Xw(n,e){let t;if(e instanceof km)t={update:L2(n,e.key,e.value)};else if(e instanceof Pm)t={delete:Qw(n,e.key)};else if(e instanceof il)t={update:L2(n,e.key,e.data),updateMask:x6(e.fieldMask)};else{if(!(e instanceof OR))return tt();t={verify:Qw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof rf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Nm)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:E6(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tt()),t;var i}function GR(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?$n.updateTime(mr(i.updateTime)):void 0!==i.exists?$n.exists(i.exists):$n.none():$n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(ft("REQUEST_TIME"===l.setToServerValue),f=new Rm):"appendMissingElements"in l?f=new rf(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new sf(l.removeAllFromArray.values||[]):"increment"in l?f=new Nm(a,l.increment):tt();const m=ur.fromServerFormat(l.fieldPath);return new qw(m,f)}(n,i)):[];var i;if(e.update){const i=Ra(n,e.update.name),a=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new cs((e.updateMask.fieldPaths||[]).map(v=>ur.fromServerFormat(v)));return new il(i,a,l,t,r)}return new km(i,a,t,r)}if(e.delete){const i=Ra(n,e.delete);return new Pm(i,t)}if(e.verify){const i=Ra(n,e.verify);return new OR(i,t)}return tt()}function U2(n,e){return{documents:[HR(n,e.path)]}}function zR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HR(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HR(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return $2(yn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Oc((C=v).field),direction:T6(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=jR(n,e.limit);var f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function B2(n){let e=O2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const D=j2(C);return D instanceof yn&&SR(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new Am(Fm((D=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(C){let D;return D="object"==typeof C?C.value:C,Ow(D)?null:D}(t.limit));let m=null;var C;t.startAt&&(m=new Pc((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Pc(C.values||[],!C.before)}(t.endAt)),n2(e,i,l,a,f,"F",m,v)}function j2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fm(e.unaryFilter.field);return en.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Fm(e.unaryFilter.field);return en.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fm(e.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Fm(e.unaryFilter.field);return en.create(a,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(n):void 0!==n.fieldFilter?en.create(Fm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>j2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(n):tt();var e}function T6(n){return y6[n]}function S6(n){return _6[n]}function A6(n){return v6[n]}function Oc(n){return{fieldPath:n.canonicalString()}}function Fm(n){return ur.fromServerFormat(n.fieldPath)}function $2(n){return n instanceof en?function(e){if("=="===e.op){if(BL(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NAN"}};if(UL(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BL(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NOT_NAN"}};if(UL(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(e.field),op:S6(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>$2(r));return 1===t.length?t[0]:{compositeFilter:{op:A6(e.op),filters:t}}}(n):tt()}function x6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class sl{constructor(e,t,r,i,a=pt.min(),l=pt.min(),f=Fr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G2{constructor(e){this.fe=e}}function z2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:PT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Qw(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Om(i,a.version.toTimestamp()),createTime:Om(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:af(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:t.path.toArray(),version:af(e.version)}}var i,a;return r}function PT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function af(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uf(n){const e=new jn(n.seconds,n.nanoseconds);return pt.fromTimestamp(e)}function lf(n,e){const t=(e.baseMutations||[]).map(a=>GR(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(l.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>GR(n.fe,a)),i=jn.fromMillis(e.localWriteTimeMs);return new FR(e.batchId,i,t,r)}function eE(n){const e=uf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?uf(n.lastLimboFreeSnapshotVersion):pt.min();let r;var i;return void 0!==n.query.documents?(ft(1===(i=n.query).documents.length),r=zi(Mm(O2(i.documents[0])))):r=zi(B2(n.query)),new sl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Fr.fromBase64String(n.resumeToken))}function q2(n,e){const t=af(e.snapshotVersion),r=af(e.lastLimboFreeSnapshotVersion);let i;i=DT(e.target)?U2(n.fe,e.target):zR(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qR(n){const e=B2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?AT(e,e.limit,"L"):e}function WR(n,e){return new VR(e.largestBatchId,GR(n.fe,e.overlayMutation))}function W2(n,e){const t=e.path.lastSegment();return[n,Di(e.path.popLast()),t]}function Z2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:af(r.readTime),documentKey:Di(r.documentKey.path),largestBatchId:r.largestBatchId}}class R6{getBundleMetadata(e,t){return K2(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:uf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return K2(e).put({bundleId:(r=t).id,createTime:af(mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Y2(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:qR(i.bundledQuery),readTime:uf(i.readTime)};var i})}saveNamedQuery(e,t){return Y2(e).put({name:(r=t).name,readTime:af(mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function K2(n){return Yr(n,"bundles")}function Y2(n){return Yr(n,"namedQueries")}class OT{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new OT(e,t.uid||"")}getOverlay(e,t){return tE(e).get(W2(this.userId,t)).next(r=>r?WR(this.serializer,r):null)}getOverlays(e,t){const r=Ma();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new VR(t,l);i.push(this.we(e,f))}),te.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Di(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(tE(e).J("collectionPathOverlayIndex",f))}),te.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ma(),a=Di(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return tE(e).j("collectionPathOverlayIndex",l).next(f=>{for(const m of f){const v=WR(this.serializer,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ma();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tE(e).X({index:"collectionGroupOverlayIndex",range:f},(m,v,C)=>{const D=WR(this.serializer,v);a.size()<i||D.largestBatchId===l?(a.set(D.getKey(),D),l=D.largestBatchId):C.done()}).next(()=>a)}we(e,t){return tE(e).put(function(r,i,a){const[l,f,m]=W2(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Xw(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function tE(n){return Yr(n,"documentOverlays")}class cf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Fw(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(tl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?jL(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):tt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function N6(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Q2(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=N6(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}cf.Ve=new cf;class k6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=Q2(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=Q2(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class P6{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class O6{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class nE{constructor(){this.je=new k6,this.ze=new P6(this.je),this.We=new O6(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class df{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new df(this.indexId,this.documentKey,this.arrayValue,r)}}function Fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=J2(n.arrayValue,e.arrayValue),0!==t?t:(t=J2(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function J2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class F6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ft(e.collectionGroup===this.collectionId);const t=vR(e);if(void 0!==t&&!this.en(t))return!1;const r=Jh(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],l))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function X2(n){var e,t;if(ft(n instanceof en||n instanceof yn),n instanceof en){if(n instanceof XL){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>en.create(n.field,"==",a)))||[];return yn.create(i,"or")}return n}const r=n.filters.map(i=>X2(i));return yn.create(r,n.op)}function L6(n){if(0===n.getFilters().length)return[];const e=YR(X2(n));return ft(eV(e)),ZR(e)||KR(e)?[e]:e.getFilters()}function ZR(n){return n instanceof en}function KR(n){return n instanceof yn&&SR(n)}function eV(n){return ZR(n)||KR(n)||function(e){if(e instanceof yn&&TR(e)){for(const t of e.getFilters())if(!ZR(t)&&!KR(t))return!1;return!0}return!1}(n)}function YR(n){if(ft(n instanceof en||n instanceof yn),n instanceof en)return n;if(1===n.filters.length)return YR(n.filters[0]);const e=n.filters.map(r=>YR(r));let t=yn.create(e,n.op);return t=FT(t),eV(t)?t:(ft(t instanceof yn),ft(xm(t)),ft(t.filters.length>1),t.filters.reduce((r,i)=>QR(r,i)))}function QR(n,e){let t;return ft(n instanceof en||n instanceof yn),ft(e instanceof en||e instanceof yn),t=n instanceof en?e instanceof en?yn.create([n,e],"and"):tV(n,e):e instanceof en?tV(e,n):function(r,i){if(ft(r.filters.length>0&&i.filters.length>0),xm(r)&&xm(i))return YL(r,i.getFilters());const a=TR(r)?r:i,l=TR(r)?i:r,f=a.filters.map(m=>QR(m,l));return yn.create(f,"or")}(n,e),FT(t)}function tV(n,e){if(xm(e))return YL(e,n.getFilters());{const t=e.filters.map(r=>QR(n,r));return yn.create(t,"or")}}function FT(n){if(ft(n instanceof en||n instanceof yn),n instanceof en)return n;const e=n.getFilters();if(1===e.length)return FT(e[0]);if(ZL(n))return n;const t=e.map(i=>FT(i)),r=[];return t.forEach(i=>{i instanceof en?r.push(i):i instanceof yn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:yn.create(r,n.op)}class V6{constructor(){this.rn=new JR}addToCollectionParentIndex(e,t){return this.rn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ps.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class JR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mn(sn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(sn.comparator)).toArray()}}const LT=new Uint8Array(0);class U6{constructor(e,t){this.user=e,this.databaseId=t,this.on=new JR,this.un=new rl(r=>tf(r),(r,i)=>jw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Di(i)};return nV(e).put(a)}return te.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[EL(t),""],!1,!0);return nV(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Aa(l.parent))}return r})}addFieldIndex(e,t){const r=VT(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=iE(e);return a.next(f=>{l.put(Z2(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=VT(e),i=iE(e),a=rE(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=rE(e);let i=!0;const a=new Map;return te.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=jt();const f=[];return te.forEach(a,(m,v)=>{var C;xe("IndexedDbIndexManager",`Using index ${C=m,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${tf(t)}`);const D=function(Le,$e){const It=vR($e);if(void 0===It)return null;for(const Ct of TT(Le,It.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(v,m),k=function(Le,$e){const It=new Map;for(const Ct of Jh($e))for(const nn of TT(Le,Ct.fieldPath))switch(nn.op){case"==":case"in":It.set(Ct.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return It.set(Ct.fieldPath.canonicalString(),nn.value),Array.from(It.values())}return null}(v,m),F=function(Le,$e){const It=[];let Ct=!0;for(const nn of Jh($e)){const Zn=0===nn.kind?e2(Le,nn.fieldPath,Le.startAt):t2(Le,nn.fieldPath,Le.startAt);It.push(Zn.value),Ct&&(Ct=Zn.inclusive)}return new Pc(It,Ct)}(v,m),G=function(Le,$e){const It=[];let Ct=!0;for(const nn of Jh($e)){const Zn=0===nn.kind?t2(Le,nn.fieldPath,Le.endAt):e2(Le,nn.fieldPath,Le.endAt);It.push(Zn.value),Ct&&(Ct=Zn.inclusive)}return new Pc(It,Ct)}(v,m),Q=this.hn(m,v,F),J=this.hn(m,v,G),Ie=this.ln(m,v,k),Fe=this.fn(m.indexId,D,Q,F.inclusive,J,G.inclusive,Ie);return te.forEach(Fe,Le=>r.H(Le,t.limit).next($e=>{$e.forEach(It=>{const Ct=ze.fromSegments(It.documentKey);l.has(Ct)||(l=l.add(Ct),f.push(Ct))})}))}).next(()=>f)}return te.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:L6(yn.create(e.filters,"and")).map(r=>xR(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const m=(null!=t?t.length:1)*Math.max(r.length,a.length),v=m/(null!=t?t.length:1),C=[];for(let D=0;D<m;++D){const k=t?this.dn(t[D/v]):LT,F=this.wn(e,k,r[D%v],i),G=this._n(e,k,a[D%v],l),Q=f.map(J=>this.wn(e,k,J,!0));C.push(...this.createRange(F,G,Q))}return C}wn(e,t,r,i){const a=new df(e,ze.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new df(e,ze.empty(),t,r);return i?a.Je():a}an(e,t){const r=new F6(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return te.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new Mn(ur.comparator),v=!1;for(const C of f.filters)for(const D of C.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:m=m.add(D.field));for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new nE;for(const i of Jh(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);cf.Ve._e(a,l)}return r.Qe()}dn(e){const t=new nE;return cf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new nE;return cf.Ve._e(ef(this.databaseId,t),r.He(function(i){const a=Jh(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new nE);let a=0;for(const l of Jh(e)){const f=r[a++];for(const m of i)if(this.yn(t,l.fieldPath)&&Uw(f))i=this.pn(i,l,f);else{const v=m.He(l.kind);cf.Ve._e(f,v)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const m=new nE;m.seed(f.Qe()),cf.Ve._e(l,m.He(t.kind)),a.push(m)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof en&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=VT(e),i=iE(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return te.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{l.push(function(v,C){const D=C?new kw(C.sequenceNumber,new Ps(uf(C.readTime),new ze(Aa(C.documentKey)),C.largestBatchId)):kw.empty(),k=v.fields.map(([F,G])=>new mT(ur.fromServerFormat(F),G));return new gT(v.indexId,v.collectionGroup,k,D)}(f,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ot(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=VT(e),a=iE(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>te.forEach(f,m=>a.put(Z2(m.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?te.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),te.forEach(f,m=>this.En(e,i,m).next(v=>{const C=this.An(a,m);return v.isEqual(C)?te.resolve():this.vn(e,a,m,v,C)}))))})}Rn(e,t,r,i){return rE(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return rE(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=rE(e);let a=new Mn(Fc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new df(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Mn(Fc);const i=this.mn(t,e);if(null==i)return r;const a=vR(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Uw(l))for(const f of l.arrayValue.values||[])r=r.add(new df(t.indexId,e.key,this.dn(f),i))}else r=r.add(new df(t.indexId,e.key,LT,i));return r}vn(e,t,r,i,a){xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,m,v,C,D){const k=f.getIterator(),F=m.getIterator();let G=Tm(k),Q=Tm(F);for(;G||Q;){let J=!1,Ie=!1;if(G&&Q){const Fe=v(G,Q);Fe<0?Ie=!0:Fe>0&&(J=!0)}else null!=G?Ie=!0:J=!0;J?(C(Q),Q=Tm(F)):Ie?(D(G),G=Tm(k)):(G=Tm(k),Q=Tm(F))}}(i,a,Fc,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),te.waitFor(l)}Tn(e){let t=1;return iE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>Fc(l,f)).filter((l,f,m)=>!f||0!==Fc(l,m[f-1]));const i=[];i.push(e);for(const l of r){const f=Fc(l,e),m=Fc(l,t);if(0===f)i[0]=e.Je();else if(f>0&&m<0)i.push(l),i.push(l.Je());else if(m>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,LT,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,LT,[]]))}return a}bn(e,t){return Fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(rV)}getMinOffset(e,t){return te.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||tt())).next(rV)}}function nV(n){return Yr(n,"collectionParents")}function rE(n){return Yr(n,"indexEntries")}function VT(n){return Yr(n,"indexConfiguration")}function iE(n){return Yr(n,"indexState")}function rV(n){ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;wR(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ps(e.readTime,e.documentKey,t)}const iV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ti{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const m=r.X({range:l},(C,D,k)=>(f++,k.delete()));a.push(m.next(()=>{ft(1===f)}));const v=[];for(const C of t.mutations){const D=ML(e,C.key.path,t.batchId);a.push(i.delete(D)),v.push(C.key)}return te.waitFor(a).next(()=>v)}function UT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class BT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new BT(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Lm(e),l=Lc(e);return l.add({}).next(f=>{ft("number"==typeof f);const m=new FR(f,t,r,i),v=function(k,F,G){const Q=G.baseMutations.map(Ie=>Xw(k.fe,Ie)),J=G.mutations.map(Ie=>Xw(k.fe,Ie));return{userId:F,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Q,mutations:J}}(this.serializer,this.userId,m),C=[];let D=new Mn((k,F)=>Ot(k.canonicalString(),F.canonicalString()));for(const k of i){const F=ML(this.userId,k.key.path,f);D=D.add(k.key.path.popLast()),C.push(l.put(v)),C.push(a.put(F,T4))}return D.forEach(k=>{C.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Vn[f]=m.keys()}),te.waitFor(C).next(()=>m)})}lookupMutationBatch(e,t){return Lc(e).get(t).next(r=>r?(ft(r.userId===this.userId),lf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?te.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Lc(e).X({index:"userMutationsIndex",range:i},(l,f,m)=>{f.userId===this.userId&&(ft(f.batchId>=r),a=lf(this.serializer,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Lc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).j("userMutationsIndex",t).next(r=>r.map(i=>lf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_T(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Lm(e).X({range:i},(l,f,m)=>{const[v,C,D]=l,k=Aa(C);if(v===this.userId&&t.path.isEqual(k))return Lc(e).get(D).next(F=>{if(!F)throw tt();ft(F.userId===this.userId),a.push(lf(this.serializer,F))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Ot);const i=[];return t.forEach(a=>{const l=_T(this.userId,a.path),f=IDBKeyRange.lowerBound(l),m=Lm(e).X({range:f},(v,C,D)=>{const[k,F,G]=v,Q=Aa(F);k===this.userId&&a.path.isEqual(Q)?r=r.add(G):D.done()});i.push(m)}),te.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=_T(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Mn(Ot);return Lm(e).X({range:l},(m,v,C)=>{const[D,k,F]=m,G=Aa(k);D===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(F)):C.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Lc(e).get(a).next(l=>{if(null===l)throw tt();ft(l.userId===this.userId),r.push(lf(this.serializer,l))}))}),te.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sV(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),te.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Lm(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const m=Aa(a[1]);i.push(m)}else f.done()}).next(()=>{ft(0===i.length)})})}containsKey(e,t){return oV(e,this.userId,t)}xn(e){return aV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oV(n,e,t){const r=_T(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Lm(n).X({range:a,Y:!0},(f,m,v)=>{const[C,D,k]=f;C===e&&D===i&&(l=!0),v.done()}).next(()=>l)}function Lc(n){return Yr(n,"mutations")}function Lm(n){return Yr(n,"documentMutations")}function aV(n){return Yr(n,"mutationQueues")}class hf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new hf(0)}static Mn(){return new hf(-1)}}class B6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new hf(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>pt.fromTimestamp(new jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vm(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Vm(e).X((l,f)=>{const m=eE(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>te.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Vm(e).X((r,i)=>{const a=eE(i);t(a)})}$n(e){return uV(e).get("targetGlobalKey").next(t=>(ft(null!==t),t))}On(e,t){return uV(e).put("targetGlobalKey",t)}Fn(e,t){return Vm(e).put(q2(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Vm(e).X({range:i,index:"queryTargetsIndex"},(l,f,m)=>{const v=eE(f);jw(t,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Vc(e);return t.forEach(l=>{const f=Di(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),te.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vc(e);return te.forEach(t,a=>{const l=Di(a.path);return te.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Vc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vc(e);let a=jt();return i.X({range:r,Y:!0},(l,f,m)=>{const v=Aa(l[1]),C=new ze(v);a=a.add(C)}).next(()=>a)}containsKey(e,t){const r=Di(t.path),i=IDBKeyRange.bound([r],[EL(r)],!1,!0);let a=0;return Vc(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],m,v)=>{0!==l&&(a++,v.done())}).next(()=>a>0)}le(e,t){return Vm(e).get(t).next(r=>r?eE(r):null)}}function Vm(n){return Yr(n,"targets")}function uV(n){return Yr(n,"targetGlobal")}function Vc(n){return Yr(n,"targetDocuments")}function lV([n,e],[t,r]){const i=Ot(n,t);return 0===i?Ot(e,r):i}class j6{constructor(e){this.Ln=e,this.buffer=new Mn(lV),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Sc(r)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tc(r)}yield t.Qn(3e5)}))}}class $6{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(Os.ct);const r=new j6(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(iV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iV):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,m,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),i=this.params.maximumSequenceNumbersToCollect):i=D,l=Date.now(),this.nthSequenceNumber(e,i))).next(D=>(r=D,f=Date.now(),this.removeTargets(e,r,t))).next(D=>(a=D,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(v=Date.now(),yR()<=us.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${D} documents in `+(v-m)+`ms\nTotal Duration: ${v-C}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:D})))}}class H6{constructor(e,t){this.db=e,this.garbageCollector=function dV(n,e){return new $6(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return jT(e,r)}removeReference(e,t,r){return jT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jT(e,t)}Xn(e,t){return function(r,i){let a=!1;return aV(r).Z(l=>oV(r,l,i).next(f=>(f&&(a=!0),te.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const m=this.Xn(e,l).next(v=>{if(!v)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,pt.min()),Vc(e).delete([0,Di(l.path)])))});i.push(m)}}).next(()=>te.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jT(e,t)}Yn(e,t){const r=Vc(e);let i,a=Os.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:m,sequenceNumber:v})=>{0===l?(a!==Os.ct&&t(new ze(Aa(i)),a),a=v,i=m):a=Os.ct}).next(()=>{a!==Os.ct&&t(new ze(Aa(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jT(n,e){return Vc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Di(e.path),sequenceNumber:r}));var r}class hV{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ff(e).put(r)}removeEntry(e,t,r){return ff(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],PT(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return ff(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sE(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return ff(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sE(t))},(i,a)=>{r={document:this.ts(t,a),size:UT(a)}}).next(()=>r)}getEntries(e,t){let r=ds();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=ds(),i=new Cn(ze.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,UT(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return te.resolve();let i=new Mn(mV);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(sE(i.first()),sE(i.last())),l=i.getIterator();let f=l.getNext();return ff(e).X({index:"documentKeyIndex",range:a},(m,v,C)=>{const D=ze.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&mV(f,D)<0;)r(f,null),f=l.getNext();f&&f.isEqual(D)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?C.G(sE(f)):C.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),PT(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ff(e).j(IDBKeyRange.bound(l,f,!0)).next(m=>{let v=ds();for(const C of m){const D=this.ts(ze.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);D.isFoundDocument()&&(Hw(t,D)||i.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=ds();const l=gV(t,r),f=gV(t,Ps.max());return ff(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(m,v,C)=>{const D=this.ts(ze.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(D.key,D),a.size===i&&C.done()}).next(()=>a)}newChangeBuffer(e){return new z6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pV(e).get("remoteDocumentGlobalKey").next(t=>(ft(!!t),t))}Zn(e,t){return pV(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function M6(n,e){let t;if(e.document)t=V2(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=uf(e.noDocument.readTime);t=Rn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=ze.fromSegments(e.unknownDocument.path),i=uf(e.unknownDocument.version);t=Rn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new jn(r[0],r[1]);return pt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(pt.min()))return r}return Rn.newInvalidDocument(e)}}function fV(n){return new G6(n)}class z6 extends hV{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Mn((a,l)=>Ot(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const m=z2(this.os.serializer,l);i=i.add(a.path.popLast()),r+=UT(m)-f.size,t.push(this.os.addEntry(e,a,m))}else if(r-=f.size,this.trackRemovals){const m=z2(this.os.serializer,l.convertToNoDocument(pt.min()));t.push(this.os.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function pV(n){return Yr(n,"remoteDocumentGlobal")}function ff(n){return Yr(n,"remoteDocumentsV14")}function sE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gV(n,e){const t=e.documentKey.path.toArray();return[n,PT(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ot(t[a],r[a]),i)return i;return i=Ot(t.length,r.length),i||(i=Ot(t[t.length-2],r[r.length-2]),i||Ot(t[t.length-1],r[r.length-1]))}class q6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ww(r.mutation,i,cs.empty(),jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){const i=Ma();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Gw();return a.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ma();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=ds();const l=zw(),f=zw();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof il)?a=a.insert(v.key,v):void 0!==C?(l.set(v.key,C.mutation.getFieldMask()),Ww(C.mutation,v,C.mutation.getFieldMask(),jn.now())):l.set(v.key,cs.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var D;return f.set(v,new q6(C,null!==(D=l.get(v))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const r=zw();let i=new Cn((l,f)=>l-f),a=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||cs.empty();C=f.applyToLocalView(v,C),r.set(m,C);const D=(i.get(f.batchId)||jt()).add(m);i=i.insert(f.batchId,D)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,D=l2();C.forEach(k=>{if(!a.has(k)){const F=_2(t.get(k),r.get(k));null!==F&&D.set(k,F),a=a.add(k)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,D))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):RR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):te.resolve(Ma());let f=-1,m=a;return l.next(v=>te.forEach(v,(C,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),a.get(C)?te.resolve():this.remoteDocumentCache.getEntry(e,C).next(k=>{m=m.insert(C,k)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,jt())).next(C=>({batchId:f,changes:u2(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=Gw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Gw();return this.indexManager.getCollectionParents(e,i).next(l=>te.forEach(l,f=>{const m=(v=t,C=f.child(i),new nl(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,D)=>{a=a.insert(C,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,Rn.newInvalidDocument(v)))});let l=Gw();return a.forEach((f,m)=>{const v=i.get(f);void 0!==v&&Ww(v.mutation,m,cs.empty(),jn.now()),Hw(t,m)&&(l=l.insert(f,m))}),l})}}class W6{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return te.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:mr(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:qR(r.bundledQuery),readTime:mr(r.readTime)}),te.resolve();var r}}class Z6{constructor(){this.overlays=new Cn(ze.comparator),this.ls=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ma();return te.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Ma(),a=t.length+1,l=new ze(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Cn((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=a.get(v.largestBatchId);null===C&&(C=Ma(),a=a.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=Ma(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return te.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new VR(t,r));let a=this.ls.get(t);void 0===a&&(a=jt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class XR{constructor(){this.fs=new Mn(Qr.ds),this.ws=new Mn(Qr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Qr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Qr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ze(new sn([])),r=new Qr(t,e),i=new Qr(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ze(new sn([])),r=new Qr(t,e),i=new Qr(t,e+1);let a=jt();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Qr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Qr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ze.comparator(e.key,t.key)||Ot(e.As,t.As)}static _s(e,t){return Ot(e.As,t.As)||ze.comparator(e.key,t.key)}}class K6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Mn(Qr.ds)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new FR(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new Qr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qr(t,0),i=new Qr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Ot);return t.forEach(i=>{const a=new Qr(i,0),l=new Qr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),te.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ze.isDocumentKey(a)||(a=a.child(""));const l=new Qr(new ze(a),0);let f=new Mn(Ot);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},l),te.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return te.forEach(t.mutations,i=>{const a=new Qr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Qr(t,0),i=this.Rs.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return te.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Y6{constructor(e){this.Ds=e,this.docs=new Cn(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=ds();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Rn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ds();const l=t.path,f=new ze(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||wR(IL(C),r)<=0||(i.has(C.key)||Hw(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,i){tt()}Cs(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Q6(this)}getSize(e){return te.resolve(this.size)}}class Q6 extends hV{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class J6{constructor(e){this.persistence=e,this.xs=new rl(t=>tf(t),jw),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new XR,this.targetCount=0,this.Ms=hf.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),te.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new hf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Fn(t),te.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ks.containsKey(t))}}class eN{constructor(e,t){this.$s={},this.overlays={},this.Os=new Os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new J6(this),this.indexManager=new V6,this.remoteDocumentCache=new Y6(r=>this.referenceDelegate.Ls(r)),this.serializer=new G2(t),this.qs=new W6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Z6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new K6(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const i=new X6(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return te.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class X6 extends DL{constructor(e){super(),this.currentSequenceNumber=e}}class $T{constructor(e){this.persistence=e,this.Qs=new XR,this.js=null}static zs(e){return new $T(e)}get Ws(){if(this.js)return this.js;throw tt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),te.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ws,r=>{const i=ze.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,pt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return te.or([()=>te.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class e3{constructor(e){this.serializer=e}O(e,t,r,i){const a=new yT("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xL,{unique:!0}),f.createObjectStore("documentMutations"),_V(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=te.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),_V(e)),l=l.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xL,{unique:!0});const C=m.store("mutations"),D=v.map(k=>C.put(k));return te.waitFor(D)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:V4});m.createIndex("collectionPathOverlayIndex",U4,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",B4,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:S4});m.createIndex("documentKeyIndex",A4),m.createIndex("collectionGroupIndex",x4)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:P4}).createIndex("sequenceNumberIndex",O4,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:F4}).createIndex("documentKeyIndex",L4,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=UT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>te.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>te.forEach(f,m=>{ft(m.userId===a.userId);const v=lf(this.serializer,m);return sV(e,a.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const m=new sn(l),v=[0,Di(m)];a.push(t.get(v).next(C=>C?te.resolve():t.put({targetId:0,path:Di(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>te.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:k4});const r=t.store("collectionParents"),i=new JR,a=l=>{if(i.add(l)){const f=l.lastSegment(),m=l.popLast();return r.put({collectionId:f,parent:Di(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const m=new sn(l);return a(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,m],v)=>{const C=Aa(f);return a(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=eE(i),l=q2(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),m=(v=l,v.document?new ze(sn.fromString(v.document.name).popFirst(5)):v.noDocument?ze.fromSegments(v.noDocument.path):v.unknownDocument?ze.fromSegments(v.unknownDocument.path):tt()).path.toArray();var v;const C={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(C))}).next(()=>te.waitFor(i))}si(e,t){const r=t.store("mutations"),i=fV(this.serializer),a=new eN($T.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(m=>{var v;let C=null!==(v=f.get(m.userId))&&void 0!==v?v:jt();lf(this.serializer,m).keys().forEach(D=>C=C.add(D)),f.set(m.userId,C)}),te.forEach(f,(m,v)=>{const C=new Kr(v),D=OT.de(this.serializer,C),k=a.getIndexManager(C),F=BT.de(C,this.serializer,k,a.referenceDelegate);return new yV(i,F,D,k).recalculateAndSaveOverlaysForDocumentKeys(new IR(t,Os.ct),m).next()})})}}function _V(n){n.createObjectStore("targetDocuments",{keyPath:R4}).createIndex("documentTargetsIndex",N4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M4,{unique:!0}),n.createObjectStore("targetGlobal")}const tN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nN{constructor(e,t,r,i,a,l,f,m,v,C,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=v,this.oi=C,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=k=>Promise.resolve(),!nN.D())throw new _e(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H6(this,i),this.di=t+"main",this.serializer=new G2(m),this.wi=new Go(this.di,this.ui,new e3(this.serializer)),this.Bs=new B6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fV(this.serializer),this.qs=new R6,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,tN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Os(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,W.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,W.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sc(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return oE(e).get("owner").next(t=>te.resolve(this.Ri(t)))}Pi(e){return GT(e).delete(this.clientId)}bi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Yr(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(m=>-1===l.indexOf(m));return te.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?te.resolve(!0):oE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _e(re.FAILED_PRECONDITION,tN);return!1}}return!(!this.networkEnabled||!this.inForeground)||GT(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new IR(t,Os.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>GT(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return BT.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new U6(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return OT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){xe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?$4:14===l?kL:13===l?NL:12===l?j4:11===l?RL:void tt();var l;let f;return this.wi.runTransaction(e,i,a,m=>(f=new IR(m,this.Os?this.Os.next():Os.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _e(re.FAILED_PRECONDITION,CL);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return oE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(re.FAILED_PRECONDITION,tN)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return oE(e).put("owner",t)}static D(){return Go.D()}Ai(e){const t=oE(e);return t.get("owner").next(r=>this.Ri(r)?(xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ye.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){gr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function oE(n){return Yr(n,"owner")}function GT(n){return Yr(n,"clientMetadata")}function rN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=jt(),i=jt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new iN(e,t.fromCache,r,i)}}class vV{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(r2(t))return te.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=AT(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=jt(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,l,m.readTime)?this.Ki(e,AT(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return r2(t)||i.isEqual(pt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(yR()<=us.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kR(t)),this.Wi(e,l,t,bL(i,-1)))})}ji(e,t){let r=new Mn(o2(e));return t.forEach((i,a)=>{Hw(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return yR()<=us.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",kR(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ps.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class t3{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Cn(Ot),this.Yi=new rl(a=>tf(a),jw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wV(n,e,t,r){return new t3(n,e,t,r)}function EV(n,e){return sN.apply(this,arguments)}function sN(){return sN=(0,W.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let m=jt();for(const v of i){l.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of a){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),sN.apply(this,arguments)}function n3(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,m,v){const C=m.batch,D=C.keys();let k=te.resolve();return D.forEach(F=>{k=k.next(()=>v.getEntry(f,F)).next(G=>{const Q=m.docVersions.get(F);ft(null!==Q),G.version.compareTo(Q)<0&&(C.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),v.addEntry(G)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=jt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function bV(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function r3(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((C,D)=>{const k=i.get(D);if(!k)return;f.push(t.Bs.removeMatchingKeys(a,C.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(a,C.addedDocuments,D)));let F=k.withSequenceNumber(a.currentSequenceNumber);var G,Q,J;null!==e.targetMismatches.get(D)?F=F.withResumeToken(Fr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):C.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(C.resumeToken,r)),i=i.insert(D,F),Q=F,J=C,(0===(G=k).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,F))});let m=ds(),v=jt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(IV(a,l,e.documentUpdates).next(C=>{m=C.nr,v=C.sr})),!r.isEqual(pt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(a).next(D=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(C)}return te.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.Ji=i,a))}function IV(n,e,t){let r=jt(),i=jt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ds();return t.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(pt.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):xe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:i}})}function i3(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Um(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new sl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Bm(n,e,t){return oN.apply(this,arguments)}function oN(){return oN=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Sc(l))throw l;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),oN.apply(this,arguments)}function zT(n,e,t){const r=Ze(n);let i=pt.min(),a=jt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,v){const C=Ze(f),D=C.Yi.get(v);return void 0!==D?te.resolve(C.Ji.get(D)):C.Bs.getTargetData(m,v)}(r,l,zi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:pt.min(),t?a:jt())).next(f=>(TV(r,s2(e),f),{documents:f,ir:a})))}function CV(n,e){const t=Ze(n),r=Ze(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function DV(n,e){const t=Ze(n),r=t.Xi.get(e)||pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,bL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TV(t,e,i),i))}function TV(n,e,t){let r=n.Xi.get(e)||pt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function aN(){return aN=(0,W.Z)(function*(n,e,t,r){const i=Ze(n);let a=jt(),l=ds();for(const v of t){const C=e.rr(v.metadata.name);v.document&&(a=a.add(C));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(C,D)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),m=yield Um(i,(v=r,zi(Mm(sn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>IV(v,f,l).next(C=>(f.apply(v),C)).next(C=>i.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Bs.addMatchingKeys(v,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,C.nr,C.sr)).next(()=>C.nr)))}),aN.apply(this,arguments)}function o3(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,W.Z)(function*(n,e,t=jt()){const r=yield Um(n,zi(qR(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=mr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Fr.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),uN.apply(this,arguments)}function SV(n,e){return`firestore_clients_${n}_${e}`}function AV(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lN(n,e){return`firestore_targets_${n}_${e}`}class qT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new _e(i.error.code,i.error.message))),l?new qT(e,t,i.state,a):(gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new _e(r.error.code,r.error.message))),a?new aE(e,r.state,i):(gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=PR();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=SL(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new WT(e,a):(gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cN{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cN(t.clientId,t.onlineState):(gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dN{constructor(){this.activeTargetIds=PR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Cn(Ot),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=SV(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new dN),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(SV(e.persistenceKey,i));if(a){const l=WT.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(lN(this.persistenceKey,e));if(r){const i=aE.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lN(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xe("SharedClientState","READ",e,t),t}setItem(e,t){xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Os.ct;if(null!=a)try{const f=JSON.parse(a);ft("number"==typeof f),l=f}catch(f){gr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Os.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new qT(this.currentUser,e,t,r),a=AV(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=AV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=lN(this.persistenceKey,e),a=new aE(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return WT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return qT.ar(new Kr(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return aE.ar(i,t)}br(e){return cN.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(m=>{i.has(m)||l.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=PR();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class xV{constructor(){this.Hr=new dN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a3{Yr(e){}shutdown(){}}class MV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ZT=null;function fN(){return null===ZT?ZT=268435456+Math.round(2147483648*Math.random()):ZT++,"0x"+ZT.toString(16)}const u3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Si="WebChannelConnection";class c3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=fN(),f=this.To(e,t);xe("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.Eo(m,i,a),this.Ao(e,f,m,r).then(v=>(xe("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw oo("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${u3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=fN();return new Promise((l,f)=>{const m=new a4;m.setWithCredentials(!0),m.listenOnce(i4.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case mR.NO_ERROR:const C=m.getResponseJson();xe(Si,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),l(C);break;case mR.TIMEOUT:xe(Si,`RPC '${e}' ${a} timed out`),f(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case mR.HTTP_ERROR:const D=m.getStatus();if(xe(Si,`RPC '${e}' ${a} failed with status:`,D,"response text:",m.getResponseText()),D>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const G=function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN}(F.status);f(new _e(G,F.message))}else f(new _e(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(re.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{xe(Si,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);xe(Si,`RPC '${e}' ${a} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=fN(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=n4(),f=r4(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new o4({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const C=a.join("");xe(Si,`Creating RPC '${e}' stream ${i}: ${C}`,m);const D=l.createWebChannel(C,m);let k=!1,F=!1;const G=new l3({ro:J=>{F?xe(Si,`Not sending because RPC '${e}' stream ${i} is closed:`,J):(k||(xe(Si,`Opening RPC '${e}' stream ${i} transport.`),D.open(),k=!0),xe(Si,`RPC '${e}' stream ${i} sending:`,J),D.send(J))},oo:()=>D.close()}),Q=(J,Ie,Fe)=>{J.listen(Ie,Le=>{try{Fe(Le)}catch($e){setTimeout(()=>{throw $e},0)}})};return Q(D,pT.EventType.OPEN,()=>{F||xe(Si,`RPC '${e}' stream ${i} transport opened.`)}),Q(D,pT.EventType.CLOSE,()=>{F||(F=!0,xe(Si,`RPC '${e}' stream ${i} transport closed`),G.wo())}),Q(D,pT.EventType.ERROR,J=>{F||(F=!0,oo(Si,`RPC '${e}' stream ${i} transport errored:`,J),G.wo(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),Q(D,pT.EventType.MESSAGE,J=>{var Ie;if(!F){const Fe=J.data[0];ft(!!Fe);const Le=Fe,$e=Le.error||(null===(Ie=Le[0])||void 0===Ie?void 0:Ie.error);if($e){xe(Si,`RPC '${e}' stream ${i} received error:`,$e);const It=$e.status;let Ct=function(Zn){const xi=Ir[Zn];if(void 0!==xi)return C2(xi)}(It),nn=$e.message;void 0===Ct&&(Ct=re.INTERNAL,nn="Unknown error status: "+It+" with message "+$e.message),F=!0,G.wo(new _e(Ct,nn)),D.close()}else xe(Si,`RPC '${e}' stream ${i} received:`,Fe),G._o(Fe)}}),Q(f,s4.STAT_EVENT,J=>{J.stat===mL.PROXY?xe(Si,`RPC '${e}' stream ${i} detected buffering proxy`):J.stat===mL.NOPROXY&&xe(Si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{G.fo()},0),G}}function RV(){return typeof window<"u"?window:null}function KT(){return typeof document<"u"?document:null}function uE(n){return new w6(n,!0)}class pN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class NV{constructor(e,t,r,i,a,l,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,W.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,W.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,W.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,W.Z)(function*(){e.state=0,e.start()}))}tu(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d3 extends NV{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function I6(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:tt(),i=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ft(void 0===v||"string"==typeof v),Fr.fromBase64String(v||"")):(ft(void 0===v||v instanceof Uint8Array),Fr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const v=void 0===m.code?re.UNKNOWN:C2(m.code);return new _e(v,m.message||"")}(l);t=new x2(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ra(n,r.document.name),a=mr(r.document.updateTime),l=r.document.createTime?mr(r.document.createTime):pt.min(),f=new hi({mapValue:{fields:r.document.fields}}),m=Rn.newFoundDocument(i,a,l,f);t=new kT(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Ra(n,r.document),a=r.readTime?mr(r.readTime):pt.min(),l=Rn.newNoDocument(i,a);t=new kT([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Ra(n,r.document);t=new kT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new p6(i,a);t=new A2(r.targetId,l)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?pt.min():a.readTime?mr(a.readTime):pt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Jw(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=DT(f)?{documents:U2(i,f)}:{query:zR(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=k2(i,a.resumeToken);const m=jR(i,a.expectedCount);null!==m&&(l.expectedCount=m)}else if(a.snapshotVersion.compareTo(pt.min())>0){l.readTime=Om(i,a.snapshotVersion.toTimestamp());const m=jR(i,a.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const r=function D6(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Jw(this.serializer),t.removeTarget=e,this.Wo(t)}}class h3 extends NV{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function C6(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,i){let a=mr(r.updateTime?r.updateTime:i);return a.isEqual(pt.min())&&(a=mr(i)),new c6(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.cu(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Jw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Xw(this.serializer,r))};this.Wo(t)}}class f3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(re.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class g3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gr(t),this.mu=!1):xe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class m3{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,W.Z)(function*(){var m;Uc(l)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,W.Z)(function*(v){const C=Ze(v);C.vu.add(4),yield jm(C),C.bu.set("Unknown"),C.vu.delete(4),yield lE(C)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new g3(r,i)}}function lE(n){return mN.apply(this,arguments)}function mN(){return mN=(0,W.Z)(function*(n){if(Uc(n))for(const e of n.Ru)yield e(!0)}),mN.apply(this,arguments)}function jm(n){return yN.apply(this,arguments)}function yN(){return yN=(0,W.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),yN.apply(this,arguments)}function YT(n,e){const t=Ze(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wN(t)?vN(t):Hm(t).Ko()&&_N(t,e))}function cE(n,e){const t=Ze(n),r=Hm(t);t.Au.delete(e),r.Ko()&&kV(t,e),0===t.Au.size&&(r.Ko()?r.jo():Uc(t)&&t.bu.set("Unknown"))}function _N(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hm(n).su(e)}function kV(n,e){n.Vu.qt(e),Hm(n).iu(e)}function vN(n){n.Vu=new m6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Hm(n).start(),n.bu.gu()}function wN(n){return Uc(n)&&!Hm(n).Uo()&&n.Au.size>0}function Uc(n){return 0===Ze(n).vu.size}function PV(n){n.Vu=void 0}function y3(n){return EN.apply(this,arguments)}function EN(){return EN=(0,W.Z)(function*(n){n.Au.forEach((e,t)=>{_N(n,e)})}),EN.apply(this,arguments)}function _3(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,W.Z)(function*(n,e){PV(n),wN(n)?(n.bu.Iu(e),vN(n)):n.bu.set("Unknown")}),bN.apply(this,arguments)}function v3(n,e,t){return IN.apply(this,arguments)}function IN(){return IN=(0,W.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof x2&&2===e.state&&e.cause)try{yield(r=(0,W.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield QT(n,r)}else if(e instanceof kT?n.Vu.Ht(e):e instanceof A2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(pt.min()))try{const r=yield bV(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Fr.EMPTY_BYTE_STRING,v.snapshotVersion)),kV(i,f);const C=new sl(v.target,f,m,v.sequenceNumber);_N(i,C)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),yield QT(n,r)}var r}),IN.apply(this,arguments)}function QT(n,e,t){return CN.apply(this,arguments)}function CN(){return CN=(0,W.Z)(function*(n,e,t){if(!Sc(e))throw e;n.vu.add(1),yield jm(n),n.bu.set("Offline"),t||(t=()=>bV(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield lE(n)}))}),CN.apply(this,arguments)}function OV(n,e){return e().catch(t=>QT(n,t,e))}function $m(n){return DN.apply(this,arguments)}function DN(){return DN=(0,W.Z)(function*(n){const e=Ze(n),t=Bc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;w3(e);)try{const i=yield i3(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,E3(e,i)}catch(i){yield QT(e,i)}FV(e)&&LV(e)}),DN.apply(this,arguments)}function w3(n){return Uc(n)&&n.Eu.length<10}function E3(n,e){n.Eu.push(e);const t=Bc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function FV(n){return Uc(n)&&!Bc(n).Uo()&&n.Eu.length>0}function LV(n){Bc(n).start()}function b3(n){return TN.apply(this,arguments)}function TN(){return TN=(0,W.Z)(function*(n){Bc(n).hu()}),TN.apply(this,arguments)}function I3(n){return SN.apply(this,arguments)}function SN(){return SN=(0,W.Z)(function*(n){const e=Bc(n);for(const t of n.Eu)e.uu(t.mutations)}),SN.apply(this,arguments)}function C3(n,e,t){return AN.apply(this,arguments)}function AN(){return AN=(0,W.Z)(function*(n,e,t){const r=n.Eu.shift(),i=LR.from(r,e,t);yield OV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $m(n)}),AN.apply(this,arguments)}function D3(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,W.Z)(function*(n,e){var t;e&&Bc(n).ou&&(yield(t=(0,W.Z)(function*(r,i){if(I2(a=i.code)&&a!==re.ABORTED){const l=r.Eu.shift();Bc(r).Qo(),yield OV(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield $m(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),FV(n)&&LV(n)}),xN.apply(this,arguments)}function VV(n,e){return MN.apply(this,arguments)}function MN(){return MN=(0,W.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=Uc(t);t.vu.add(3),yield jm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield lE(t)}),MN.apply(this,arguments)}function RN(n,e){return NN.apply(this,arguments)}function NN(){return NN=(0,W.Z)(function*(n,e){const t=Ze(n);e?(t.vu.delete(2),yield lE(t)):e||(t.vu.add(2),yield jm(t),t.bu.set("Unknown"))}),NN.apply(this,arguments)}function Hm(n){return n.Su||(n.Su=function(e,t,r){const i=Ze(e);return i.fu(),new d3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:y3.bind(null,n),ao:_3.bind(null,n),nu:v3.bind(null,n)}),n.Ru.push(function(){var e=(0,W.Z)(function*(t){t?(n.Su.Qo(),wN(n)?vN(n):n.bu.set("Unknown")):(yield n.Su.stop(),PV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Bc(n){return n.Du||(n.Du=function(e,t,r){const i=Ze(e);return i.fu(),new h3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:b3.bind(null,n),ao:D3.bind(null,n),au:I3.bind(null,n),cu:C3.bind(null,n)}),n.Ru.push(function(){var e=(0,W.Z)(function*(t){t?(n.Du.Qo(),yield $m(n)):(yield n.Du.stop(),n.Eu.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class kN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new kN(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Sc(n))return new _e(re.UNAVAILABLE,`${e}: ${n}`);throw n}class zm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Gw(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new zm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new zm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class UV{constructor(){this.Cu=new Cn(ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):tt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class qm{constructor(e,t,r,i,a,l,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new qm(e,t,zm.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$w(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class T3{constructor(){this.Nu=void 0,this.listeners=[]}}class S3{constructor(){this.queries=new rl(e=>i2(e),$w),this.onlineState="Unknown",this.ku=new Set}}function PN(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new T3),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=Gm(l,`Initialization of query '${kR(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&VN(t)}),ON.apply(this,arguments)}function FN(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),LN.apply(this,arguments)}function A3(n,e){const t=Ze(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&VN(t)}function x3(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function VN(n){n.ku.forEach(e=>{e.next()})}class UN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class M3{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class BV{constructor(e){this.serializer=e}rr(e){return Ra(this.serializer,e)}ur(e){return e.metadata.exists?V2(this.serializer,e.document,!1):Rn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return mr(e)}}class R3{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jV(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=sn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new BV(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||jt()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,W.Z)(function*(){const t=yield function s3(n,e,t,r){return aN.apply(this,arguments)}(e.localStore,new BV(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield o3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function jV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $V{constructor(e){this.key=e}}class HV{constructor(e){this.key=e}}class GV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=jt(),this.mutatedKeys=jt(),this.tc=o2(e),this.ec=new zm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new UV,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,D)=>{const k=i.get(C),F=Hw(this.query,D)?D:null,G=!!k&&this.mutatedKeys.has(k.key),Q=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;k&&F?k.data.isEqual(F.data)?G!==Q&&(r.track({type:3,doc:F}),J=!0):this.rc(k,F)||(r.track({type:2,doc:F}),J=!0,(m&&this.tc(F,m)>0||v&&this.tc(F,v)<0)&&(f=!0)):!k&&F?(r.track({type:0,doc:F}),J=!0):k&&!F&&(r.track({type:1,doc:k}),J=!0,(m||v)&&(f=!0)),J&&(F?(l=l.add(F),a=Q?a.add(C):a.delete(C)):(l=l.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),a=a.delete(C.key),r.track({type:1,doc:C})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,C)=>function(D,k){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return F(D)-F(k)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==a.length||m?{snapshot:new qm(this.query,e.ec,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=jt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new HV(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new $V(r))}),t}hc(e){this.Yu=e.ir,this.Zu=jt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class N3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class k3{constructor(e){this.key=e,this.fc=!1}}class P3{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new rl(f=>i2(f),$w),this._c=new Map,this.mc=new Set,this.gc=new Cn(ze.comparator),this.yc=new Map,this.Ic=new XR,this.Tc={},this.Ec=new Map,this.Ac=hf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function O3(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,W.Z)(function*(n,e){const t=lk(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield Um(t.localStore,zi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield jN(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&YT(t.remoteStore,l)}return i}),BN.apply(this,arguments)}function jN(n,e,t,r,i){return $N.apply(this,arguments)}function $N(){return $N=(0,W.Z)(function*(n,e,t,r,i){n.Rc=(D,k,F)=>{return(G=(0,W.Z)(function*(Q,J,Ie,Fe){let Le=J.view.sc(Ie);Le.zi&&(Le=yield zT(Q.localStore,J.query,!1).then(({documents:Ct})=>J.view.sc(Ct,Le)));const $e=Fe&&Fe.targetChanges.get(J.targetId),It=J.view.applyChanges(Le,Q.isPrimaryClient,$e);return JN(Q,J.targetId,It.cc),It.snapshot}),function(Q,J,Ie,Fe){return G.apply(this,arguments)})(n,D,k,F);var G};const a=yield zT(n.localStore,e,!0),l=new GV(e,a.ir),f=l.sc(a.documents),m=Yw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,m);JN(n,t,v.cc);const C=new N3(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),$N.apply(this,arguments)}function F3(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,W.Z)(function*(n,e){const t=Ze(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!$w(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),cE(t.remoteStore,r.targetId),Wm(t,r.targetId)}).catch(Tc))):(Wm(t,r.targetId),yield Bm(t.localStore,r.targetId,!0))}),HN.apply(this,arguments)}function GN(){return GN=(0,W.Z)(function*(n,e,t){const r=ck(n);try{const i=yield function(a,l){const f=Ze(a),m=jn.now(),v=l.reduce((k,F)=>k.add(F.key),jt());let C,D;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=ds(),G=jt();return f.Zi.getEntries(k,v).next(Q=>{F=Q,F.forEach((J,Ie)=>{Ie.isValidDocument()||(G=G.add(J))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,F)).next(Q=>{C=Q;const J=[];for(const Ie of l){const Fe=h6(Ie,C.get(Ie.key).overlayedDocument);null!=Fe&&J.push(new il(Ie.key,Fe,GL(Fe.value.mapValue),$n.exists(!0)))}return f.mutationQueue.addMutationBatch(k,m,J,l)}).next(Q=>{D=Q;const J=Q.applyToLocalDocumentSet(C,G);return f.documentOverlayCache.saveOverlays(k,Q.batchId,J)})}).then(()=>({batchId:D.batchId,changes:u2(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let m=a.Tc[a.currentUser.toKey()];m||(m=new Cn(Ot)),m=m.insert(l,f),a.Tc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield ol(r,i.changes),yield $m(r.remoteStore)}catch(i){const a=Gm(i,"Failed to persist write");t.reject(a)}}),GN.apply(this,arguments)}function zV(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,W.Z)(function*(n,e){const t=Ze(n);try{const r=yield r3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?ft(l.fc):i.removedDocuments.size>0&&(ft(l.fc),l.fc=!1))}),yield ol(t,r,e)}catch(r){yield Tc(r)}}),zN.apply(this,arguments)}function qV(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=Ze(a);f.onlineState=l;let m=!1;f.queries.forEach((v,C)=>{for(const D of C.listeners)D.Mu(l)&&(m=!0)}),m&&VN(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function V3(n,e,t){return qN.apply(this,arguments)}function qN(){return qN=(0,W.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new Cn(ze.comparator);l=l.insert(a,Rn.newNoDocument(a,pt.min()));const f=jt().add(a),m=new Kw(pt.min(),new Map,new Cn(Ot),l,f);yield zV(r,m),r.gc=r.gc.remove(a),r.yc.delete(e),XN(r)}else yield Bm(r.localStore,e,!1).then(()=>Wm(r,e,t)).catch(Tc)}),qN.apply(this,arguments)}function U3(n,e){return WN.apply(this,arguments)}function WN(){return WN=(0,W.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield n3(t.localStore,e);QN(t,r,null),YN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ol(t,i)}catch(i){yield Tc(i)}}),WN.apply(this,arguments)}function B3(n,e,t){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,W.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(a,l){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,l).next(C=>(ft(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);QN(r,e,t),YN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ol(r,i)}catch(i){yield Tc(i)}}),ZN.apply(this,arguments)}function KN(){return KN=(0,W.Z)(function*(n,e){const t=Ze(n);Uc(t.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=Ze(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=Gm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),KN.apply(this,arguments)}function YN(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function QN(n,e,t){const r=Ze(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Wm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||WV(n,r)})}function WV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(cE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),XN(n))}function JN(n,e,t){for(const r of t)r instanceof $V?(n.Ic.addReference(r.key,e),$3(n,r)):r instanceof HV?(xe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||WV(n,r.key)):tt()}function $3(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(xe("SyncEngine","New document in limbo: "+t),n.mc.add(r),XN(n))}function XN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ze(sn.fromString(e)),r=n.Ac.next();n.yc.set(r,new k3(t)),n.gc=n.gc.insert(t,r),YT(n.remoteStore,new sl(zi(Mm(t.path)),r,"TargetPurposeLimboResolution",Os.ct))}}function ol(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{l.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=iN.Li(m.targetId,v);a.push(C)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,W.Z)(function*(m,v){const C=Ze(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>te.forEach(v,k=>te.forEach(k.Fi,F=>C.persistence.referenceDelegate.addReference(D,k.targetId,F)).next(()=>te.forEach(k.Bi,F=>C.persistence.referenceDelegate.removeReference(D,k.targetId,F)))))}catch(D){if(!Sc(D))throw D;xe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const k=D.targetId;if(!D.fromCache){const F=C.Ji.get(k),Q=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);C.Ji=C.Ji.insert(k,Q)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),ek.apply(this,arguments)}function H3(n,e){return tk.apply(this,arguments)}function tk(){return tk=(0,W.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=yield EV(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new _e(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ol(t,r.er)}var i}),tk.apply(this,arguments)}function G3(n,e){const t=Ze(n),r=t.yc.get(e);if(r&&r.fc)return jt().add(r.key);{let i=jt();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function z3(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,W.Z)(function*(n,e){const t=Ze(n),r=yield zT(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&JN(t,e.targetId,i.cc),i}),nk.apply(this,arguments)}function q3(n,e){return rk.apply(this,arguments)}function rk(){return rk=(0,W.Z)(function*(n,e){const t=Ze(n);return DV(t.localStore,e).then(r=>ol(t,r))}),rk.apply(this,arguments)}function W3(n,e,t,r){return ik.apply(this,arguments)}function ik(){return ik=(0,W.Z)(function*(n,e,t,r){const i=Ze(n),a=yield function(l,f){const m=Ze(l),v=Ze(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Sn(C,f).next(D=>D?m.localDocuments.getDocuments(C,D):te.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield $m(i.remoteStore):"acknowledged"===t||"rejected"===t?(QN(i,e,r||null),YN(i,e),f=e,Ze(Ze(i.localStore).mutationQueue).Cn(f)):tt(),yield ol(i,a)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),ik.apply(this,arguments)}function sk(){return sk=(0,W.Z)(function*(n,e){const t=Ze(n);if(lk(t),ck(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ZV(t,r.toArray());t.vc=!0,yield RN(t.remoteStore,!0);for(const a of i)YT(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Wm(t,l),Bm(t.localStore,l,!0))),cE(t.remoteStore,l)}),yield i,yield ZV(t,r),function(a){const l=Ze(a);l.yc.forEach((f,m)=>{cE(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Cn(ze.comparator)}(t),t.vc=!1,yield RN(t.remoteStore,!1)}}),sk.apply(this,arguments)}function ZV(n,e,t){return ok.apply(this,arguments)}function ok(){return ok=(0,W.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[];for(const l of e){let f;const m=r._c.get(l);if(m&&0!==m.length){f=yield Um(r.localStore,zi(m[0]));for(const v of m){const C=r.wc.get(v),D=yield z3(r,C);D.snapshot&&a.push(D.snapshot)}}else{const v=yield CV(r.localStore,l);f=yield Um(r.localStore,v),yield jN(r,KV(v),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),ok.apply(this,arguments)}function KV(n){return n2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function K3(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).$i()}function Y3(n,e,t,r){return ak.apply(this,arguments)}function ak(){return ak=(0,W.Z)(function*(n,e,t,r){const i=Ze(n);if(i.vc)return void xe("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield DV(i.localStore,s2(a[0])),f=Kw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Fr.EMPTY_BYTE_STRING);yield ol(i,l,f);break}case"rejected":yield Bm(i.localStore,e,!0),Wm(i,e,r);break;default:tt()}}),ak.apply(this,arguments)}function Q3(n,e,t){return uk.apply(this,arguments)}function uk(){return uk=(0,W.Z)(function*(n,e,t){const r=lk(n);if(r.vc){for(const i of e){if(r._c.has(i)){xe("SyncEngine","Adding an already active target "+i);continue}const a=yield CV(r.localStore,i),l=yield Um(r.localStore,a);yield jN(r,KV(a),l.targetId,!1,l.resumeToken),YT(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Bm(r.localStore,i,!1).then(()=>{cE(r.remoteStore,i),Wm(r,i)}).catch(Tc))}}),uk.apply(this,arguments)}function lk(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V3.bind(null,e),e.dc.nu=A3.bind(null,e.eventManager),e.dc.Pc=x3.bind(null,e.eventManager),e}function ck(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B3.bind(null,e),e}class dE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.serializer=uE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wV(this.persistence,new vV,e.initialUser,this.serializer)}createPersistence(e){return new eN($T.zs,this.serializer)}createSharedClientState(e){return new xV}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dk extends dE{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield ck(r.Vc.syncEngine),yield $m(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return wV(this.persistence,new vV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new C4(t,this.persistence);return new I4(e.asyncQueue,r)}createPersistence(e){const t=rN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new nN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,RV(),KT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xV}}class YV extends dk{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof hN&&(r.sharedClientState.syncEngine={jr:W3.bind(null,i),zr:Y3.bind(null,i),Wr:Q3.bind(null,i),$i:K3.bind(null,i),Qr:q3.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,W.Z)(function*(l){yield function Z3(n,e){return sk.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=RV();if(!hN.D(t))throw new _e(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Zm{initialize(e,t){var r=this;return(0,W.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,r.syncEngine),yield RN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new S3}createDatastore(e){const t=uE(e.databaseInfo.databaseId),r=new c3(e.databaseInfo);return new f3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>qV(this.syncEngine,f,0),l=MV.D()?new MV:new a3,new m3(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,m,v){const C=new P3(r,i,a,l,f,m);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const r=Ze(t);xe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield jm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function QV(n,e=10240){let t=0;return{read:()=>(0,W.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eG{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Or,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,W.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new M3(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,W.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,W.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,W.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _e(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,W.Z)(function*(a,l){const f=Ze(a),m=Jw(f.serializer)+"/documents",v={documents:l.map(F=>Qw(f.serializer,F))},C=yield f.vo("BatchGetDocuments",m,v,l.length),D=new Map;C.forEach(F=>{const G=function b6(n,e){return"found"in e?function(t,r){ft(!!r.found);const i=Ra(t,r.found.name),a=mr(r.found.updateTime),l=r.found.createTime?mr(r.found.createTime):pt.min(),f=new hi({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const i=Ra(t,r.missing),a=mr(r.readTime);return Rn.newNoDocument(i,a)}(n,e):tt()}(f.serializer,F);D.set(G.key.toString(),G)});const k=[];return l.forEach(F=>{const G=D.get(F.toString());ft(!!G),k.push(G)}),k}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ze.fromPath(i);e.mutations.push(new OR(a,e.precondition(a)))}),yield(r=(0,W.Z)(function*(i,a){const l=Ze(i),f=Jw(l.serializer)+"/documents",m={writes:a.map(v=>Xw(l.serializer,v))};yield l.Io("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pt.min())?$n.exists(!1):$n.updateTime(t):$n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pt.min()))throw new _e(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(t)}return $n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nG{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new pN(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,W.Z)(function*(){const t=new tG(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Ow(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!I2(t)}return!1}}class rG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=wL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,W.Z)(function*(f){xe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function XT(n,e){return hk.apply(this,arguments)}function hk(){return hk=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,W.Z)(function*(a){r.isEqual(a)||(yield EV(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hk.apply(this,arguments)}function fk(n,e){return pk.apply(this,arguments)}function pk(){return pk=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gk(n);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>VV(e.remoteStore,a)),n._onlineComponents=e}),pk.apply(this,arguments)}function JV(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gk(n){return mk.apply(this,arguments)}function mk(){return mk=(0,W.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield XT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!JV(t))throw t;oo("Error using user provided cache. Falling back to memory cache: "+t),yield XT(n,new dE)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield XT(n,new dE);return n._offlineComponents}),mk.apply(this,arguments)}function eS(n){return yk.apply(this,arguments)}function yk(){return yk=(0,W.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield fk(n,n._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield fk(n,new Zm))),n._onlineComponents}),yk.apply(this,arguments)}function XV(n){return gk(n).then(e=>e.persistence)}function tS(n){return gk(n).then(e=>e.localStore)}function eU(n){return eS(n).then(e=>e.remoteStore)}function _k(n){return eS(n).then(e=>e.syncEngine)}function Km(n){return vk.apply(this,arguments)}function vk(){return vk=(0,W.Z)(function*(n){const e=yield eS(n),t=e.eventManager;return t.onListen=O3.bind(null,e.syncEngine),t.onUnlisten=F3.bind(null,e.syncEngine),t}),vk.apply(this,arguments)}function nU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,l,f,m){const v=new JT({next:D=>{a.enqueueAndForget(()=>FN(i,C));const k=D.docs.has(l);!k&&D.fromCache?m.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&f&&"server"===f.source?m.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),C=new UN(Mm(l.path),v,{includeMetadataChanges:!0,Ku:!0});return PN(i,C)}(yield Km(n),n.asyncQueue,e,t,r)})),r.promise}function rU(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,a,l,f,m){const v=new JT({next:D=>{a.enqueueAndForget(()=>FN(i,C)),D.fromCache&&"server"===f.source?m.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),C=new UN(l,v,{includeMetadataChanges:!0,Ku:!0});return PN(i,C)}(yield Km(n),n.asyncQueue,e,t,r)})),r.promise}function iU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const sU=new Map;function wk(n,e,t){if(!t)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oU(n,e,t,r){if(!0===e&&!0===r)throw new _e(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aU(n){if(!ze.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uU(n){if(ze.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nS(n);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lU(n,e){if(e<=0)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new d4;switch(t.type){case"firstParty":return new g4(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sU.get(e);t&&(xe("ComponentProvider","Removing Datastore"),sU.delete(e),t.terminate())}(this),Promise.resolve()}}class Nn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Na extends fi{constructor(e,t,r){super(e,t,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ze(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function hU(n,e,...t){if(n=(0,Ye.m9)(n),wk("collection","path",e),n instanceof hE){const r=sn.fromString(e,...t);return uU(r),new Na(n,null,r)}{if(!(n instanceof Nn||n instanceof Na))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return uU(r),new Na(n.firestore,null,r)}}function rS(n,e,...t){if(n=(0,Ye.m9)(n),1===arguments.length&&(e=wL.A()),wk("doc","path",e),n instanceof hE){const r=sn.fromString(e,...t);return aU(r),new Nn(n,null,new ze(r))}{if(!(n instanceof Nn||n instanceof Na))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return aU(r),new Nn(n.firestore,n instanceof Na?n.converter:null,new ze(r))}}function fU(n,e){return n=(0,Ye.m9)(n),e=(0,Ye.m9)(e),(n instanceof Nn||n instanceof Na)&&(e instanceof Nn||e instanceof Na)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ek(n,e){return n=(0,Ye.m9)(n),e=(0,Ye.m9)(e),n instanceof fi&&e instanceof fi&&n.firestore===e.firestore&&$w(n._query,e._query)&&n.converter===e.converter}class fG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pN(this,"async_queue_retry"),this.Xc=()=>{const t=KT();t&&xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=KT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=KT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,W.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sc(t))throw t;xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=kN.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&tt()}verifyOperationInProgress(){}sa(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function bk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class pG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends hE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pU(this),this._firestoreClient.terminate()}}function yr(n){return n._firestoreClient||pU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pU(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z4(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,iU(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new rG(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function gU(n,e,t){const r=new Or;return n.asyncQueue.enqueue((0,W.Z)(function*(){try{yield XT(n,t),yield fk(n,e),r.resolve()}catch(i){const a=i;if(!JV(a))throw a;oo("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function mU(n){if(n._initialized||n._terminated)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(Fr.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class al{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pf{constructor(e){this._methodName=e}}class iS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const DG=/^__.*__$/;class TG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new il(e,this.data,this.fieldMask,t,this.fieldTransforms):new km(e,this.data,t,this.fieldTransforms)}}class yU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new il(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _U(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class sS{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new sS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_U(this.ca)&&DG.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class SG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uE(e)}ya(e,t,r,i=!1){return new sS({ca:e,methodName:t,ga:r,path:ur.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(n){const e=n._freezeSettings(),t=uE(n._databaseId);return new SG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oS(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);Tk("Data must be an object, but it was:",l,r);const f=EU(r,l);let m,v;if(a.merge)m=new cs(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const C=[];for(const D of a.mergeFields){const k=gE(e,D,t);if(!l.contains(k))throw new _e(re.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);IU(C,k)||C.push(k)}m=new cs(C),v=l.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,v=l.fieldTransforms;return new TG(new hi(f),m,v)}class pE extends pf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pE}}function vU(n,e,t){return new sS({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ik extends pf{_toFieldTransform(e){return new qw(e.path,new Rm)}isEqual(e){return e instanceof Ik}}class AG extends pf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vU(this,e,!0),r=this.pa.map(a=>mf(a,t)),i=new rf(r);return new qw(e.path,i)}isEqual(e){return this===e}}class xG extends pf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=vU(this,e,!0),r=this.pa.map(a=>mf(a,t)),i=new sf(r);return new qw(e.path,i)}isEqual(e){return this===e}}class MG extends pf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Nm(e.serializer,h2(e.serializer,this.Ia));return new qw(e.path,t)}isEqual(e){return this===e}}function Ck(n,e,t,r){const i=n.ya(1,e,t);Tk("Data must be an object, but it was:",i,r);const a=[],l=hi.empty();Ac(r,(m,v)=>{const C=aS(e,m,t);v=(0,Ye.m9)(v);const D=i.da(C);if(v instanceof pE)a.push(C);else{const k=mf(v,D);null!=k&&(a.push(C),l.set(C,k))}});const f=new cs(a);return new yU(l,f,i.fieldTransforms)}function Dk(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[gE(e,r,t)],m=[i];if(a.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)f.push(gE(e,a[k])),m.push(a[k+1]);const v=[],C=hi.empty();for(let k=f.length-1;k>=0;--k)if(!IU(v,f[k])){const F=f[k];let G=m[k];G=(0,Ye.m9)(G);const Q=l.da(F);if(G instanceof pE)v.push(F);else{const J=mf(G,Q);null!=J&&(v.push(F),C.set(F,J))}}const D=new cs(v);return new yU(C,D,l.fieldTransforms)}function wU(n,e,t,r=!1){return mf(t,n.ya(r?4:3,e))}function mf(n,e){if(bU(n=(0,Ye.m9)(n)))return Tk("Unsupported field value:",e,n),EU(n,e);if(n instanceof pf)return function(t,r){if(!_U(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=mf(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ye.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return h2(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=jn.fromDate(t);return{timestampValue:Om(r.serializer,i)}}if(t instanceof jn){const i=new jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Om(r.serializer,i)}}if(t instanceof iS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ka)return{bytesValue:k2(r.serializer,t._byteString)};if(t instanceof Nn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$R(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${nS(t)}`)}(n,e)}function EU(n,e){const t={};return OL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(n,(r,i)=>{const a=mf(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function bU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof iS||n instanceof ka||n instanceof Nn||n instanceof pf)}function Tk(n,e,t){if(!bU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=nS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function gE(n,e,t){if((e=(0,Ye.m9)(e))instanceof al)return e._internalPath;if("string"==typeof e)return aS(n,e);throw uS("Field path arguments must be of type string or ",n,!1,void 0,t)}const RG=new RegExp("[~\\*/\\[\\]]");function aS(n,e,t){if(e.search(RG)>=0)throw uS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new al(...e.split("."))._internalPath}catch{throw uS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uS(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new _e(re.INVALID_ARGUMENT,f+n+m)}function IU(n,e){return n.some(t=>t.isEqual(e))}class mE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NG extends mE{data(){return super.data()}}function lS(n,e){return"string"==typeof e?aS(n,e):e instanceof al?e._internalPath:e._delegate._internalPath}function CU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sk{}class yE extends Sk{}function jc(n,e,...t){let r=[];e instanceof Sk&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Ym).length,l=i.filter(f=>f instanceof _E).length;if(a>1||a>0&&l>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class _E extends yE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _E(e,t,r)}_apply(e){const t=this._parse(e);return AU(e._query,t),new fi(e.firestore,e.converter,NR(e._query,t))}_parse(e){const t=gf(e.firestore);return function(i,a,l,f,m,v,C){let D;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){SU(C,v);const k=[];for(const F of C)k.push(TU(f,i,F));D={arrayValue:{values:k}}}else D=TU(f,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||SU(C,v),D=wU(l,"where",C,"in"===v||"not-in"===v);return en.create(m,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ym extends Sk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ym(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)AU(a,f),a=NR(a,f)}(e._query,t),new fi(e.firestore,e.converter,NR(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ak extends yE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ak(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Am(i,a);return function(f,m){if(null===MR(f)){const v=ST(f);null!==v&&xU(0,v,m.field)}}(r,l),l}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new nl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cS extends yE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new cS(e,t,r)}_apply(e){return new fi(e.firestore,e.converter,AT(e._query,this._limit,this._limitType))}}class dS extends yE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dS(e,t,r)}_apply(e){const t=DU(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(i=t,new nl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class hS extends yE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hS(e,t,r)}_apply(e){const t=DU(e,this.type,this._docOrFields,this._inclusive);return new fi(e.firestore,e.converter,(i=t,new nl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function DU(n,e,t,r){if(t[0]=(0,Ye.m9)(t[0]),t[0]instanceof mE)return function(i,a,l,f,m){if(!f)throw new _e(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const C of nf(i))if(C.field.isKeyField())v.push(ef(a,f.key));else{const D=f.data.field(C.field);if(wT(D))throw new _e(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const k=C.field.canonicalString();throw new _e(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}v.push(D)}return new Pc(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=gf(n.firestore);return function(a,l,f,m,v,C){const D=a.explicitOrderBy;if(v.length>D.length)throw new _e(re.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let F=0;F<v.length;F++){const G=v[F];if(D[F].field.isKeyField()){if("string"!=typeof G)throw new _e(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof G}`);if(!RR(a)&&-1!==G.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${G}' contains a slash.`);const Q=a.path.child(sn.fromString(G));if(!ze.isDocumentKey(Q))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const J=new ze(Q);k.push(ef(l,J))}else{const Q=wU(f,m,G);k.push(Q)}}return new Pc(k,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function TU(n,e,t){if("string"==typeof(t=(0,Ye.m9)(t))){if(""===t)throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RR(e)&&-1!==t.indexOf("/"))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!ze.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ef(n,new ze(r))}if(t instanceof Nn)return ef(n,t._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nS(t)}.`)}function SU(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AU(n,e){if(e.isInequality()){const r=ST(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new _e(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=MR(n);null!==a&&xU(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xU(n,e,t){if(!t.isEqual(e))throw new _e(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xk{convertValue(e,t="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ac(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new iS(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ET(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lw(e));default:return null}}convertTimestamp(e){const t=xc(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);ft(H2(r));const i=new Mc(r.get(1),r.get(3)),a=new ze(r.popFirst(5));return i.isEqual(t)||gr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function fS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jG extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}class yf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends mE{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vE extends ul{data(e={}){return super.data(e)}}class $c{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vE(this._firestore,this._userDataWriter,r.key,r,new yf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new vE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new vE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new yf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),v=a.indexOf(l.doc.key)),{type:HG(l.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function RU(n,e){return n instanceof ul&&e instanceof ul?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $c&&e instanceof $c&&n._firestore===e._firestore&&Ek(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hc extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function NU(n,e,t){n=tn(n,Nn);const r=tn(n.firestore,kn),i=fS(n.converter,e,t);return Qm(r,[oS(gf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,$n.none())])}function kU(n,e,t,...r){n=tn(n,Nn);const i=tn(n.firestore,kn),a=gf(i);let l;return l="string"==typeof(e=(0,Ye.m9)(e))||e instanceof al?Dk(a,"updateDoc",n._key,e,t,r):Ck(a,"updateDoc",n._key,e),Qm(i,[l.toMutation(n._key,$n.exists(!0))])}function PU(n,...e){var t,r,i;n=(0,Ye.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||bk(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(bk(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[l+2]=null===(i=D.complete)||void 0===i?void 0:i.bind(D)}let m,v,C;if(n instanceof Nn)v=tn(n.firestore,kn),C=Mm(n._key.path),m={next:D=>{e[l]&&e[l](Mk(v,n,D))},error:e[l+1],complete:e[l+2]};else{const D=tn(n,fi);v=tn(D.firestore,kn),C=D._query;const k=new Hc(v);m={next:F=>{e[l]&&e[l](new $c(v,k,D,F))},error:e[l+1],complete:e[l+2]},CU(n._query)}return function(D,k,F,G){const Q=new JT(G),J=new UN(k,Q,F);return D.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return PN(yield Km(D),J)})),()=>{Q.Dc(),D.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return FN(yield Km(D),J)}))}}(yr(v),C,f,m)}function Qm(n,e){return function(t,r){const i=new Or;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function L3(n,e,t){return GN.apply(this,arguments)}(yield _k(t),r,i)})),i.promise}(yr(n),e)}function Mk(n,e,t){const r=t.docs.get(e._key),i=new Hc(n);return new ul(n,i,e._key,r,new yf(t.hasPendingWrites,t.fromCache),e.converter)}const az={maxAttempts:5};class OU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gf(e)}set(e,t,r){this._verifyNotCommitted();const i=Gc(e,this._firestore),a=fS(i.converter,t,r),l=oS(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,$n.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Gc(e,this._firestore);let l;return l="string"==typeof(t=(0,Ye.m9)(t))||t instanceof al?Dk(this._dataReader,"WriteBatch.update",a._key,t,r,i):Ck(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gc(e,this._firestore);return this._mutations=this._mutations.concat(new Pm(t._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gc(n,e){if((n=(0,Ye.m9)(n)).firestore!==e)throw new _e(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uz extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gf(e)}get(e){const t=Gc(e,this._firestore),r=new jG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return tt();const a=i[0];if(a.isFoundDocument())return new mE(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new mE(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const i=Gc(e,this._firestore),a=fS(i.converter,t,r),l=oS(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Gc(e,this._firestore);let l;return l="string"==typeof(t=(0,Ye.m9)(t))||t instanceof al?Dk(this._dataReader,"Transaction.update",a._key,t,r,i):Ck(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Gc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gc(e,this._firestore),r=new Hc(this._firestore);return super.get(e).then(i=>new ul(this._firestore,r,t._key,i._document,new yf(!1,!1),t.converter))}}function Rk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function LU(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function VU(){if(!function H4(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cm=Ut.SDK_VERSION,(0,Ut._registerComponent)(new bi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new kn(new f4(t.getProvider("auth-internal")),new m4(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ut.registerVersion)(yL,"3.12.0",n),(0,Ut.registerVersion)(yL,"3.12.0","esm2017")}();class wE{constructor(e){this._delegate=e}static fromBase64String(e){return VU(),new wE(ka.fromBase64String(e))}static fromUint8Array(e){return LU(),new wE(ka.fromUint8Array(e))}toBase64(){return VU(),this._delegate.toBase64()}toUint8Array(){return LU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nk(n){return function yz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _z{enableIndexedDbPersistence(e,t){return function mG(n,e){mU(n=tn(n,kn));const t=yr(n);if(t._uninitializedComponentsProvider)throw new _e(re.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Zm;return gU(t,i,new dk(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yG(n){mU(n=tn(n,kn));const e=yr(n);if(e._uninitializedComponentsProvider)throw new _e(re.FAILED_PRECONDITION,"SDK cache is already specified.");oo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Zm;return gU(e,r,new YV(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _G(n){if(n._initialized&&!n._terminated)throw new _e(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(t=(0,W.Z)(function*(r){if(!Go.D())return Promise.resolve();const i=r+"main";yield Go.delete(i)}),function(r){return t.apply(this,arguments)})(rN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function dU(n,e,t,r={}){var i;const a=(n=tn(n,hE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=Kr.MOCK_USER;else{l=(0,Ye.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kr(m)}n._authCredentials=new h4(new _L(l,f))}}(this._delegate,e,t,r)}enableNetwork(){return function wG(n){return function iG(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield XV(n),t=yield eU(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.vu.delete(0),lE(i)}(t)}))}(yr(n=tn(n,kn)))}(this._delegate)}disableNetwork(){return function EG(n){return function sG(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield XV(n),t=yield eU(n);return e.setNetworkEnabled(!1),(r=(0,W.Z)(function*(i){const a=Ze(i);a.vu.add(0),yield jm(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(yr(n=tn(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,oU("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vG(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function j3(n,e){return KN.apply(this,arguments)}(yield _k(e),t)})),t.promise}(yr(n=tn(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function JG(n,e){return function uG(n,e){const t=new JT(e);return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Km(n),i=t,Ze(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield Km(n),i=t,void Ze(r).ku.delete(i);var r,i}))}}(yr(n=tn(n,kn)),bk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jm(this,hU(this._delegate,e))}catch(t){throw qi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ao(this,rS(this._delegate,e))}catch(t){throw qi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wi(this,function hG(n,e){if(n=tn(n,hE),wk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fi(n,null,(t=e,new nl(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lz(n,e,t){n=tn(n,kn);const r=Object.assign(Object.assign({},az),t);return function(i){if(i.maxAttempts<1)throw new _e(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new Or;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const m=yield function tU(n){return eS(n).then(e=>e.datastore)}(i);new nG(i.asyncQueue,m,l,a,f).run()})),f.promise}(yr(n),i=>e(new uz(n,i)),r)}(this._delegate,t=>e(new BU(this,t)))}batch(){return yr(this._delegate),new jU(new OU(this._delegate,e=>Qm(this._delegate,e)))}loadBundle(e){return function bG(n,e){const t=yr(n=tn(n,kn)),r=new pG;return function lG(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?D2().encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return QV(m,v);if(m instanceof ArrayBuffer)return QV(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new eG(m,l);var m}(t,uE(e));n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function J3(n,e,t){const r=Ze(n);var i;(i=(0,W.Z)(function*(a,l,f){try{const m=yield l.getMetadata();if(yield function(k,F){const G=Ze(k),Q=mr(F.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",J=>G.qs.getBundleMetadata(J,F.id)).then(J=>!!J&&J.createTime.compareTo(Q)>=0)}(a.localStore,m))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=m).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(jV(m));const v=new R3(m,a.localStore,l.serializer);let C=yield l.bc();for(;C;){const k=yield v.zu(C);k&&f._updateProgress(k),C=yield l.bc()}const D=yield v.complete();return yield ol(a,D.Ju,void 0),yield function(k,F){const G=Ze(k);return G.persistence.runTransaction("Save bundle","readwrite",Q=>G.qs.saveBundleMetadata(Q,F))}(a.localStore,m),f._completeWith(D.progress),Promise.resolve(D.Hu)}catch(m){return oo("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var k}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield _k(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IG(n,e){return function cG(n,e){return n.asyncQueue.enqueue((0,W.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield tS(n),e)}))}(yr(n=tn(n,kn)),e).then(t=>t?new fi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wi(this,t):null)}}class pS extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new wE(new ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ao.forKey(t,this.firestore,null)}}class BU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pS(e)}get(e){const t=vf(e);return this._delegate.get(t).then(r=>new EE(this._firestore,new ul(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=vf(e);return r?(Rk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}}class jU{constructor(e){this._delegate=e}set(e,t,r){const i=vf(e);return r?(Rk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _f{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new vE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_f.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new _f(e,new pS(e),t),i.set(t,a)),a}}_f.INSTANCES=new WeakMap;class ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ao(t,new Nn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new ao(t,new Nn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jm(this.firestore,hU(this._delegate,e))}catch(t){throw qi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ye.m9)(e))instanceof Nn&&fU(this._delegate,e)}set(e,t){t=Rk("DocumentReference.set",t);try{return t?NU(this._delegate,e,t):NU(this._delegate,e)}catch(r){throw qi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?kU(this._delegate,e):kU(this._delegate,e,t,...r)}catch(i){throw qi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function YG(n){return Qm(tn(n.firestore,kn),[new Pm(n._key,$n.none())])}(this._delegate)}onSnapshot(...e){const t=$U(e),r=HU(e,i=>new EE(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function zG(n){n=tn(n,Nn);const e=tn(n.firestore,kn),t=yr(e),r=new Hc(e);return function oG(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,l){try{const f=yield function(m,v){const C=Ze(m);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,v))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new _e(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Gm(f,`Failed to get document '${a} from cache`);l.reject(m)}}),function(i,a,l){return r.apply(this,arguments)})(yield tS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ul(e,r,n._key,i,new yf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qG(n){n=tn(n,Nn);const e=tn(n.firestore,kn);return nU(yr(e),n._key,{source:"server"}).then(t=>Mk(e,n,t))}(this._delegate):function GG(n){n=tn(n,Nn);const e=tn(n.firestore,kn);return nU(yr(e),n._key).then(t=>Mk(e,n,t))}(this._delegate),t.then(r=>new EE(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ao(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}function qi(n,e,t){return n.message=n.message.replace(e,t),n}function $U(n){for(const e of n)if("object"==typeof e&&!Nk(e))return e;return{}}function HU(n,e){var t,r;let i;return i=Nk(n[0])?n[0]:Nk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class EE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ao(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RU(this._delegate,e._delegate)}}class bE extends EE{data(e){const t=this._delegate.data(e);return function c4(n,e){n||tt()}(void 0!==t),t}}class Wi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pS(e)}where(e,t,r){try{return new Wi(this.firestore,jc(this._delegate,function kG(n,e,t){const r=e,i=lS("where",n);return _E._create(i,r,t)}(e,t,r)))}catch(i){throw qi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wi(this.firestore,jc(this._delegate,function PG(n,e="asc"){const t=e,r=lS("orderBy",n);return Ak._create(r,t)}(e,t)))}catch(r){throw qi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wi(this.firestore,jc(this._delegate,function OG(n){return lU("limit",n),cS._create("limit",n,"F")}(e)))}catch(t){throw qi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wi(this.firestore,jc(this._delegate,function FG(n){return lU("limitToLast",n),cS._create("limitToLast",n,"L")}(e)))}catch(t){throw qi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wi(this.firestore,jc(this._delegate,function LG(...n){return dS._create("startAt",n,!0)}(...e)))}catch(t){throw qi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wi(this.firestore,jc(this._delegate,function VG(...n){return dS._create("startAfter",n,!1)}(...e)))}catch(t){throw qi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wi(this.firestore,jc(this._delegate,function UG(...n){return hS._create("endBefore",n,!1)}(...e)))}catch(t){throw qi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wi(this.firestore,jc(this._delegate,function BG(...n){return hS._create("endAt",n,!0)}(...e)))}catch(t){throw qi(t,"endAt()","Query.endAt()")}}isEqual(e){return Ek(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ZG(n){n=tn(n,fi);const e=tn(n.firestore,kn),t=yr(e),r=new Hc(e);return function aG(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,a,l){try{const f=yield zT(i,a,!0),m=new GV(a,f.ir),v=m.sc(f.documents),C=m.applyChanges(v,!1);l.resolve(C.snapshot)}catch(f){const m=Gm(f,`Failed to execute query '${a} against cache`);l.reject(m)}}),function(i,a,l){return r.apply(this,arguments)})(yield tS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $c(e,r,n,i))}(this._delegate):"server"===e?.source?function KG(n){n=tn(n,fi);const e=tn(n.firestore,kn),t=yr(e),r=new Hc(e);return rU(t,n._query,{source:"server"}).then(i=>new $c(e,r,n,i))}(this._delegate):function WG(n){n=tn(n,fi);const e=tn(n.firestore,kn),t=yr(e),r=new Hc(e);return CU(n._query),rU(t,n._query).then(i=>new $c(e,r,n,i))}(this._delegate),t.then(r=>new kk(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=$U(e),r=HU(e,i=>new kk(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PU(this._delegate,t,r)}withConverter(e){return new Wi(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}class wz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new bE(this._firestore,r))})}isEqual(e){return RU(this._delegate,e._delegate)}}class Jm extends Wi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ao(this.firestore,e):null}doc(e){try{return new ao(this.firestore,void 0===e?rS(this._delegate):rS(this._delegate,e))}catch(t){throw qi(t,"doc()","CollectionReference.doc()")}}add(e){return function QG(n,e){const t=tn(n.firestore,kn),r=rS(n),i=fS(n.converter,e);return Qm(t,[oS(gf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ao(this.firestore,t))}isEqual(e){return fU(this._delegate,e._delegate)}withConverter(e){return new Jm(this.firestore,this._delegate.withConverter(e?_f.getInstance(this.firestore,e):null))}}function vf(n){return tn(n,Nn)}class Pk{constructor(...e){this._delegate=new al(...e)}static documentId(){return new Pk(ur.keyField().canonicalString())}isEqual(e){return(e=(0,Ye.m9)(e))instanceof al&&this._delegate._internalPath.isEqual(e._internalPath)}}class wf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dz(){return new Ik("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wf(e)}static delete(){const e=function cz(){return new pE("deleteField")}();return e._methodName="FieldValue.delete",new wf(e)}static arrayUnion(...e){const t=function hz(...n){return new AG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wf(t)}static arrayRemove(...e){const t=function fz(...n){return new xG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wf(t)}static increment(e){const t=function pz(n){return new MG("increment",n)}(e);return t._methodName="FieldValue.increment",new wf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ez={Firestore:UU,GeoPoint:iS,Timestamp:jn,Blob:wE,Transaction:BU,WriteBatch:jU,DocumentReference:ao,DocumentSnapshot:EE,Query:Wi,QueryDocumentSnapshot:bE,QuerySnapshot:kk,CollectionReference:Jm,FieldPath:Pk,FieldValue:wf,setLogLevel:function vz(n){!function l4(n){Dc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Iz(n){(function bz(n,e){n.INTERNAL.registerComponent(new bi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Ez)))})(n,(e,t)=>new UU(e,t,new _z)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(sD.Z);var Cz=L(6451);class Dz extends Ao.x{constructor(e=1/0,t=1/0,r=dg){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var Tz=L(3099);function GU(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Tz.B)({connector:()=>new Dz(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function zU(n,e){return(0,Ks.m)(e)?sr(()=>n,e):sr(()=>n)}const qU=new d.OlP("angularfire2.auth.use-emulator"),WU=new d.OlP("angularfire2.auth.settings"),ZU=new d.OlP("angularfire2.auth.tenant-id"),KU=new d.OlP("angularfire2.auth.langugage-code"),YU=new d.OlP("angularfire2.auth.use-device-language"),QU=new d.OlP("angularfire.auth.persistence"),JU=(n,e,t,r,i,a,l,f)=>(0,zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,a,l,f]);let XU=(()=>{class n{constructor(t,r,i,a,l,f,m,v,C,D,k,F){const G=new Ao.x,Q=ut(void 0).pipe((0,Gu.Q)(l.outsideAngular),sr(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,xt.U)(()=>(0,zr.on)(t,a,r)),(0,xt.U)(J=>JU(J,a,f,v,C,D,m,k)),GU({bufferSize:1,refCount:!1}));if(Us(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Q.pipe(Ys()).subscribe();const Ie=Q.pipe(sr($e=>$e.getRedirectResult().then(It=>It,()=>null)),ai,GU({bufferSize:1,refCount:!1})),Fe=Q.pipe(sr($e=>new os.y(It=>({unsubscribe:a.runOutsideAngular(()=>$e.onAuthStateChanged(Ct=>It.next(Ct),Ct=>It.error(Ct),()=>It.complete()))})))),Le=Q.pipe(sr($e=>new os.y(It=>({unsubscribe:a.runOutsideAngular(()=>$e.onIdTokenChanged(Ct=>It.next(Ct),Ct=>It.error(Ct),()=>It.complete()))}))));this.authState=Ie.pipe(zU(Fe),(0,sm.R)(l.outsideAngular),(0,Gu.Q)(l.insideAngular)),this.user=Ie.pipe(zU(Le),(0,sm.R)(l.outsideAngular),(0,Gu.Q)(l.insideAngular)),this.idToken=this.user.pipe(sr($e=>$e?(0,hn.D)($e.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(sr($e=>$e?(0,hn.D)($e.getIdTokenResult()):ut(null))),this.credential=(0,Cz.T)(Ie,G,this.authState.pipe(vs($e=>!$e))).pipe((0,xt.U)($e=>$e?.user?$e:null),(0,sm.R)(l.outsideAngular),(0,Gu.Q)(l.insideAngular))}return(0,zr.pX)(this,Q,a,{spy:{apply:(J,Ie,Fe)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Fe.then(Le=>G.next(Le))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zr.Dh),d.LFG(zr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zu),d.LFG(qU,8),d.LFG(WU,8),d.LFG(ZU,8),d.LFG(KU,8),d.LFG(YU,8),d.LFG(QU,8),d.LFG(hw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function eB(n,e){return function Az(n,e=yv){return new os.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Ok(n,e){return eB(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function gS(n,e){return Ok(n,e).pipe(Dp(void 0),T1(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const m=i.find(C=>C.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function tB(n,e,t){return gS(n,t).pipe(Qs((r,i)=>function Mz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Rz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Fk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Fk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Fk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function rH(n,e=bu.y){return n=n??iH,(0,Ar.e)((t,r)=>{let i,a=!0;t.subscribe((0,wr.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Fk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class rB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=gS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Dp(void 0),T1(),vs(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),ai)}auditTrail(e){return this.stateChanges(e).pipe(Qs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nB(e);return tB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ai)}get(e){return(0,hn.D)(this.query.get(e)).pipe(ai)}add(e){return this.ref.add(e)}doc(e){return new iB(this.ref.doc(e),this.afs)}}class iB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=aB(r,t);return new rB(i,a,this.afs)}snapshotChanges(){return function xz(n,e){return eB(n,e).pipe(Dp(void 0),T1(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ai)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(ai)}}class Nz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gS(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vs(t=>t.length>0),ai):gS(this.query,this.afs.schedulers.outsideAngular).pipe(ai)}auditTrail(e){return this.stateChanges(e).pipe(Qs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nB(e);return tB(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ai)}get(e){return(0,hn.D)(this.query.get(e)).pipe(ai)}}const sB=new d.OlP("angularfire2.enableFirestorePersistence"),oB=new d.OlP("angularfire2.firestore.persistenceSettings"),kz=new d.OlP("angularfire2.firestore.settings"),Pz=new d.OlP("angularfire2.firestore.use-emulator");function aB(n,e=(t=>t)){return{query:e(n),ref:n}}let Lk=(()=>{class n{constructor(t,r,i,a,l,f,m,v,C,D,k,F,G,Q,J,Ie,Fe){this.schedulers=m;const Le=(0,zr.on)(t,f,r),$e=C;D&&JU(Le,f,k,G,Q,J,F,Ie),[this.firestore,this.persistenceEnabled$]=(0,zr.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const It=f.runOutsideAngular(()=>Le.firestore());if(a&&It.settings(a),$e&&It.useEmulator(...$e),i&&!Us(l)){const Ct=()=>{try{return(0,hn.D)(It.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(nn){return typeof console<"u"&&console.warn(nn),ut(!1)}};return[It,f.runOutsideAngular(Ct)]}return[It,ut(!1)]},[a,$e,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=aB(i,r),f=this.schedulers.ngZone.run(()=>a);return new rB(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new Nz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new iB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zr.Dh),d.LFG(zr.xv,8),d.LFG(sB,8),d.LFG(kz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zu),d.LFG(oB,8),d.LFG(Pz,8),d.LFG(XU,8),d.LFG(qU,8),d.LFG(WU,8),d.LFG(ZU,8),d.LFG(KU,8),d.LFG(YU,8),d.LFG(QU,8),d.LFG(hw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oz=(()=>{class n{constructor(){Y$.Z.registerVersion("angularfire",F0.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:sB,useValue:!0},{provide:oB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Lk]}),n})(),Vk=(()=>{class n{constructor(t,r){this.angularstorage=t,this.angularfirestore=r}getVideoList(){const t=[];return this.angularstorage.ref("").listAll().subscribe(i=>{for(let a=0;a<i.items.length;a++){let l=i.items[a].name;this.angularstorage.ref(i.items[a].name).getDownloadURL().subscribe(v=>{t.push({nom:l,lien:v})})}}),t}getProjetList(){return this.angularfirestore.collection("projet-collection").snapshotChanges()}createProjet(t){return new Promise((r,i)=>{this.angularfirestore.collection("projet-collection").add(t).then(a=>{console.log(a)},a=>i(a))})}deleteProjet(t){return this.angularfirestore.collection("projet-collection").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(nH),d.LFG(Lk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mS=(()=>{class n{constructor(t){this.angularfirestore=t}getExperienceList(){return this.angularfirestore.collection("experience-collection").snapshotChanges()}createExperience(t){return new Promise((r,i)=>{this.angularfirestore.collection("experience-collection").add(t).then(a=>{console.log(a)},a=>i(a))})}getExperienceDoc(t){return this.angularfirestore.collection("experience-collection").doc(t).valueChanges()}updateExperience(t,r){return this.angularfirestore.collection("experience-collection").doc(r).update({nom:t.nom,type:t.type,dateDebut:t.dateDebut,dateFin:t.dateFin,description:t.description})}deleteExperience(t){return this.angularfirestore.collection("experience-collection").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Lk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"ul",7)(1,"li",8)(2,"button",9),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openAccueil())}),d._uU(3,"1. Accueil"),d.qZA()(),d.TgZ(4,"li",8)(5,"button",10),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openApropos())}),d._uU(6,"2. \xc0 propos"),d.qZA()(),d.TgZ(7,"li",8)(8,"button",10),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openExperiences())}),d._uU(9,"3. Exp\xe9riences"),d.qZA()(),d.TgZ(10,"li",8)(11,"button",9),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openProjets())}),d._uU(12,"4. Projets"),d.qZA()()()}}function Lz(n,e){1&n&&d._UZ(0,"img",13)}function Vz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",11),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openMenu())}),d.YNc(1,Lz,1,0,"img",12),d.qZA()}if(2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",t.menuButton)}}function Uz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",14)(1,"nav",15)(2,"ul",16)(3,"li")(4,"button",17),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openAccueil())}),d._uU(5,"1. Accueil"),d.qZA()(),d.TgZ(6,"li")(7,"button",17),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openApropos())}),d._uU(8,"2. \xc0 propos"),d.qZA()(),d.TgZ(9,"li")(10,"button",17),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openExperiences())}),d._uU(11,"3. Exp\xe9riences"),d.qZA()(),d.TgZ(12,"li")(13,"button",17),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openProjets())}),d._uU(14,"4. Projets"),d.qZA()()(),d.TgZ(15,"button",18),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.closeMenu())}),d._UZ(16,"img",19),d.qZA()()()}if(2&n){const t=d.oxw();d.Q6J("@fadeInAnimation",t.menuVisibility?"visible":"hidden")}}const Bz=function(n){return{"blur-background":n}},jz=function(n){return{"drop-shadow":n}};let $z=(()=>{class n{constructor(t){this.sharedService=t,this.menuAccueilClick=new d.vpe,this.menuAproposClick=new d.vpe,this.menuExperienceClick=new d.vpe,this.menuProjetClick=new d.vpe,this.sm=!1,this.menuVisibility=!1,this.menuButton=!0,this.isMenuOpenHeader=!1,this.headerBorder=!1}ngOnInit(){this.sharedService.isHeaderBorder$.subscribe(t=>{this.headerBorder=t}),this.getScreenWidth=window.innerWidth,this.getScreenHeight=window.innerHeight,this.onWindowResize()}openMenu(){this.menuVisibility=!0,this.menuButton=!1,this.isMenuOpenHeader=!0,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}closeMenu(){this.menuVisibility=!1,this.menuButton=!0,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}onWindowResize(){this.getScreenWidth=window.innerWidth,this.getScreenHeight=window.innerHeight,this.getScreenWidth<=769?(this.sm=!0,this.sharedService.setIsSM(this.sm),this.menuButton=!0):(this.sm=!1,this.sharedService.setIsSM(this.sm),this.menuVisibility=!1,this.menuButton=!1,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader))}openAccueil(){this.menuAccueilClick.emit(),this.menuButton=!0,this.menuVisibility=!1,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}openApropos(){this.menuAproposClick.emit(),this.menuButton=!0,this.menuVisibility=!1,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}openExperiences(){this.menuExperienceClick.emit(),this.menuButton=!0,this.menuVisibility=!1,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}openProjets(){this.menuProjetClick.emit(),this.menuButton=!0,this.menuVisibility=!1,this.isMenuOpenHeader=!1,this.sharedService.setIsMenuOpenHeader(this.isMenuOpenHeader)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cg))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,r){1&t&&d.NdJ("resize",function(a){return r.onWindowResize(a)},!1,d.Jf7)},outputs:{menuAccueilClick:"menuAccueilClick",menuAproposClick:"menuAproposClick",menuExperienceClick:"menuExperienceClick",menuProjetClick:"menuProjetClick"},decls:7,vars:10,consts:[[1,"fixed","z-20","w-full",3,"ngClass"],[1,"relative","flex","items-center","justify-between","w-full","h-10","sm:h-10","md:h-20","lg:h-20","xl:h-20","2xl:h-20","bg-gradient-to-r","from-white","to-sky-200",3,"ngClass"],["href","https://zakkwylde008.github.io/bruel-portfolio/","alt","Accueil"],["src","assets/images/bold.png","alt","Accueil",1,"rounded","h-10","w-10","pt-1","pb-1","pl-4","2xl:h-20","2xl:w-28","2xl:pt-4","2xl:pb-4","2xl:pl-16","xl:h-20","xl:w-20","xl:pt-2","xl:pb-2","xl:pl-8","lg:h-20","lg:w-20","lg:pt-2","lg:pb-2","lg:pl-8","md:h-20","md:w-20","md:pt-2","md:pb-2","md:pl-8","sm:h-10","sm:w-10","sm:pt-1","sm:pb-1","sm:pl-2"],["class","2xl:flex 2xl:items-end 2xl:space-x-8 2xl:mr-8 xl:flex xl:items-end  xl:space-x-4 xl:mr-4 lg:flex lg:items-end lg:space-x-4 lg:mr-4 md:flex md:items-end md:space-x-4 md:mr-4",4,"ngIf"],["class","pt-1 pb-1 mr-4 rounded-lg",3,"click",4,"ngIf"],["class","fixed z-30 top-0 right-0 h-full w-auto bg-sky-200 rounded",4,"ngIf"],[1,"2xl:flex","2xl:items-end","2xl:space-x-8","2xl:mr-8","xl:flex","xl:items-end","xl:space-x-4","xl:mr-4","lg:flex","lg:items-end","lg:space-x-4","lg:mr-4","md:flex","md:items-end","md:space-x-4","md:mr-4"],[1,"py-2","2xl:py-3"],[1,"text-lg","text-base","2xl:text-2xl","font-sans","hover:text-sky-400",3,"click"],[1,"text-base","text-lg","2xl:text-2xl","font-sans","hover:text-sky-400",3,"click"],[1,"pt-1","pb-1","mr-4","rounded-lg",3,"click"],["src","assets/images/menu.png","alt","Menu","class","h-10 w-10 rounded-lg",4,"ngIf"],["src","assets/images/menu.png","alt","Menu",1,"h-10","w-10","rounded-lg"],[1,"fixed","z-30","top-0","right-0","h-full","w-auto","bg-sky-200","rounded"],[1,"h-full","relative","flex","space-x-20","mt-5","ml-2","mr-2"],[1,"flex","flex-col","space-y-5"],[1,"text-base","text-lg","font-sans","hover:text-sky-400",3,"click"],[3,"click"],["src","assets/images/annuler.png","alt","Fermer",1,"absolute","top-0","right-0","h-7","w-7"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"nav",1)(2,"a",2),d._UZ(3,"img",3),d.qZA(),d.YNc(4,Fz,13,0,"ul",4),d.YNc(5,Vz,2,1,"button",5),d.qZA()(),d.YNc(6,Uz,17,1,"div",6)),2&t&&(d.Q6J("@menuFadeInAnimation",!0)("ngClass",d.VKq(6,Bz,r.isMenuOpenHeader)),d.xp6(1),d.Q6J("ngClass",d.VKq(8,jz,r.headerBorder)),d.xp6(3),d.Q6J("ngIf",!r.sm),d.xp6(1),d.Q6J("ngIf",r.sm),d.xp6(1),d.Q6J("ngIf",r.menuVisibility))},dependencies:[Qt,Fn],styles:[".animate-spin[_ngcontent-%COMP%]{animation:spin 1s 0s}.blur-background[_ngcontent-%COMP%]{filter:blur(5px)}"],data:{animation:[fv,Sh]}}),n})();function Hz(n,e){1&n&&(d.TgZ(0,"div",2)(1,"a",3),d._UZ(2,"img",4),d.qZA(),d._uU(3,"\xa0 "),d.TgZ(4,"a",5),d._UZ(5,"img",6),d.qZA(),d._uU(6,"\xa0 "),d.TgZ(7,"a",7),d._UZ(8,"img",8),d.qZA(),d._uU(9,"\xa0 "),d.TgZ(10,"a",9),d._UZ(11,"img",10),d.qZA(),d._uU(12,"\xa0 "),d._UZ(13,"div",11),d.qZA())}function Gz(n,e){1&n&&(d.TgZ(0,"div",12)(1,"span",13),d._uU(2,"razafimbelobruel@gmail.com"),d.qZA(),d._UZ(3,"div",14),d.qZA())}let zz=(()=>{class n{constructor(t){this.sharedService=t,this.menuVisibility=!1,this.isMenuOpenHeader=!1}ngOnInit(){this.onWindowResize()}onWindowResize(){this.getScreenWidth=window.innerWidth,this.getScreenHeight=window.innerHeight,this.getScreenWidth<769?(this.menuVisibility=!1,this.sharedService.setIsMenuOpenFooter(this.menuVisibility)):(this.menuVisibility=!0,this.sharedService.setIsMenuOpenFooter(this.menuVisibility))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cg))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],hostBindings:function(t,r){1&t&&d.NdJ("resize",function(a){return r.onWindowResize(a)},!1,d.Jf7)},decls:2,vars:2,consts:[["class","fixed flex flex-col items-center bottom-48 lg:ml-24 md:ml-20 xl:ml-32",4,"ngIf"],["class","fixed flex flex-col items-center right-0 bottom-80",4,"ngIf"],[1,"fixed","flex","flex-col","items-center","bottom-48","lg:ml-24","md:ml-20","xl:ml-32"],["href","https://www.linkedin.com/in/bruel-razafimbelo-ratompoarisoa-48979026a/","target","_blank"],["src","assets/images/linkedin.png","title","Linkedin",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://github.com/ZakkWylde008","target","_blank"],["src","assets/images/github.png","title","Github",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://gitlab.com/ZakkWylde008","target","_blank"],["src","assets/images/gitlab.png","title","Gitlab",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://www.codewars.com/users/ZakkWylde008","target","_blank"],["src","assets/images/codewars.png","title","Codewars",1,"w-6","h-6","duration-500","hover:scale-150"],[1,"absolute","h-44","border-black","border-2","rounded-lg","mt-48"],[1,"fixed","flex","flex-col","items-center","right-0","bottom-80"],[1,"rotate-90","italic","mt-10","duration-500","hover:scale-110"],[1,"absolute","h-44","mt-48","border-black","border-2","rounded-lg"]],template:function(t,r){1&t&&(d.YNc(0,Hz,14,0,"div",0),d.YNc(1,Gz,4,0,"div",1)),2&t&&(d.Q6J("ngIf",r.menuVisibility),d.xp6(1),d.Q6J("ngIf",r.menuVisibility))},dependencies:[Fn],data:{animation:[Sh]}}),n})(),qz=(()=>{class n{transform(t){let r=t.split(""),i=[],a="";for(let l=0;l<r.length;l++){if("."==r[l])return a=i.join("").toString(),a;i.push(r[l])}return a=i.join("").toString(),a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=d.Yjl({name:"removeExtension",type:n,pure:!0}),n})();function Wz(n,e){1&n&&(d.TgZ(0,"div",2),d._UZ(1,"div",3),d.qZA())}function Zz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-header",45),d.NdJ("menuAccueilClick",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.scrollToDiv1())})("menuAproposClick",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.scrollToDiv2())})("menuExperienceClick",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.scrollToDiv3())})("menuProjetClick",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.scrollToDiv4())}),d.qZA()}}const Kz=function(n,e){return{"border-sky-400":n,"text-xs":e}};function Yz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",46),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw(2);return d.KtG(l.changeDescription(a))}),d._uU(1),d.qZA()}if(2&n){const t=e.$implicit,r=d.oxw(2);d.Q6J("ngClass",d.WLB(2,Kz,t.isShow,r.isTextXS)),d.xp6(1),d.hij(" ",t.nom," ")}}function Qz(n,e){if(1&n&&(d.TgZ(0,"div",48)(1,"p",49),d._uU(2),d.qZA(),d.TgZ(3,"p",50),d._uU(4),d.ALo(5,"date"),d.ALo(6,"date"),d.qZA(),d.TgZ(7,"p",51),d._uU(8),d.qZA()()),2&n){const t=d.oxw().$implicit;d.xp6(2),d.Oqu(t.type),d.xp6(2),d.AsE("",d.xi3(5,4,t.dateDebut,"dd/MM/yyyy")," - ",d.xi3(6,7,t.dateFin,"dd/MM/yyyy"),""),d.xp6(4),d.Oqu(t.description)}}function Jz(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,Qz,9,10,"div",47),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("ngIf",t.isShow)}}function Xz(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",54),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw(3);return d.KtG(l.openDemonstration(a))}),d._UZ(1,"img",55),d.TgZ(2,"div",56)(3,"p",57),d._uU(4),d.ALo(5,"removeExtension"),d.qZA()(),d.TgZ(6,"div",56)(7,"p",58),d._uU(8),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(4),d.Oqu(d.lcZ(5,2,t.nom)),d.xp6(4),d.Oqu(t.outils)}}function eq(n,e){if(1&n&&(d.TgZ(0,"div",52),d.YNc(1,Xz,9,4,"div",53),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",t.projet)}}function tq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",59),d._UZ(1,"video",60),d.TgZ(2,"div",61),d.NdJ("click",function(){d.CHM(t);const i=d.oxw(2);return d.KtG(i.closeDemonstration())}),d.TgZ(3,"button",62),d._uU(4," X "),d.qZA()()()}if(2&n){const t=d.oxw(2);d.xp6(1),d.Q6J("src",t.videoUrl,d.LSH)}}function nq(n,e){1&n&&(d.TgZ(0,"div",63)(1,"a",64),d._UZ(2,"img",65),d.qZA(),d.TgZ(3,"a",66),d._UZ(4,"img",67),d.qZA(),d.TgZ(5,"a",68),d._UZ(6,"img",69),d.qZA(),d.TgZ(7,"a",70),d._UZ(8,"img",71),d.qZA()())}const rq=function(n){return{"blur-background":n}};function iq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div")(1,"div",4),d.YNc(2,Zz,1,0,"app-header",5),d.TgZ(3,"div",6)(4,"div",7),d._UZ(5,"div",8)(6,"div",9),d.qZA(),d.TgZ(7,"section",10)(8,"div",11)(9,"h3",12),d._uU(10,"Bonjour, je m'appelle"),d.qZA(),d.TgZ(11,"h1",13),d._uU(12,"RATOMPOARISOA Bruel Razafimbelo."),d.qZA(),d.TgZ(13,"p",14),d._uU(14,"Je suis un d\xe9veloppeur web et mobile junior."),d.qZA()(),d.TgZ(15,"div",15)(16,"p",16),d._uU(17," Je peut m'adapter \xe0 plusieurs types de technologies utilisant des langages de programmation comme "),d.TgZ(18,"b"),d._uU(19,"Javascript"),d.qZA(),d._uU(20,", "),d.TgZ(21,"b"),d._uU(22,"Typescript"),d.qZA(),d._uU(23," ou encore "),d.TgZ(24,"b"),d._uU(25,"PHP"),d.qZA(),d._uU(26,". "),d.qZA()(),d.TgZ(27,"button",17),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.openCV())}),d._uU(28," CURRICULUM VITAE "),d.qZA()(),d.TgZ(29,"section",18)(30,"div",19)(31,"h1",20),d._uU(32,"2. \xc0 PROPOS"),d.qZA(),d._UZ(33,"hr",21),d.qZA(),d.TgZ(34,"div",22)(35,"p",23),d._uU(36," Bonjour! Je m'appele Bruel et je suis un ing\xe9nieur en Genie Logiciel et Base de Donn\xe9es fraichement dipl\xf4m\xe9 de l'Ecole Nationale d'Informatique de Fianarantsoa. Depuis tout petit, je suis fascin\xe9 par les jeux vid\xe9os. Cela m'a men\xe9 dans le monde du digital quand je suis arriv\xe9 au lyc\xe9e vers 2013. Choisir un parcours en Informatique est devenu une \xe9vidence pour moi et j'ai d\xe9cid\xe9 d'int\xe9grer l'ENI. "),d._UZ(37,"br")(38,"br"),d._uU(39," J'ai commenc\xe9 par les bases du d\xe9veloppement web avec HTML, CSS et Javascript puis s'en est suivi des langages comme PHP, JAVA ou encore Python. Je suis maintenant un d\xe9veloppeur fullstack junior et apr\xe8s avoir presque touch\xe9 \xe0 tout, je me suis attard\xe9 pour les technologies "),d.TgZ(40,"b",24),d._uU(41,"Symfony"),d.qZA(),d._uU(42,", "),d.TgZ(43,"b",24),d._uU(44,"Angular"),d.qZA(),d._uU(45," et r\xe9cemment "),d.TgZ(46,"b",24),d._uU(47,"Flutter"),d.qZA(),d._uU(48,", que j'ai envie d'approfondir. "),d.qZA(),d._UZ(49,"img",25),d.qZA()(),d.TgZ(50,"section",26)(51,"div",19)(52,"h1",20),d._uU(53,"3. EXP\xc9RIENCES"),d.qZA(),d._UZ(54,"hr",21),d.qZA(),d.TgZ(55,"div",27)(56,"div",28),d.YNc(57,Yz,2,5,"button",29),d.qZA(),d.TgZ(58,"div",30),d.YNc(59,Jz,2,1,"div",31),d.qZA()()(),d.TgZ(60,"section",32)(61,"div",19)(62,"h1",20),d._uU(63,"4. PROJETS"),d.qZA(),d._UZ(64,"hr",21),d.qZA(),d.TgZ(65,"div",33),d.YNc(66,eq,2,1,"div",34),d.YNc(67,tq,5,1,"div",35),d.qZA()(),d.TgZ(68,"div",36)(69,"div",37),d._uU(70," ME CONTACTER? "),d.qZA(),d.TgZ(71,"div",38),d._uU(72," Je suis actuellement \xe0 la recherche d'un nouveau defi et si mon profil vous int\xe9resse pour un poste, un projet ou une collaboration, n'h\xe9sitez pas \xe0 m'en faire part : "),d.qZA(),d.TgZ(73,"div",39)(74,"button",40),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.contactMe())}),d._uU(75,"CLIQUEZ ICI"),d.qZA()(),d.YNc(76,nq,9,0,"div",41),d.TgZ(77,"div",42)(78,"span",43),d._uU(79,"\xa9 2023. Con\xe7u et r\xe9alis\xe9 par "),d.TgZ(80,"a",44),d._uU(81,"Bruel Razafimbelo"),d.qZA(),d._uU(82,". "),d.qZA()()(),d._UZ(83,"app-footer"),d.qZA()()()}if(2&n){const t=d.oxw();d.Q6J("@fadeInAnimation",!t.isLoad),d.xp6(2),d.Q6J("ngIf",t.header_variable),d.xp6(1),d.Q6J("ngClass",d.VKq(8,rq,t.isMenuOpen)),d.xp6(54),d.Q6J("ngForOf",t.experience),d.xp6(2),d.Q6J("ngForOf",t.experience),d.xp6(7),d.Q6J("ngIf",!t.isShowVideoModal),d.xp6(1),d.Q6J("ngIf",t.isShowVideoModal),d.xp6(9),d.Q6J("ngIf",!t.menuVisibilityFooter)}}let sq=(()=>{class n{constructor(t,r,i){this.sharedService=t,this.projectservice=r,this.experienceService=i,this.isLoad=!1,this.isMenuOpen=!1,this.header_variable=!0,this.experience=[],this.projet=[],this.bodyNow=0,this.docbodyNow=0,this.headerBorder=!1,this.isShowVideoModal=!1,this.videoUrl="",this.menuVisibilityFooter=!1,this.isTextXS=!1}ngOnInit(){this.isLoad=!0,setTimeout(()=>{this.isLoad=!1},2500),this.sharedService.isMenuOpenHeader$.subscribe(t=>{this.isMenuOpen=t}),this.sharedService.isMenuOpenFooter$.subscribe(t=>{this.menuVisibilityFooter=t}),this.experienceService.getExperienceList().subscribe(t=>{this.experience=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data(),isShow:!1})).sort(function(r,i){return+new Date(i.dateDebut)-+new Date(r.dateDebut)}),this.experience[0].isShow=!0}),this.projectservice.getProjetList().subscribe(t=>{this.projet=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})).sort(function(r,i){return+new Date(i.date)-+new Date(r.date)})}),this.sharedService.isSM$.subscribe(t=>{this.isTextXS=t})}changeDescription(t){t.isShow=!0;for(let r=0;r<this.experience.length;r++)this.experience[r]!=t&&!0===this.experience[r].isShow&&(this.experience[r].isShow=!1)}openDemonstration(t){this.isShowVideoModal=!0,this.videoUrl=t.url}closeDemonstration(){this.isShowVideoModal=!1,this.videoUrl=""}openCV(){window.open("assets/pdf/CV_Bruel.pdf","_blank")}contactMe(){window.open("mailto:razafimbelobruel@gmail.com","_self")}scrollFunction(){(document.body.scrollTop>this.bodyNow||document.documentElement.scrollTop>this.docbodyNow)&&(this.header_variable=!1,this.bodyNow=document.body.scrollTop,this.docbodyNow=document.documentElement.scrollTop),(this.bodyNow>document.body.scrollTop||this.docbodyNow>document.documentElement.scrollTop)&&(this.header_variable=!0,this.bodyNow=document.body.scrollTop,this.docbodyNow=document.documentElement.scrollTop),this.bodyNow>0||this.docbodyNow>0?(this.headerBorder=!0,this.sharedService.setIsHeaderBorder(this.headerBorder)):(this.headerBorder=!1,this.sharedService.setIsHeaderBorder(this.headerBorder))}scrollToDiv1(){document.getElementById("target1").scrollIntoView({behavior:"smooth"})}scrollToDiv2(){document.getElementById("target2").scrollIntoView({behavior:"smooth"})}scrollToDiv3(){document.getElementById("target3").scrollIntoView({behavior:"smooth"})}scrollToDiv4(){document.getElementById("target4").scrollIntoView({behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(cg),d.Y36(Vk),d.Y36(mS))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-accueil"]],hostBindings:function(t,r){1&t&&d.NdJ("scroll",function(){return r.scrollFunction()},!1,d.evT)},decls:2,vars:2,consts:[["class","grid h-screen bg-gradient-to-r from-white to-sky-200 place-items-center",4,"ngIf"],[4,"ngIf"],[1,"grid","h-screen","bg-gradient-to-r","from-white","to-sky-200","place-items-center"],["role","status",1,"h-14","w-14","border-sky-300","animate-spin","rounded-full","border-8","border-solid","border-r-transparent"],[1,"h-screen","overflow-y-scroll"],[3,"menuAccueilClick","menuAproposClick","menuExperienceClick","menuProjetClick",4,"ngIf"],[1,"absolute","z-0","w-full","bg-gradient-to-r","from-white","to-sky-200",3,"ngClass"],[1,"flex","items-center","justify-center"],[1,"fixed","top-36","left-1/3","2xl:w-96","2xl:h-96","xl:w-80","xl:h-80","lg:w-64","lg:h-64","md:w-60","md:h-60","sm:w-56","sm:h-56","w-48","h-48","bg-sky-200","rounded-full","blur-md","animate-blob1"],[1,"fixed","top-36","right-1/3","2xl:w-96","2xl:h-96","xl:w-80","xl:h-80","lg:w-64","lg:h-64","md:w-60","md:h-60","sm:w-56","sm:h-56","w-48","h-48","bg-white","rounded-full","blur-md","animate-blob2"],["id","target1",1,"w-auto","h-auto","mt-20","sm:mt-20","md:mt-20","lg:mt-20","xl:mt-20","2xl:mt-20"],[1,"item-center","pt-14","ml-8","mr-8","sm:pt-16","sm:ml-20","sm:mr-20","md:pt-16","md:ml-40","md:mr-40","lg:pt-20","lg:ml-52","lg:mr-52","xl:pt-20","xl:ml-64","xl:mr-64","2xl:pt-20","2xl:ml-64","2xl:mr-64"],[1,"text-base","sm:text-base","md:text-base","lg:text-lg","xl:text-xl","2xl:text-2xl","font-sans","drop-shadow"],[1,"mt-4","text-xl","sm:mt-4","sm:text-2xl","md:mt-4","md:text-2xl","lg:mt-4","lg:text-3xl","xl:mt-4","xl:text-5xl","2xl:mt-4","2xl:text-5xl","font-sans","font-extrabold","drop-shadow"],[1,"text-lg","sm:text-xl","md:text-2xl","lg:text-3xl","xl:text-5xl","2xl:text-5xl","text-slate-400","font-sans","font-bold","drop-shadow"],[1,"pr-8","ml-8","mr-8","mt-4","sm:w-80","sm:ml-20","sm:mr-20","sm:mt-4","md:w-96","md:ml-40","md:mr-40","md:mt-6","lg:w-1/3","lg:ml-52","lg:mr-52","lg:mt-6","xl:w-1/3","xl:ml-64","xl:mr-64","xl:mt-6","2xl:w-1/3","2xl:ml-64","2xl:mr-64","2xl:mt-6"],[1,"text-base","font-semibold","drop-shadow"],[1,"w-40","h-10","ml-8","mr-8","mt-4","sm:w-40","sm:h-10","sm:ml-20","sm:mr-20","sm:mt-6","md:w-40","md:h-10","md:ml-40","md:mr-40","md:mt-10","lg:w-52","lg:h-16","lg:ml-52","lg:mr-52","lg:mt-8","xl:w-52","xl:h-16","xl:ml-64","xl:mr-64","xl:mt-8","2xl:w-52","2xl:h-16","2xl:ml-64","2xl:mr-64","2xl:mt-8","font-bold","bg-sky-200","drop-shadow","duration-500","border-sky-200","rounded-lg","hover:bg-sky-300","hover:border-[2px]","hover:text-slate-500",3,"click"],["id","target2",1,"w-auto","h-auto"],[1,"flex","items-center","space-x-2","2xl:ml-64","2xl:mr-64","2xl:mt-96","xl:ml-64","xl:mr-64","xl:mt-96","lg:ml-52","lg:mr-52","lg:mt-96","md:ml-40","md:mr-40","md:mt-96","sm:ml-20","sm:mr-20","sm:mt-96","ml-8","mr-8","mt-96","drop-shadow"],[1,"2xl:text-3xl","xl:text-3xl","lg:text-2xl","md:text-xl","sm:text-lg","text-base","font-sans","font-extrabold"],[1,"w-1/2","border-black","border-2"],[1,"flex","flex-col","space-y-2","pt-2","ml-8","mr-8","2xl:flex-row","2xl:space-x-6","2xl:ml-64","2xl:mr-64","xl:flex-row","xl:space-x-6","xl:ml-64","xl:mr-64","lg:flex-row","lg:pt-4","lg:space-x-2","lg:ml-52","lg:mr-52","md:flex-col","md:pt-2","md:space-y-2","md:ml-40","md:mr-40","sm:flex-col","sm:pt-2","sm:space-y-2","sm:ml-20","sm:mr-20"],[1,"rounded","2xl:w-1/2","md:w-full","sm:w-full","text-base","font-semibold","drop-shadow"],[1,"hover:underline"],["src","assets/images/pdp.jpg","title","Photo",1,"2xl:w-80","2xl:h-80","xl:w-80","xl:h-80","lg:w-72","lg:h-80","md:w-auto","md:h-80","sm:w-auto","sm:h-72","w-full","h-64","border-[6px]","border-sky-200","duration-500","rounded","drop-shadow","hover:border-[0px]"],["id","target3",1,"w-auto","h-auto"],[1,"flex","flex-row","2xl:space-x-14","2xl:ml-64","2xl:mr-64","2xl:mt-6","xl:space-x-12","xl:ml-64","xl:mr-64","xl:mt-6","lg:space-x-10","lg:ml-52","lg:mr-52","lg:mt-6","md:space-x-8","md:ml-40","md:mr-40","md:mt-4","sm:space-x-4","sm:ml-20","sm:mr-20","sm:mt-4","space-x-2","ml-8","mr-8","mt-2","drop-shadow"],[1,"flex","flex-col","space-y-1"],["class","bg-sky-200 font-bold p-1 border-l-[4px] duration-500 hover:bg-sky-300 hover:text-slate-500",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-l-[3px]","border-r-[3px]","border-sky-400","rounded","w-3/4"],[4,"ngFor","ngForOf"],["id","target4",1,"w-auto","h-96"],[1,"2xl:ml-64","2xl:mr-64","2xl:mt-6","xl:ml-64","xl:mr-64","xl:mt-6","lg:ml-52","lg:mr-52","lg:mt-6","md:ml-40","md:mr-40","md:mt-4","sm:ml-20","sm:mr-20","sm:mt-4","ml-8","mr-8","mt-2"],["class","grid 2xl:grid-cols-4 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-2 grid-cols-2 gap-4 drop-shadow",4,"ngIf"],["class","w-full h-full drop-shadow",4,"ngIf"],[1,"w-auto","h-96","bg-image","mt-96","drop-shadow"],[1,"flex","justify-center","text-2xl","pt-10","ml-8","mr-8","2xl:ml-64","2xl:mr-64","xl:ml-64","xl:mr-64","lg:ml-64","lg:mr-64","text-slate-400","font-sans","font-bold","drop-shadow"],[1,"flex","justify-center","text-center","font-bold","mt-32","ml-8","mr-8","2xl:ml-64","2xl:mr-64","xl:ml-64","xl:mr-64","lg:ml-52","lg:mr-52","md:ml-40","md:mr-40","text-sm","sm:text-sm","lg:text-lg","xl:text-lg","2xl:text-lg","drop-shadow"],[1,"flex","justify-center","ml-8","mr-8","mt-10","2xl:ml-64","2xl:mr-64","xl:ml-64","xl:mr-64","lg:ml-64","lg:mr-64"],[1,"w-36","h-10","font-bold","bg-sky-200","drop-shadow","duration-500","border-[2px]","border-sky-200","rounded-lg","hover:bg-sky-300","hover:text-slate-500",3,"click"],["class","mt-10 flex flex-row space-x-2 justify-center",4,"ngIf"],[1,"flex","justify-center","mt-32","pb-4"],[1,"text-sm","text-black","drop-shadow"],["href","https://www.facebook.com/bruel.razafimbeloratompoarisoa/","target","_blank",1,"font-bold","hover:underline"],[3,"menuAccueilClick","menuAproposClick","menuExperienceClick","menuProjetClick"],[1,"bg-sky-200","font-bold","p-1","border-l-[4px]","duration-500","hover:bg-sky-300","hover:text-slate-500",3,"ngClass","click"],["class","p-2",4,"ngIf"],[1,"p-2"],[1,"font-extrabold","underline"],[1,"italic"],[1,"text-base","font-semibold","mt-6"],[1,"grid","2xl:grid-cols-4","xl:grid-cols-4","lg:grid-cols-3","md:grid-cols-3","sm:grid-cols-2","grid-cols-2","gap-4","drop-shadow"],["class","rounded-lg border-[2px] border-sky-300 shadow-xl cursor-pointer duration-500 hover:scale-105",3,"click",4,"ngFor","ngForOf"],[1,"rounded-lg","border-[2px]","border-sky-300","shadow-xl","cursor-pointer","duration-500","hover:scale-105",3,"click"],["src","../../assets/images/folder.png","alt","Folder",1,"px-2","w-12","h-10"],[1,"px-2"],[1,"font-bold","text-lg","mb-2"],[1,"font-semibold","font-sans","text-slate-400","mb-2"],[1,"w-full","h-full","drop-shadow"],["controls","","playsinline","","loop","",1,"w-full","h-auto","2xl:h-96","drop-shadow","rounded",3,"src"],[1,"absolute","right-2","top-2","bg-white","rounded-full","w-8","h-8","grid","place-items-center",3,"click"],["title","FERMER",1,"text-sky-200","font-extrabold"],[1,"mt-10","flex","flex-row","space-x-2","justify-center"],["href","https://www.linkedin.com/in/bruel-razafimbelo-ratompoarisoa-48979026a/","target","_blank"],["src","assets/images/linkedin.png","title","Linkedin",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://github.com/ZakkWylde008","target","_blank"],["src","assets/images/github.png","title","Github",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://gitlab.com/ZakkWylde008","target","_blank"],["src","assets/images/gitlab.png","title","Gitlab",1,"w-6","h-6","duration-500","hover:scale-150"],["href","https://www.codewars.com/users/ZakkWylde008","target","_blank"],["src","assets/images/codewars.png","title","Codewars",1,"w-6","h-6","duration-500","hover:scale-150"]],template:function(t,r){1&t&&(d.YNc(0,Wz,2,0,"div",0),d.YNc(1,iq,84,10,"div",1)),2&t&&(d.Q6J("ngIf",r.isLoad),d.xp6(1),d.Q6J("ngIf",!r.isLoad))},dependencies:[Qt,hs,Fn,$z,zz,iy,qz],styles:[".blur-background[_ngcontent-%COMP%]{filter:blur(5px)}.bg-image[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(sea_background.56ca2f894be9efaa.png);background-repeat:no-repeat;background-size:100% 100%}"],data:{animation:[fv,Sh,wI]}}),n})();function oq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",8)(1,"th",9),d._uU(2),d.qZA(),d.TgZ(3,"td",10),d._uU(4),d.qZA(),d.TgZ(5,"td",10),d._uU(6),d.qZA(),d.TgZ(7,"td",10),d._uU(8),d.qZA(),d.TgZ(9,"td",10),d._uU(10),d.qZA(),d.TgZ(11,"td",10),d._uU(12),d.qZA(),d.TgZ(13,"td")(14,"span",11),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.redirectToEdit(a))}),d.TgZ(15,"button"),d._uU(16,"Modifier"),d.qZA()(),d._uU(17," \xa0 "),d.TgZ(18,"span",12),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.removeExperience(a))}),d.TgZ(19,"button"),d._uU(20,"Supprimer"),d.qZA()()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.hij(" ",t.id," "),d.xp6(2),d.hij(" ",t.nom," "),d.xp6(2),d.hij(" ",t.type," "),d.xp6(2),d.hij(" ",t.dateDebut," "),d.xp6(2),d.hij(" ",t.dateFin," "),d.xp6(2),d.hij(" ",t.description," ")}}let aq=(()=>{class n{constructor(t,r){this.experienceService=t,this.router=r}ngOnInit(){this.experienceService.getExperienceList().subscribe(t=>{this.experience=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}redirectToEdit(t){this.router.navigate(["backend008/experienceUpdate",t.id])}removeExperience(t){confirm("Etes-vous sur de vouloir supprimer l'exp\xe9rience n\xb0"+t.id+" ?")&&this.experienceService.deleteExperience(t),alert("Suppression d'un exp\xe9rience eff\xe9ctu\xe9 avec succ\xe8s!"),setTimeout(()=>{this.router.navigate(["backend008/experience"])},1e3)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mS),d.Y36(bn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-gestion-experience"]],decls:25,vars:1,consts:[[1,"text-center","w-auto","m-4","p-2","font-extrabold"],["href","https://zakkwylde008.github.io/bruel-portfolio/#/backend008/experienceCreate"],[1,"w-20","mt-4","p-2","font-bold","bg-sky-600","drop-shadow","rounded-lg","hover:bg-sky-200"],[1,"relative","overflow-x-auto","mt-4"],[1,"w-full","text-sm","text-left","text-cyan-600","dark:text-cyan-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"py-4"],[1,"bg-emerald-400","hover:bg-emerald-600","text-white","font-bold","rounded","p-1","focus:outline-none","focus:shadow-outline",3,"click"],[1,"bg-rose-400","hover:bg-rose-600","text-white","font-bold","rounded","p-1","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Gestion des exp\xe9riences"),d.qZA(),d.TgZ(2,"a",1)(3,"button",2),d._uU(4,"Cr\xe9er"),d.qZA()(),d.TgZ(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),d._uU(10," Id "),d.qZA(),d.TgZ(11,"th",6),d._uU(12," Nom "),d.qZA(),d.TgZ(13,"th",6),d._uU(14," Type "),d.qZA(),d.TgZ(15,"th",6),d._uU(16," Date de d\xe9but "),d.qZA(),d.TgZ(17,"th",6),d._uU(18," Date de fin "),d.qZA(),d.TgZ(19,"th",6),d._uU(20," Description "),d.qZA(),d.TgZ(21,"th",6),d._uU(22," Action "),d.qZA()()(),d.TgZ(23,"tbody"),d.YNc(24,oq,21,6,"tr",7),d.qZA()()()),2&t&&(d.xp6(24),d.Q6J("ngForOf",r.experience))},dependencies:[hs]}),n})(),uB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Ef=(()=>{class n extends uB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Pa=new d.OlP("NgValueAccessor"),cq={provide:Pa,useExisting:(0,d.Gpc)(()=>Xm),multi:!0},hq=new d.OlP("CompositionEventMode");let Xm=(()=>{class n extends uB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dq(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(hq,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([cq]),d.qOj]}),n})();const Ai=new d.OlP("NgValidators"),qc=new d.OlP("NgAsyncValidators");function fB(n){return function zc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function yS(n){return null}function vB(n){return null!=n}function wB(n){return(0,d.QGY)(n)?(0,hn.D)(n):n}function EB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bB(n,e){return e.map(t=>t(n))}function IB(n){return n.map(e=>function gq(n){return!n.validate}(e)?e:t=>e.validate(t))}function Uk(n){return null!=n?function CB(n){if(!n)return null;const e=n.filter(vB);return 0==e.length?null:function(t){return EB(bB(t,e))}}(IB(n)):null}function Bk(n){return null!=n?function DB(n){if(!n)return null;const e=n.filter(vB);return 0==e.length?null:function(t){return function uq(...n){const e=(0,pa.jO)(n),{args:t,keys:r}=f_(n),i=new os.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let m=l,v=l;for(let C=0;C<l;C++){let D=!1;(0,Ep.Xf)(t[C]).subscribe((0,wr.x)(a,k=>{D||(D=!0,v--),f[C]=k},()=>m--,void 0,()=>{(!m||!D)&&(v||a.next(r?tA(r,f):f),a.complete())}))}});return e?i.pipe(wp(e)):i}(bB(t,e).map(wB)).pipe((0,xt.U)(EB))}}(IB(n)):null}function TB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SB(n){return n._rawValidators}function AB(n){return n._rawAsyncValidators}function jk(n){return n?Array.isArray(n)?n:[n]:[]}function _S(n,e){return Array.isArray(n)?n.includes(e):n===e}function xB(n,e){const t=jk(e);return jk(n).forEach(i=>{_S(t,i)||t.push(i)}),t}function MB(n,e){return jk(e).filter(t=>!_S(n,t))}class RB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zi extends RB{get formDirective(){return null}get path(){return null}}class Wc extends RB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vS=(()=>{class n extends NB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),$k=(()=>{class n extends NB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const IE="VALID",ES="INVALID",ey="PENDING",CE="DISABLED";function qk(n){return(bS(n)?n.validators:n)||null}function PB(n){return Array.isArray(n)?Uk(n):n||null}function Wk(n,e){return(bS(e)?e.asyncValidators:n)||null}function OB(n){return Array.isArray(n)?Bk(n):n||null}function bS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function FB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")}function LB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})}class IS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=PB(this._rawValidators),this._composedAsyncValidatorFn=OB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===IE}get invalid(){return this.status===ES}get pending(){return this.status==ey}get disabled(){return this.status===CE}get enabled(){return this.status!==CE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=PB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=OB(e)}addValidators(e){this.setValidators(xB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MB(e,this._rawAsyncValidators))}hasValidator(e){return _S(this._rawValidators,e)}hasAsyncValidator(e){return _S(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ey,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=CE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=IE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===IE||this.status===ey)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?CE:IE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ey,this._hasOwnPendingAsyncValidator=!0;const t=wB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?CE:this.errors?ES:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ey)?ey:this._anyControlsHaveStatus(ES)?ES:IE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class DE extends IS{constructor(e,t,r){super(qk(t),Wk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LB(this,0,e),Object.keys(e).forEach(r=>{FB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class VB extends DE{}function CS(n,e){return[...e.path,n]}function TE(n,e){Zk(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Iq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UB(n,e)})}(n,e),function Dq(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Cq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bq(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function DS(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),SS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function TS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zk(n,e){const t=SB(n);null!==e.validator?n.setValidators(TB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=AB(n);null!==e.asyncValidator?n.setAsyncValidators(TB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();TS(e._rawValidators,i),TS(e._rawAsyncValidators,i)}function SS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=SB(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=AB(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return TS(e._rawValidators,r),TS(e._rawAsyncValidators,r),t}function UB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Yk(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Xm?t=a:function Aq(n){return Object.getPrototypeOf(n.constructor)===Ef}(a)?r=a:i=a}),i||r||t||null}function HB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const AE=class extends IS{constructor(e=null,t,r){super(qk(t),Wk(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kq={provide:Wc,useExisting:(0,d.Gpc)(()=>Jk)},WB=(()=>Promise.resolve())();let Jk=(()=>{class n extends Wc{constructor(t,r,i,a,l){super(),this._changeDetectorRef=l,this.control=new AE,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yk(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Kk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){TE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){WB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);WB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?CS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,9),d.Y36(Ai,10),d.Y36(qc,10),d.Y36(Pa,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([kq]),d.qOj,d.TTD]}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const eP=new d.OlP("NgModelWithFormControlWarning"),Uq={provide:Zi,useExisting:(0,d.Gpc)(()=>xE)};let xE=(()=>{class n extends Zi{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(SS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return TE(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){DS(t.control||null,t,!1),function xq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function $B(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(DS(r||null,t),(n=>n instanceof AE)(i)&&(TE(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function BB(n,e){Zk(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Tq(n,e){return SS(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zk(this.form,this),this._oldForm&&SS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ai,10),d.Y36(qc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Uq]),d.qOj,d.TTD]}),n})();const $q={provide:Wc,useExisting:(0,d.Gpc)(()=>AS)};let AS=(()=>{class n extends Wc{constructor(t,r,i,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yk(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Kk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return CS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,13),d.Y36(Ai,10),d.Y36(qc,10),d.Y36(Pa,10),d.Y36(eP,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([$q]),d.qOj,d.TTD]}),n})(),bf=(()=>{class n{constructor(){this._validator=yS}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const Qq={provide:Ai,useExisting:(0,d.Gpc)(()=>ty),multi:!0};let ty=(()=>{class n extends bf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>fB}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([Qq]),d.qOj]}),n})(),dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[KB]}),n})(),r9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dj]}),n})(),hj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:eP,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[dj]}),n})();class fj extends IS{constructor(e,t,r){super(qk(t),Wk(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){LB(this,0,e),e.forEach((r,i)=>{FB(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function pj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let gj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return pj(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new DE(i,a)}record(t,r=null){const i=this._reduceControls(t);return new VB(i,r)}control(t,r,i){let a={};return this.useNonNullable?(pj(r)?a=r:(a.validators=r,a.asyncValidators=i),new AE(t,{...a,nonNullable:!0})):new AE(t,r,i)}array(t,r,i){const a=t.map(l=>this._createControl(l));return new fj(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof AE||t instanceof IS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:hj}),n})(),i9=(()=>{class n{constructor(t,r,i){this.experienceService=t,this.formBuilder=r,this.router=i,this.experienceForm=this.formBuilder.group({nom:[""],type:[""],dateDebut:[""],dateFin:[""],description:[""]})}ngOnInit(){}onSubmit(){this.experienceService.createExperience(this.experienceForm.value),alert("Ajout d'un exp\xe9rience eff\xe9ctu\xe9 avec succ\xe8s!"),setTimeout(()=>{this.router.navigate(["backend008/experience"])},1e3)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mS),d.Y36(gj),d.Y36(bn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-create"]],decls:30,vars:2,consts:[[1,"text-center","w-auto","m-4","p-2","font-extrabold"],["href","https://zakkwylde008.github.io/bruel-portfolio/#/backend008/experience"],[1,"text-center","w-20","m-4","p-2","font-bold","bg-black","drop-shadow","rounded-lg","text-white","hover:bg-white","hover:text-black"],[1,"w-full","mt-4"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","m-4",3,"formGroup","ngSubmit"],[1,"m-4"],["for","nom",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","nom","formControlName","nom","type","text","placeholder","Lieux de l'exp\xe9rience","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"m-6"],["for","type",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","type","formControlName","type","type","text","placeholder","Type de l'exp\xe9rience","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","dateDebut",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","dateDebut","formControlName","dateDebut","type","date","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","dateFin",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","dateFin","formControlName","dateFin","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","description",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","description","formControlName","description","cols","30","rows","10","placeholder","D\xe9scription de l'exp\xe9rience","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between","m-4"],["type","submit",1,"bg-cyan-500","hover:bg-cyan-600","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Cr\xe9ation d'experience"),d.qZA(),d.TgZ(2,"a",1)(3,"button",2),d._uU(4,"Retour"),d.qZA()(),d.TgZ(5,"div",3)(6,"form",4),d.NdJ("ngSubmit",function(){return r.onSubmit()}),d.TgZ(7,"div",5)(8,"label",6),d._uU(9," Nom "),d.qZA(),d._UZ(10,"input",7),d.qZA(),d.TgZ(11,"div",8)(12,"label",9),d._uU(13," Type "),d.qZA(),d._UZ(14,"input",10),d.qZA(),d.TgZ(15,"div",8)(16,"label",11),d._uU(17," Date de d\xe9but "),d.qZA(),d._UZ(18,"input",12),d.qZA(),d.TgZ(19,"div",8)(20,"label",13),d._uU(21," Date de fin "),d.qZA(),d._UZ(22,"input",14),d.qZA(),d.TgZ(23,"div",8)(24,"label",15),d._uU(25," D\xe9scription "),d.qZA(),d._UZ(26,"textarea",16),d.qZA(),d.TgZ(27,"div",17)(28,"button",18),d._uU(29," Ajouter "),d.qZA()()()()),2&t&&(d.xp6(6),d.Q6J("formGroup",r.experienceForm),d.xp6(22),d.Q6J("disabled",!r.experienceForm.valid))},dependencies:[Xk,Xm,vS,$k,ty,xE,AS]}),n})(),s9=(()=>{class n{constructor(t,r,i,a){this.experienceService=t,this.formBuilder=r,this.act=i,this.router=a,this.experienceEditForm=this.formBuilder.group({nom:[""],type:[""],dateDebut:[""],dateFin:[""],description:[""]})}ngOnInit(){const t=this.act.snapshot.paramMap.get("id");this.experienceService.getExperienceDoc(t).subscribe(r=>{this.experienceRef=r,this.experienceEditForm=this.formBuilder.group({nom:[this.experienceRef.nom],type:[this.experienceRef.type],dateDebut:[this.experienceRef.dateDebut],dateFin:[this.experienceRef.dateFin],description:[this.experienceRef.description]})})}onSubmit(){const t=this.act.snapshot.paramMap.get("id");this.experienceService.updateExperience(this.experienceEditForm.value,t),alert("Modification d'un exp\xe9rience eff\xe9ctu\xe9 avec succ\xe8s!"),setTimeout(()=>{this.router.navigate(["backend008/experience"])},1e3)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mS),d.Y36(gj),d.Y36(bs),d.Y36(bn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-update"]],decls:30,vars:2,consts:[[1,"text-center","w-auto","m-4","p-2","font-extrabold"],["href","https://zakkwylde008.github.io/bruel-portfolio/#/backend008/experience"],[1,"text-center","w-20","m-4","p-2","font-bold","bg-black","drop-shadow","rounded-lg","text-white","hover:bg-white","hover:text-black"],[1,"w-full","mt-4"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","m-4",3,"formGroup","ngSubmit"],[1,"m-4"],["for","nom",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","nom","formControlName","nom","type","text","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"m-6"],["for","type",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","type","formControlName","type","type","text","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","dateDebut",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","dateDebut","formControlName","dateDebut","type","date","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","dateFin",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","dateFin","formControlName","dateFin","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],["for","description",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","description","formControlName","description","cols","30","rows","10","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","items-center","justify-between","m-4"],["type","submit",1,"bg-cyan-500","hover:bg-cyan-600","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"disabled"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Modification"),d.qZA(),d.TgZ(2,"a",1)(3,"button",2),d._uU(4,"Annuler"),d.qZA()(),d.TgZ(5,"div",3)(6,"form",4),d.NdJ("ngSubmit",function(){return r.onSubmit()}),d.TgZ(7,"div",5)(8,"label",6),d._uU(9," Nom "),d.qZA(),d._UZ(10,"input",7),d.qZA(),d.TgZ(11,"div",8)(12,"label",9),d._uU(13," Type "),d.qZA(),d._UZ(14,"input",10),d.qZA(),d.TgZ(15,"div",8)(16,"label",11),d._uU(17," Date de d\xe9but "),d.qZA(),d._UZ(18,"input",12),d.qZA(),d.TgZ(19,"div",8)(20,"label",13),d._uU(21," Date de fin "),d.qZA(),d._UZ(22,"input",14),d.qZA(),d.TgZ(23,"div",8)(24,"label",15),d._uU(25," D\xe9scription "),d.qZA(),d._UZ(26,"textarea",16),d.qZA(),d.TgZ(27,"div",17)(28,"button",18),d._uU(29," Modifier "),d.qZA()()()()),2&t&&(d.xp6(6),d.Q6J("formGroup",r.experienceEditForm),d.xp6(22),d.Q6J("disabled",!r.experienceEditForm.valid))},dependencies:[Xk,Xm,vS,$k,ty,xE,AS]}),n})();L(1389);class yj{constructor(){return Gh("auth")}}class ME{constructor(e){return e}}const _j="storage",aP=new d.OlP("angularfire2.storage-instances");function d9(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ME(r)}}const h9={provide:class l9{constructor(){return Gh(_j)}},deps:[[new d.FiY,aP]]},f9={provide:ME,useFactory:function c9(n,e){const t=function j0(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(l=>l.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(_j,n,e);return t&&new ME(t)},deps:[[new d.FiY,aP],gm]};let p9=(()=>{class n{constructor(){(0,Ut.registerVersion)("angularfire",F0.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[f9,h9]}),n})();function g9(n,...e){return{ngModule:p9,providers:[{provide:aP,useFactory:d9(n),multi:!0,deps:[d.R0b,d.zs3,zu,MO,[new d.FiY,yj],[new d.FiY,hw],...e]}]}}const m9=Ec(CO,!0),y9=Ec(IO,!0),_9=Ec(qj,!0),vj=Ec(r1,!0),v9=Ec(bO,!0);function w9(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",8)(1,"th",9),d._uU(2),d.qZA(),d.TgZ(3,"td")(4,"span",10),d.NdJ("click",function(){const a=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.removeVideo(a))}),d.TgZ(5,"button"),d._uU(6,"Supprimer"),d.qZA()()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.hij(" ",t.nom," ")}}const E9=[{path:"",component:sq},{path:"backend008/experience",component:aq},{path:"backend008/experienceCreate",component:i9},{path:"backend008/experienceUpdate/:id",component:s9},{path:"backend008/projet",component:(()=>{class n{constructor(t,r,i){this.projetservice=t,this.storage=r,this.router=i,this.videolist=[],this.projetlist=[]}ngOnInit(){this.projetservice.getProjetList().subscribe(t=>{this.projetlist=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}removeVideo(t){const r=vj(this.storage,t.nom);m9(r).then(()=>{this.projetservice.deleteProjet(t),console.log("Projet supprimer avec succ\xe8s!"),setTimeout(()=>{this.router.navigate(["backend008/projet"])},1e3)}).catch(i=>{console.log("Erreur: "+i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Vk),d.Y36(ME),d.Y36(bn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-gestion-projet"]],decls:13,vars:1,consts:[[1,"text-center","w-auto","m-4","p-2","font-extrabold"],["href","https://zakkwylde008.github.io/bruel-portfolio/#/backend008/projetCreate"],[1,"w-20","mt-4","p-2","font-bold","bg-sky-600","drop-shadow","rounded-lg","hover:bg-sky-200"],[1,"relative","overflow-x-auto","mt-4"],[1,"w-full","text-sm","text-left","text-cyan-600","dark:text-cyan-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col"],["class","bg-white border-b dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"bg-rose-400","hover:bg-rose-600","text-white","font-bold","rounded","p-1","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Gestion des projets"),d.qZA(),d.TgZ(2,"a",1)(3,"button",2),d._uU(4,"Cr\xe9er"),d.qZA()(),d.TgZ(5,"div",3)(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),d._uU(10," Nom video "),d.qZA()()(),d.TgZ(11,"tbody"),d.YNc(12,w9,7,1,"tr",7),d.qZA()()()),2&t&&(d.xp6(12),d.Q6J("ngForOf",r.projetlist))},dependencies:[hs]}),n})()},{path:"backend008/projetCreate",component:(()=>{class n{constructor(t,r,i){this.storage=t,this.router=r,this.projetService=i,this.video={}}ngOnInit(){}chooseVideo(t){this.video=t?.target.files[0]}onSubmit(){const t=vj(this.storage,this.video.name),r=v9(t,this.video);r.on("state_changed",i=>{console.log("L'ajout est \xe0 "+i.bytesTransferred/i.totalBytes*100+" %")},i=>{console.log(i.message)},()=>{y9(r.snapshot.ref).then(i=>{let a={nom:this.video.name,url:i,outils:this.outils,date:new Date};this.projetService.createProjet(a),alert("Ajout d'un projet eff\xe9ctu\xe9 avec succ\xe8s!")})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ME),d.Y36(bn),d.Y36(Vk))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-create"]],decls:18,vars:1,consts:[[1,"text-center","w-auto","m-4","p-2","font-extrabold"],["href","https://zakkwylde008.github.io/bruel-portfolio/#/backend008/projet"],[1,"text-center","w-20","m-4","p-2","font-bold","bg-black","drop-shadow","rounded-lg","text-white","hover:bg-white","hover:text-black"],[1,"w-full","mt-4"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","m-4"],[1,"m-4"],["for","video",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","video","type","file","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["for","outils",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","outils","type","text","placeholder","Outils","required","",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-between","m-4"],[1,"bg-cyan-500","hover:bg-cyan-600","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"Cr\xe9ation projet"),d.qZA(),d.TgZ(2,"a",1)(3,"button",2),d._uU(4,"Retour"),d.qZA()(),d.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),d._uU(9," Video: "),d.qZA(),d.TgZ(10,"input",7),d.NdJ("change",function(a){return r.chooseVideo(a)}),d.qZA()(),d.TgZ(11,"div",5)(12,"label",8),d._uU(13," Outils: "),d.qZA(),d.TgZ(14,"input",9),d.NdJ("ngModelChange",function(a){return r.outils=a}),d.qZA()(),d.TgZ(15,"div",10)(16,"button",11),d.NdJ("click",function(){return r.onSubmit()}),d._uU(17," Ajouter "),d.qZA()()()()),2&t&&(d.xp6(14),d.Q6J("ngModel",r.outils))},dependencies:[Xm,vS,ty,Jk]}),n})()}];let b9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[og.forRoot(E9,{useHash:!0}),og]}),n})(),I9=(()=>{class n{constructor(){this.title="bruel-portfolio"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Hb]}),n})();const uP={production:!0,firebaseConfig:{apiKey:"AIzaSyCefTqIvgYOvovAmCDIKUJVYlmwnkVZuq4",authDomain:"bruelportfolio.firebaseapp.com",projectId:"bruelportfolio",storageBucket:"bruelportfolio.appspot.com",messagingSenderId:"105832684079",appId:"1:105832684079:web:a10515f620438e735644da"}};let C9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[I9]}),n.\u0275inj=d.cJS({providers:[{provide:zr.Dh,useValue:uP.firebaseConfig}],imports:[Dd,b9,d_,s$(()=>o$(uP.firebaseConfig)),Oz,r9,hj,g9(()=>_9())]}),n})();uP.production&&(0,d.G48)(),Dl().bootstrapModule(C9).catch(n=>console.error(n))},9751:(yt,Me,L)=>{L.d(Me,{y:()=>De});var d=L(2961),B=L(727),O=L(8822),se=L(9635),we=L(2416),ye=L(576),Te=L(2806);let De=(()=>{class K{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Ee=new K;return Ee.source=this,Ee.operator=Ne,Ee}subscribe(Ne,Ee,Qe){const ie=function $(K){return K&&K instanceof d.Lv||function H(K){return K&&(0,ye.m)(K.next)&&(0,ye.m)(K.error)&&(0,ye.m)(K.complete)}(K)&&(0,B.Nn)(K)}(Ne)?Ne:new d.Hp(Ne,Ee,Qe);return(0,Te.x)(()=>{const{operator:he,source:it}=this;ie.add(he?he.call(ie,it):it?this._subscribe(ie):this._trySubscribe(ie))}),ie}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ee){Ne.error(Ee)}}forEach(Ne,Ee){return new(Ee=Oe(Ee))((Qe,ie)=>{const he=new d.Hp({next:it=>{try{Ne(it)}catch(_t){ie(_t),he.unsubscribe()}},error:ie,complete:Qe});this.subscribe(he)})}_subscribe(Ne){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(Ne)}[O.L](){return this}pipe(...Ne){return(0,se.U)(Ne)(this)}toPromise(Ne){return new(Ne=Oe(Ne))((Ee,Qe)=>{let ie;this.subscribe(he=>ie=he,he=>Qe(he),()=>Ee(ie))})}}return K.create=Ue=>new K(Ue),K})();function Oe(K){var Ue;return null!==(Ue=K??we.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(yt,Me,L)=>{L.d(Me,{x:()=>Te});var d=L(9751),B=L(727);const se=(0,L(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=L(8737),ye=L(2806);let Te=(()=>{class Oe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new De(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new se}next($){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:Ne}=this;return K||Ue?B.Lc:(this.currentObservers=null,Ne.push($),new B.w0(()=>{this.currentObservers=null,(0,we.P)(Ne,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:Ne}=this;K?$.error(Ue):Ne&&$.complete()}asObservable(){const $=new d.y;return $.source=this,$}}return Oe.create=(H,$)=>new De(H,$),Oe})();class De extends Te{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,H)}error(H){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==K?K:B.Lc}}},2961:(yt,Me,L)=>{L.d(Me,{Hp:()=>Qe,Lv:()=>K});var d=L(576),B=L(727),O=L(2416),se=L(7849);function we(){}const ye=Oe("C",void 0,void 0);function Oe(be,de,ge){return{kind:be,value:de,error:ge}}var H=L(3410),$=L(2806);class K extends B.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,B.Nn)(de)&&de.add(this)):this.destination=_t}static create(de,ge,Be){return new Qe(de,ge,Be)}next(de){this.isStopped?it(function De(be){return Oe("N",be,void 0)}(de),this):this._next(de)}error(de){this.isStopped?it(function Te(be){return Oe("E",void 0,be)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?it(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ne(be,de){return Ue.call(be,de)}class Ee{constructor(de){this.partialObserver=de}next(de){const{partialObserver:ge}=this;if(ge.next)try{ge.next(de)}catch(Be){ie(Be)}}error(de){const{partialObserver:ge}=this;if(ge.error)try{ge.error(de)}catch(Be){ie(Be)}else ie(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(ge){ie(ge)}}}class Qe extends K{constructor(de,ge,Be){let He;if(super(),(0,d.m)(de)||!de)He={next:de??void 0,error:ge??void 0,complete:Be??void 0};else{let X;this&&O.v.useDeprecatedNextContext?(X=Object.create(de),X.unsubscribe=()=>this.unsubscribe(),He={next:de.next&&Ne(de.next,X),error:de.error&&Ne(de.error,X),complete:de.complete&&Ne(de.complete,X)}):He=de}this.destination=new Ee(He)}}function ie(be){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(be):(0,se.h)(be)}function it(be,de){const{onStoppedNotification:ge}=O.v;ge&&H.z.setTimeout(()=>ge(be,de))}const _t={closed:!0,next:we,error:function he(be){throw be},complete:we}},727:(yt,Me,L)=>{L.d(Me,{Lc:()=>ye,w0:()=>we,Nn:()=>Te});var d=L(576);const O=(0,L(3888).d)(Oe=>function($){Oe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var se=L(8737);class we{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ne of $)Ne.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(Ne){H=Ne instanceof O?Ne.errors:[Ne]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ne of Ue)try{De(Ne)}catch(Ee){H=H??[],Ee instanceof O?H=[...H,...Ee.errors]:H.push(Ee)}}if(H)throw new O(H)}}add(H){var $;if(H&&H!==this)if(this.closed)De(H);else{if(H instanceof we){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,se.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,se.P)($,H),H instanceof we&&H._removeParent(this)}}we.EMPTY=(()=>{const Oe=new we;return Oe.closed=!0,Oe})();const ye=we.EMPTY;function Te(Oe){return Oe instanceof we||Oe&&"closed"in Oe&&(0,d.m)(Oe.remove)&&(0,d.m)(Oe.add)&&(0,d.m)(Oe.unsubscribe)}function De(Oe){(0,d.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(yt,Me,L)=>{L.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Me,L)=>{L.d(Me,{E:()=>B});const B=new(L(9751).y)(we=>we.complete())},8996:(yt,Me,L)=>{L.d(Me,{D:()=>de});var d=L(8421),B=L(5363),O=L(9468),ye=L(9751),De=L(2202),Oe=L(576),H=L(9672);function K(ge,Be){if(!ge)throw new Error("Iterable cannot be null");return new ye.y(He=>{(0,H.f)(He,Be,()=>{const X=ge[Symbol.asyncIterator]();(0,H.f)(He,Be,()=>{X.next().then(qe=>{qe.done?He.complete():He.next(qe.value)})},0,!0)})})}var Ue=L(3670),Ne=L(8239),Ee=L(1144),Qe=L(6495),ie=L(2206),he=L(4532),it=L(3260);function de(ge,Be){return Be?function be(ge,Be){if(null!=ge){if((0,Ue.c)(ge))return function se(ge,Be){return(0,d.Xf)(ge).pipe((0,O.R)(Be),(0,B.Q)(Be))}(ge,Be);if((0,Ee.z)(ge))return function Te(ge,Be){return new ye.y(He=>{let X=0;return Be.schedule(function(){X===ge.length?He.complete():(He.next(ge[X++]),He.closed||this.schedule())})})}(ge,Be);if((0,Ne.t)(ge))return function we(ge,Be){return(0,d.Xf)(ge).pipe((0,O.R)(Be),(0,B.Q)(Be))}(ge,Be);if((0,ie.D)(ge))return K(ge,Be);if((0,Qe.T)(ge))return function $(ge,Be){return new ye.y(He=>{let X;return(0,H.f)(He,Be,()=>{X=ge[De.h](),(0,H.f)(He,Be,()=>{let qe,bt;try{({value:qe,done:bt}=X.next())}catch(rt){return void He.error(rt)}bt?He.complete():He.next(qe)},0,!0)}),()=>(0,Oe.m)(X?.return)&&X.return()})}(ge,Be);if((0,it.L)(ge))return function _t(ge,Be){return K((0,it.Q)(ge),Be)}(ge,Be)}throw(0,he.z)(ge)}(ge,Be):(0,d.Xf)(ge)}},8421:(yt,Me,L)=>{L.d(Me,{Xf:()=>Ue});var d=L(655),B=L(1144),O=L(8239),se=L(9751),we=L(3670),ye=L(2206),Te=L(4532),De=L(6495),Oe=L(3260),H=L(576),$=L(7849),K=L(8822);function Ue(be){if(be instanceof se.y)return be;if(null!=be){if((0,we.c)(be))return function Ne(be){return new se.y(de=>{const ge=be[K.L]();if((0,H.m)(ge.subscribe))return ge.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,B.z)(be))return function Ee(be){return new se.y(de=>{for(let ge=0;ge<be.length&&!de.closed;ge++)de.next(be[ge]);de.complete()})}(be);if((0,O.t)(be))return function Qe(be){return new se.y(de=>{be.then(ge=>{de.closed||(de.next(ge),de.complete())},ge=>de.error(ge)).then(null,$.h)})}(be);if((0,ye.D)(be))return he(be);if((0,De.T)(be))return function ie(be){return new se.y(de=>{for(const ge of be)if(de.next(ge),de.closed)return;de.complete()})}(be);if((0,Oe.L)(be))return function it(be){return he((0,Oe.Q)(be))}(be)}throw(0,Te.z)(be)}function he(be){return new se.y(de=>{(function _t(be,de){var ge,Be,He,X;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ge=(0,d.KL)(be);!(Be=yield ge.next()).done;)if(de.next(Be.value),de.closed)return}catch(qe){He={error:qe}}finally{try{Be&&!Be.done&&(X=ge.return)&&(yield X.call(ge))}finally{if(He)throw He.error}}de.complete()})})(be,de).catch(ge=>de.error(ge))})}},6451:(yt,Me,L)=>{L.d(Me,{T:()=>ye});var d=L(8189),B=L(8421),O=L(515),se=L(7669),we=L(8996);function ye(...Te){const De=(0,se.yG)(Te),Oe=(0,se._6)(Te,1/0),H=Te;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,d.J)(Oe)((0,we.D)(H,De)):O.E}},5403:(yt,Me,L)=>{L.d(Me,{x:()=>B});var d=L(2961);function B(se,we,ye,Te,De){return new O(se,we,ye,Te,De)}class O extends d.Lv{constructor(we,ye,Te,De,Oe,H){super(we),this.onFinalize=Oe,this.shouldUnsubscribe=H,this._next=ye?function($){try{ye($)}catch(K){we.error(K)}}:super._next,this._error=De?function($){try{De($)}catch(K){we.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch($){we.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(yt,Me,L)=>{L.d(Me,{U:()=>O});var d=L(4482),B=L(5403);function O(se,we){return(0,d.e)((ye,Te)=>{let De=0;ye.subscribe((0,B.x)(Te,Oe=>{Te.next(se.call(we,Oe,De++))}))})}},8189:(yt,Me,L)=>{L.d(Me,{J:()=>O});var d=L(5577),B=L(4671);function O(se=1/0){return(0,d.z)(B.y,se)}},5577:(yt,Me,L)=>{L.d(Me,{z:()=>De});var d=L(4004),B=L(8421),O=L(4482),se=L(9672),we=L(5403),Te=L(576);function De(Oe,H,$=1/0){return(0,Te.m)(H)?De((K,Ue)=>(0,d.U)((Ne,Ee)=>H(K,Ne,Ue,Ee))((0,B.Xf)(Oe(K,Ue))),$):("number"==typeof H&&($=H),(0,O.e)((K,Ue)=>function ye(Oe,H,$,K,Ue,Ne,Ee,Qe){const ie=[];let he=0,it=0,_t=!1;const be=()=>{_t&&!ie.length&&!he&&H.complete()},de=Be=>he<K?ge(Be):ie.push(Be),ge=Be=>{Ne&&H.next(Be),he++;let He=!1;(0,B.Xf)($(Be,it++)).subscribe((0,we.x)(H,X=>{Ue?.(X),Ne?de(X):H.next(X)},()=>{He=!0},void 0,()=>{if(He)try{for(he--;ie.length&&he<K;){const X=ie.shift();Ee?(0,se.f)(H,Ee,()=>ge(X)):ge(X)}be()}catch(X){H.error(X)}}))};return Oe.subscribe((0,we.x)(H,de,()=>{_t=!0,be()})),()=>{Qe?.()}}(K,Ue,Oe,$)))}},5363:(yt,Me,L)=>{L.d(Me,{Q:()=>se});var d=L(9672),B=L(4482),O=L(5403);function se(we,ye=0){return(0,B.e)((Te,De)=>{Te.subscribe((0,O.x)(De,Oe=>(0,d.f)(De,we,()=>De.next(Oe),ye),()=>(0,d.f)(De,we,()=>De.complete(),ye),Oe=>(0,d.f)(De,we,()=>De.error(Oe),ye)))})}},3099:(yt,Me,L)=>{L.d(Me,{B:()=>we});var d=L(8421),B=L(7579),O=L(2961),se=L(4482);function we(Te={}){const{connector:De=(()=>new B.x),resetOnError:Oe=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=Te;return K=>{let Ue,Ne,Ee,Qe=0,ie=!1,he=!1;const it=()=>{Ne?.unsubscribe(),Ne=void 0},_t=()=>{it(),Ue=Ee=void 0,ie=he=!1},be=()=>{const de=Ue;_t(),de?.unsubscribe()};return(0,se.e)((de,ge)=>{Qe++,!he&&!ie&&it();const Be=Ee=Ee??De();ge.add(()=>{Qe--,0===Qe&&!he&&!ie&&(Ne=ye(be,$))}),Be.subscribe(ge),!Ue&&Qe>0&&(Ue=new O.Hp({next:He=>Be.next(He),error:He=>{he=!0,it(),Ne=ye(_t,Oe,He),Be.error(He)},complete:()=>{ie=!0,it(),Ne=ye(_t,H),Be.complete()}}),(0,d.Xf)(de).subscribe(Ue))})(K)}}function ye(Te,De,...Oe){if(!0===De)return void Te();if(!1===De)return;const H=new O.Hp({next:()=>{H.unsubscribe(),Te()}});return De(...Oe).subscribe(H)}},9468:(yt,Me,L)=>{L.d(Me,{R:()=>B});var d=L(4482);function B(O,se=0){return(0,d.e)((we,ye)=>{ye.add(O.schedule(()=>we.subscribe(ye),se))})}},3410:(yt,Me,L)=>{L.d(Me,{z:()=>d});const d={setTimeout(B,O,...se){const{delegate:we}=d;return we?.setTimeout?we.setTimeout(B,O,...se):setTimeout(B,O,...se)},clearTimeout(B){const{delegate:O}=d;return(O?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(yt,Me,L)=>{L.d(Me,{h:()=>B});const B=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Me,L)=>{L.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Me,L)=>{L.d(Me,{_6:()=>ye,jO:()=>se,yG:()=>we});var d=L(576);function O(Te){return Te[Te.length-1]}function se(Te){return(0,d.m)(O(Te))?Te.pop():void 0}function we(Te){return function B(Te){return Te&&(0,d.m)(Te.schedule)}(O(Te))?Te.pop():void 0}function ye(Te,De){return"number"==typeof O(Te)?Te.pop():De}},8737:(yt,Me,L)=>{function d(B,O){if(B){const se=B.indexOf(O);0<=se&&B.splice(se,1)}}L.d(Me,{P:()=>d})},3888:(yt,Me,L)=>{function d(B){const se=B(we=>{Error.call(we),we.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}L.d(Me,{d:()=>d})},2806:(yt,Me,L)=>{L.d(Me,{O:()=>se,x:()=>O});var d=L(2416);let B=null;function O(we){if(d.v.useDeprecatedSynchronousErrorHandling){const ye=!B;if(ye&&(B={errorThrown:!1,error:null}),we(),ye){const{errorThrown:Te,error:De}=B;if(B=null,Te)throw De}}else we()}function se(we){d.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=we)}},9672:(yt,Me,L)=>{function d(B,O,se,we=0,ye=!1){const Te=O.schedule(function(){se(),ye?B.add(this.schedule(null,we)):this.unsubscribe()},we);if(B.add(Te),!ye)return Te}L.d(Me,{f:()=>d})},4671:(yt,Me,L)=>{function d(B){return B}L.d(Me,{y:()=>d})},1144:(yt,Me,L)=>{L.d(Me,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(yt,Me,L)=>{L.d(Me,{D:()=>B});var d=L(576);function B(O){return Symbol.asyncIterator&&(0,d.m)(O?.[Symbol.asyncIterator])}},576:(yt,Me,L)=>{function d(B){return"function"==typeof B}L.d(Me,{m:()=>d})},3670:(yt,Me,L)=>{L.d(Me,{c:()=>O});var d=L(8822),B=L(576);function O(se){return(0,B.m)(se[d.L])}},6495:(yt,Me,L)=>{L.d(Me,{T:()=>O});var d=L(2202),B=L(576);function O(se){return(0,B.m)(se?.[d.h])}},8239:(yt,Me,L)=>{L.d(Me,{t:()=>B});var d=L(576);function B(O){return(0,d.m)(O?.then)}},3260:(yt,Me,L)=>{L.d(Me,{L:()=>se,Q:()=>O});var d=L(655),B=L(576);function O(we){return(0,d.FC)(this,arguments,function*(){const Te=we.getReader();try{for(;;){const{value:De,done:Oe}=yield(0,d.qq)(Te.read());if(Oe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(De)}}finally{Te.releaseLock()}})}function se(we){return(0,B.m)(we?.getReader)}},4482:(yt,Me,L)=>{L.d(Me,{A:()=>B,e:()=>O});var d=L(576);function B(se){return(0,d.m)(se?.lift)}function O(se){return we=>{if(B(we))return we.lift(function(ye){try{return se(ye,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,Me,L)=>{L.d(Me,{U:()=>O,z:()=>B});var d=L(4671);function B(...se){return O(se)}function O(se){return 0===se.length?d.y:1===se.length?se[0]:function(ye){return se.reduce((Te,De)=>De(Te),ye)}}},7849:(yt,Me,L)=>{L.d(Me,{h:()=>O});var d=L(2416),B=L(3410);function O(se){B.z.setTimeout(()=>{const{onUnhandledError:we}=d.v;if(!we)throw se;we(se)})}},4532:(yt,Me,L)=>{function d(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>d})},655:(yt,Me,L)=>{function se(oe,ae){var pe={};for(var Ce in oe)Object.prototype.hasOwnProperty.call(oe,Ce)&&ae.indexOf(Ce)<0&&(pe[Ce]=oe[Ce]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Ce=Object.getOwnPropertySymbols(oe);Re<Ce.length;Re++)ae.indexOf(Ce[Re])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ce[Re])&&(pe[Ce[Re]]=oe[Ce[Re]])}return pe}function K(oe,ae,pe,Ce){return new(pe||(pe=Promise))(function(fe,vt){function ht(zt){try{Ke(Ce.next(zt))}catch(Lt){vt(Lt)}}function St(zt){try{Ke(Ce.throw(zt))}catch(Lt){vt(Lt)}}function Ke(zt){zt.done?fe(zt.value):function Re(fe){return fe instanceof pe?fe:new pe(function(vt){vt(fe)})}(zt.value).then(ht,St)}Ke((Ce=Ce.apply(oe,ae||[])).next())})}function be(oe){return this instanceof be?(this.v=oe,this):new be(oe)}function de(oe,ae,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ce=pe.apply(oe,ae||[]),fe=[];return Re={},vt("next"),vt("throw"),vt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function vt(kt){Ce[kt]&&(Re[kt]=function(Yn){return new Promise(function(Pn,Lr){fe.push([kt,Yn,Pn,Lr])>1||ht(kt,Yn)})})}function ht(kt,Yn){try{!function St(kt){kt.value instanceof be?Promise.resolve(kt.value.v).then(Ke,zt):Lt(fe[0][2],kt)}(Ce[kt](Yn))}catch(Pn){Lt(fe[0][3],Pn)}}function Ke(kt){ht("next",kt)}function zt(kt){ht("throw",kt)}function Lt(kt,Yn){kt(Yn),fe.shift(),fe.length&&ht(fe[0][0],fe[0][1])}}function Be(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ae=oe[Symbol.asyncIterator];return ae?ae.call(oe):(oe=function Qe(oe){var ae="function"==typeof Symbol&&Symbol.iterator,pe=ae&&oe[ae],Ce=0;if(pe)return pe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ce>=oe.length&&(oe=void 0),{value:oe&&oe[Ce++],done:!oe}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),pe={},Ce("next"),Ce("throw"),Ce("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function Ce(fe){pe[fe]=oe[fe]&&function(vt){return new Promise(function(ht,St){!function Re(fe,vt,ht,St){Promise.resolve(St).then(function(Ke){fe({value:Ke,done:ht})},vt)}(ht,St,(vt=oe[fe](vt)).done,vt.value)})}}}L.d(Me,{FC:()=>de,KL:()=>Be,_T:()=>se,mG:()=>K,qq:()=>be})},4650:(yt,Me,L)=>{L.d(Me,{$8M:()=>Tl,$Z:()=>Fb,AFp:()=>TM,ALo:()=>Zg,AaK:()=>De,AsE:()=>Tv,CHM:()=>$f,CRH:()=>LC,CZH:()=>N0,CqO:()=>cg,D6c:()=>xD,EJc:()=>Gu,EpF:()=>fv,F4k:()=>wI,FYo:()=>yb,FiY:()=>_o,G48:()=>UM,GfV:()=>_b,Gpc:()=>$,JOm:()=>ir,Jf7:()=>Ap,KtG:()=>gl,LFG:()=>Vn,LSH:()=>pa,Lbi:()=>eD,Lck:()=>Po,MMx:()=>Qv,NdJ:()=>pv,OlP:()=>cn,Oqu:()=>Eg,PXZ:()=>z0,Q6J:()=>cv,QGY:()=>Sh,QP$:()=>ue,QbO:()=>xM,Qsj:()=>v_,R0b:()=>Hi,RDi:()=>eb,Rgc:()=>Hu,SBq:()=>Cu,Sil:()=>V0,Suo:()=>FC,TTD:()=>ed,TgZ:()=>ag,VKq:()=>Gg,WLB:()=>zg,X6Q:()=>VM,XFs:()=>et,Xpm:()=>Tn,Xts:()=>h_,Y36:()=>rc,YKP:()=>ju,YNc:()=>ZA,Yjl:()=>N,Yz7:()=>Ke,Z0I:()=>Yn,ZZ4:()=>Pr,_Bn:()=>mC,_UZ:()=>dv,_Vd:()=>as,_c5:()=>nw,_uU:()=>wg,aQg:()=>Ku,c2e:()=>MM,cJS:()=>Lt,cg1:()=>Mh,dDg:()=>Ec,dqk:()=>Wt,eFA:()=>uD,ekj:()=>gg,eoX:()=>zr,evT:()=>wb,f3M:()=>Yf,g9A:()=>AM,h0i:()=>Oh,hGG:()=>AD,hij:()=>bg,iGM:()=>OC,ifc:()=>gt,ip1:()=>im,jDz:()=>_C,kL8:()=>ZI,lG2:()=>V,lcZ:()=>xC,lqb:()=>Ks,lri:()=>rD,n5z:()=>ps,oAB:()=>jr,oxw:()=>mv,q4F:()=>Du,qLn:()=>Jl,qOj:()=>iv,qZA:()=>ug,rWj:()=>iD,sBO:()=>BM,sIi:()=>Ch,s_b:()=>Kg,soG:()=>O0,tb:()=>P0,tp0:()=>vo,uIk:()=>pI,vHH:()=>Ee,vpe:()=>xs,wAp:()=>Et,xi3:()=>MC,xp6:()=>Tb,z2F:()=>Vo,zSh:()=>m_,zs3:()=>ec});var d=L(7579),B=L(727),O=L(9751),se=L(6451),we=L(3099);function ye(s){for(let o in s)if(s[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function Te(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function De(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(De).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Oe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ye({__forward_ref__:ye});function $(s){return s.__forward_ref__=$,s.toString=function(){return De(this())},s}function K(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}class Ee extends Error{constructor(o,u){super(function Qe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function ie(s){return"string"==typeof s?s:null==s?"":String(s)}function de(s,o){throw new Ee(-201,!1)}function Re(s,o){null==s&&function fe(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Ke(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function kt(s){return Pn(s,Ur)||Pn(s,Ki)}function Yn(s){return null!==kt(s)}function Pn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Vr(s){return s&&(s.hasOwnProperty(Ri)||s.hasOwnProperty(zo))?s[Ri]:null}const Ur=ye({\u0275prov:ye}),Ri=ye({\u0275inj:ye}),Ki=ye({ngInjectableDef:ye}),zo=ye({ngInjectorDef:ye});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let _r;function Dn(s){const o=_r;return _r=s,o}function Ni(s,o,u){const c=kt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&et.Optional?null:void 0!==o?o:void de(De(s))}function _n(s){return{toString:s}.toString()}var gn=(()=>((gn=gn||{})[gn.OnPush=0]="OnPush",gn[gn.Default=1]="Default",gn))(),gt=(()=>{return(s=gt||(gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",gt;var s})();const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},At=[],On=ye({\u0275cmp:ye}),Vt=ye({\u0275dir:ye}),Yi=ye({\u0275pipe:ye}),Yt=ye({\u0275mod:ye}),vr=ye({\u0275fac:ye}),fn=ye({__NG_ELEMENT_ID__:ye});let Jn=0;function Tn(s){return _n(()=>{const u=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||gt.Emulated,id:"c"+Jn++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return h.inputs=U(s.inputs,c),h.outputs=U(s.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Xn).filter(Qi):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(q).filter(Qi):null,h})}function Xn(s){return R(s)||x(s)}function Qi(s){return null!==s}function jr(s){return _n(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function U(s,o){if(null==s)return Gn;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,o&&(o[h]=g)}return u}const V=Tn;function N(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function R(s){return s[On]||null}function x(s){return s[Vt]||null}function q(s){return s[Yi]||null}function ue(s){const o=R(s)||x(s)||q(s);return null!==o&&o.standalone}function je(s,o){const u=s[Yt]||null;if(!u&&!0===o)throw new Error(`Type ${De(s)} does not have '\u0275mod' property.`);return u}function Dr(s){return Array.isArray(s)&&"object"==typeof s[1]}function $r(s){return Array.isArray(s)&&!0===s[1]}function Ua(s){return 0!=(8&s.flags)}function fs(s){return 2==(2&s.flags)}function Ba(s){return 1==(1&s.flags)}function mi(s){return null!==s.template}function Qc(s){return 0!=(256&s[2])}function Vs(s,o){return s.hasOwnProperty(vr)?s[vr]:null}class Ji{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function ed(){return dl}function dl(s){return s.type.prototype.ngOnChanges&&(s.setInput=$a),td}function td(){const s=nd(this),o=s?.current;if(o){const u=s.previous;if(u===Gn)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function $a(s,o,u,c){const h=nd(s)||function sy(s,o){return s[Vf]=o}(s,{previous:Gn,current:null}),g=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[u],I=_[b];g[b]=new Ji(I&&I.currentValue,o,_===Gn),s[c]=o}ed.ngInherit=!0;const Vf="__ngSimpleChanges__";function nd(s){return s[Vf]||null}function dn(s){for(;Array.isArray(s);)s=s[0];return s}function Ha(s,o){return dn(o[s])}function ti(s,o){return dn(o[s.index])}function sd(s,o){return s.data[o]}function Xi(s,o){return s[o]}function ln(s,o){const u=o[s];return Dr(u)?u:u[0]}function Wo(s){return 64==(64&s[2])}function es(s,o){return null==o?null:s[o]}function ni(s){s[18]=0}function pl(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Rt={lFrame:md(null),bindingsEnabled:!0};function co(){return Rt.bindingsEnabled}function me(){return Rt.lFrame.lView}function Kt(){return Rt.lFrame.tView}function $f(s){return Rt.lFrame.contextLView=s,s[8]}function gl(s){return Rt.lFrame.contextLView=null,s}function zn(){let s=ml();for(;null!==s&&64===s.type;)s=s.parent;return s}function ml(){return Rt.lFrame.currentTNode}function _i(s,o){const u=Rt.lFrame;u.currentTNode=s,u.isParent=o}function dd(){return Rt.lFrame.isParent}function qn(){const s=Rt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function po(){return Rt.lFrame.bindingIndex++}function ts(s){const o=Rt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Gf(s,o){const u=Rt.lFrame;u.bindingIndex=u.bindingRootIndex=s,_l(o)}function _l(s){Rt.lFrame.currentDirectiveIndex=s}function pd(){return Rt.lFrame.currentQueryIndex}function vl(s){Rt.lFrame.currentQueryIndex=s}function gd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ly(s,o,u){if(u&et.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&et.Host||(h=gd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=Rt.lFrame=cy();return c.currentTNode=o,c.lView=s,!0}function wl(s){const o=cy(),u=s[1];Rt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function cy(){const s=Rt.lFrame,o=null===s?null:s.child;return null===o?md(s):o}function md(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function dy(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zf=dy;function go(){const s=dy();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ln(){return Rt.lFrame.selectedIndex}function Bs(s){Rt.lFrame.selectedIndex=s}function pn(){const s=Rt.lFrame;return sd(s.tView,s.selectedIndex)}function qa(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:A}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),b&&((s.contentHooks||(s.contentHooks=[])).push(u,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function mo(s,o,u){bl(s,o,3,u)}function js(s,o,u,c){(3&s[2])===u&&bl(s,o,u,c)}function Yo(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function bl(s,o,u,c){const g=c??-1,_=o.length-1;let b=0;for(let I=void 0!==c?65535&s[18]:0;I<_;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=c&&b>=c)break}else o[I]<0&&(s[18]+=65536),(b<g||-1==g)&&(vd(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function vd(s,o,u,c){const h=u[c]<0,g=u[c+1],b=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class $s{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Wa(s,o,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const g=u[c++],_=u[c++],b=u[c++];s.setAttribute(o,_,b,g)}else{const g=h,_=u[++c];bd(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),c++}}return c}function my(s){return 3===s||4===s||6===s}function bd(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||yy(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function yy(s,o,u,c,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===u){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function _y(s){return-1!==s}function Ka(s){return 32767&s}function Ya(s,o){let u=function vy(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Qa=!0;function rs(s){const o=Qa;return Qa=s,o}let Wf=0;const Hs={};function Ja(s,o){const u=Xo(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Xa(c.data,s),Xa(o,null),Xa(c.blueprint,null));const h=Dl(s,o),g=s.injectorIndex;if(_y(h)){const _=Ka(h),b=Ya(h,o),I=b[1].data;for(let T=0;T<8;T++)o[g+T]=b[_+T]|I[_+T]}return o[g+8]=h,g}function Xa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Dl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){if(c=ea(h),null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Gs(s,o,u){!function by(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(fn)&&(c=u[fn]),null==c&&(c=u[fn]=Wf++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Cd(s,o,u){if(u&et.Optional||void 0!==s)return s;de()}function Dd(s,o,u,c){if(u&et.Optional&&void 0===c&&(c=null),0==(u&(et.Self|et.Host))){const h=s[9],g=Dn(void 0);try{return h?h.get(o,c,u&et.Optional):Ni(o,c,u&et.Optional)}finally{Dn(g)}}return Cd(c,0,u)}function Iy(s,o,u,c=et.Default,h){if(null!==s){if(1024&o[2]){const _=function Sy(s,o,u,c,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=Cy(g,_,u,c|et.Self,Hs);if(b!==Hs)return b;let I=g.parent;if(!I){const T=_[21];if(T){const A=T.get(u,Hs,c);if(A!==Hs)return A}I=ea(_),_=_[15]}g=I}return h}(s,o,u,c,Hs);if(_!==Hs)return _}const g=Cy(s,o,u,c,Hs);if(g!==Hs)return g}return Dd(o,u,c,h)}function Cy(s,o,u,c,h){const g=function Ty(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(fn)?s[fn]:void 0;return"number"==typeof o?o>=0?255&o:Sn:o}(u);if("function"==typeof g){if(!ly(o,s,c))return c&et.Host?Cd(h,0,c):Dd(o,u,c,h);try{const _=g(c);if(null!=_||c&et.Optional)return _;de()}finally{zf()}}else if("number"==typeof g){let _=null,b=Xo(s,o),I=-1,T=c&et.Host?o[16][6]:null;for((-1===b||c&et.SkipSelf)&&(I=-1===b?Dl(s,o):o[b+8],-1!==I&&eu(c,!1)?(_=o[1],b=Ka(I),o=Ya(I,o)):b=-1);-1!==b;){const A=o[1];if(Zf(g,b,A.data)){const P=Dy(b,o,u,_,c,T);if(P!==Hs)return P}I=o[b+8],-1!==I&&eu(c,o[1].data[b+8]===T)&&Zf(g,b,o)?(_=A,b=Ka(I),o=Ya(I,o)):b=-1}}return h}function Dy(s,o,u,c,h,g){const _=o[1],b=_.data[s+8],A=Td(b,_,u,null==c?fs(b)&&Qa:c!=_&&0!=(3&b.type),h&et.Host&&g===b);return null!==A?zs(o,_,A,b):Hs}function Td(s,o,u,c,h){const g=s.providerIndexes,_=o.data,b=1048575&g,I=s.directiveStart,A=g>>20,j=h?b+A:s.directiveEnd;for(let Z=c?b:b+A;Z<j;Z++){const le=_[Z];if(Z<I&&u===le||Z>=I&&le.type===u)return Z}if(h){const Z=_[I];if(Z&&mi(Z)&&Z.type===u)return I}return null}function zs(s,o,u,c){let h=s[u];const g=o.data;if(function gy(s){return s instanceof $s}(h)){const _=h;_.resolving&&function it(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${s}${u}`)}(function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ie(s)}(g[u]));const b=rs(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?Dn(_.injectImpl):null;ly(s,c,et.Default);try{h=s[u]=_.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Ko(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const _=dl(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==I&&Dn(I),rs(b),_.resolving=!1,zf()}}return h}function Zf(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function eu(s,o){return!(s&et.Self||s&et.Host&&o)}class tu{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Iy(this._tNode,this._lView,o,c,u)}}function Sn(){return new tu(zn(),me())}function ps(s){return _n(()=>{const o=s.prototype.constructor,u=o[vr]||nu(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[vr]||nu(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function nu(s){return Ue(s)?()=>{const o=nu(K(s));return o&&o()}:Vs(s)}function ea(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Tl(s){return function Id(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(my(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(zn(),s)}const ta="__parameters__";function gs(s,o,u){return _n(()=>{const c=function Sd(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(I,T,A){const P=I.hasOwnProperty(ta)?I[ta]:Object.defineProperty(I,ta,{value:[]})[ta];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(_),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class cn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ke({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),nr(c,o)):o!==s&&o.push(c)}return o}function Ws(s,o){s.forEach(u=>Array.isArray(u)?Ws(u,o):o(u))}function xd(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function rr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function wi(s,o,u){let c=Ei(s,o);return c>=0?s[1|c]=u:(c=~c,function $E(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function xl(s,o){const u=Ei(s,o);if(u>=0)return s[1|u]}function Ei(s,o){return function ia(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const g=c+(h-c>>1),_=s[g<<u];if(o===_)return g<<u;_>o?h=g:c=g+1}return~(h<<u)}(s,o,1)}const Oi={},au="__NG_DI_FLAG__",Nl="ngTempTokenPath",Oy=/\n/gm,Pd="__source";let uu;function oa(s){const o=uu;return uu=s,o}function Od(s,o=et.Default){if(void 0===uu)throw new Ee(-203,!1);return null===uu?Ni(s,void 0,o):uu.get(s,o&et.Optional?null:void 0,o)}function Vn(s,o=et.Default){return(function Hn(){return _r}()||Od)(K(s),o)}function Yf(s,o=et.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Vn(s,o)}function lu(s){const o=[];for(let u=0;u<s.length;u++){const c=K(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Ee(900,!1);let h,g=et.Default;for(let _=0;_<c.length;_++){const b=c[_],I=Fy(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}o.push(Vn(h,g))}else o.push(Vn(c))}return o}function yo(s,o){return s[au]=o,s.prototype[au]=o,s}function Fy(s){return s[au]}const _o=yo(gs("Optional"),8),vo=yo(gs("SkipSelf"),4);var ir=(()=>((ir=ir||{})[ir.Important=1]="Important",ir[ir.DashCase=2]="DashCase",ir))();const Ul=new Map;let Yy=0;const bo="__ngContext__";function dr(s,o){Dr(o)?(s[bo]=o[20],function ys(s){Ul.set(s[20],s)}(o)):s[bo]=o}function Wd(s,o){return undefined(s,o)}function Zs(s){const o=s[3];return $r(o)?o[3]:o}function op(s){return p(s[13])}function w(s){return p(s[4])}function p(s){for(;null!==s&&!$r(s);)s=s[4];return s}function E(s,o,u,c,h){if(null!=c){let g,_=!1;$r(c)?g=c:Dr(c)&&(_=!0,c=c[0]);const b=dn(c);0===s&&null!==u?null==h?Qd(o,u,b):Li(o,u,b,h||null,!0):1===s&&null!==u?Li(o,u,b,h||null,!0):2===s?function JE(s,o,u){const c=up(s,o);c&&function wu(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,b,_):3===s&&o.destroyNode(b),null!=g&&function VS(s,o,u,c,h){const g=u[7];g!==dn(u)&&E(o,s,c,g,h);for(let b=10;b<u.length;b++){const I=u[b];eh(I[1],I,s,o,c,g)}}(o,s,g,u,h)}}function ne(s,o,u){return s.createElement(o,u)}function Co(s,o){const u=s[9],c=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,pl(h,-1)),u.splice(c,1)}function fa(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&Co(h,c),o>0&&(s[u-1][4]=c[4]);const g=rr(s,10+o);!function Pe(s,o){eh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Do(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&eh(s,o,u,3,null,null),function Ht(s){let o=s[13];if(!o)return Gl(s[1],s);for(;o;){let u=null;if(Dr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Dr(o)&&Gl(o[1],o),o=o[3];null===o&&(o=s),Dr(o)&&Gl(o[1],o),u=o&&o[4]}o=u}}(o)}}function Gl(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Zd(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof $s)){const g=u[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],I=g[_+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function ap(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],b="function"==typeof _?_(o):dn(o[_]),I=c[h=u[g+2]],T=u[g+3];"boolean"==typeof T?b.removeEventListener(u[g],I,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),g+=2}else{const _=c[h=u[g+1]];u[g].call(_)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&$r(o[3])){u!==o[3]&&Co(u,o);const c=o[19];null!==c&&c.detachView(s)}!function rp(s){Ul.delete(s[20])}(o)}}function Kd(s,o,u){return function Yd(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===gt.None||h===gt.Emulated)return null}return ti(c,u)}(s,o.parent,u)}function Li(s,o,u,c,h){s.insertBefore(o,u,c,h)}function Qd(s,o,u){s.appendChild(o,u)}function vu(s,o,u,c,h){null!==c?Li(s,o,u,c,h):Qd(s,o,u)}function up(s,o){return s.parentNode(o)}let o_,lp=function FS(s,o,u){return 40&s.type?ti(s,u):null};function cp(s,o,u,c){const h=Kd(s,c,o),g=o[11],b=function KE(s,o,u){return lp(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)vu(g,h,u[I],b,!1);else vu(g,h,u,b,!1)}function Xd(s,o){if(null!==o){const u=o.type;if(3&u)return ti(o,s);if(4&u)return hp(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Xd(s,c);{const h=s[o.index];return $r(h)?hp(-1,h):dn(h)}}if(32&u)return Wd(o,s)()||dn(s[o.index]);{const c=dp(s,o);return null!==c?Array.isArray(c)?c[0]:Xd(Zs(s[16]),c):Xd(s,o.next)}}return null}function dp(s,o){return null!==o?s[16][6].projection[o.projection]:null}function hp(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return Xd(c,h)}return o[7]}function n_(s,o,u,c,h,g,_){for(;null!=u;){const b=c[u.index],I=u.type;if(_&&0===o&&(b&&dr(dn(b),c),u.flags|=4),64!=(64&u.flags))if(8&I)n_(s,o,u.child,c,h,g,!1),E(o,s,h,b,g);else if(32&I){const T=Wd(u,c);let A;for(;A=T();)E(o,s,h,A,g);E(o,s,h,b,g)}else 16&I?XE(s,o,c,u,h,g):E(o,s,h,b,g);u=_?u.projectionNext:u.next}}function eh(s,o,u,c,h,g){n_(u,c,s.firstChild,o,h,g,!1)}function XE(s,o,u,c,h,g){const _=u[16],I=_[6].projection[c.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)E(o,s,h,I[T],g);else n_(s,o,I,_[3],h,g,!0)}function r_(s,o,u){s.setAttribute(o,"style",u)}function i_(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function eb(s){o_=s}class rb{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function To(s){return s instanceof rb?s.changingThisBreaksApplicationSecurity:s}const WS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function pa(s){const o=function ih(){const s=me();return s&&s[12]}();return o?o.sanitize(hr.URL,s)||"":function ql(s,o){const u=function ib(s){return s instanceof rb&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?To(s):function rh(s){return(s=String(s)).match(WS)?s:"unsafe:"+s}(ie(s))}const h_=new cn("ENVIRONMENT_INITIALIZER"),f_=new cn("INJECTOR",-1),hb=new cn("INJECTOR_DEF_TYPES");class bu{get(o,u=Oi){if(u===Oi){const c=new Error(`NullInjectorError: No provider for ${De(o)}!`);throw c.name="NullInjectorError",c}return u}}function xt(...s){return{\u0275providers:fb(0,s)}}function fb(s,...o){const u=[],c=new Set;let h;return Ws(o,g=>{const _=g;wp(_,u,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&pb(h,u),u}function pb(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Ws(h,g=>{o.push(g)})}}function wp(s,o,u,c){if(!(s=K(s)))return!1;let h=null,g=Vr(s);const _=!g&&R(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const I=s.ngModule;if(g=Vr(I),!g)return!1;h=I}const b=c.has(h);if(_){if(b)return!1;if(c.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of I)wp(T,o,u,c)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let T;c.add(h);try{Ws(g.imports,A=>{wp(A,o,u,c)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&pb(T,o)}if(!b){const T=Vs(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:At},{provide:hb,useValue:h,multi:!0},{provide:h_,useValue:()=>Vn(h),multi:!0})}const I=g.providers;null==I||b||Ws(I,A=>{o.push(A)})}}return h!==s&&void 0!==s.providers}const wr=ye({provide:String,useValue:ye});function p_(s){return null!==s&&"object"==typeof s&&wr in s}function ga(s){return"function"==typeof s}const m_=new cn("Set Injector scope."),Kl={},Ep={};let bp;function Ip(){return void 0===bp&&(bp=new bu),bp}class Ks{}class Yl extends Ks{constructor(o,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xr(o,_=>this.processProvider(_)),this.records.set(f_,Iu(void 0,this)),h.has("environment")&&this.records.set(Ks,Iu(void 0,this));const g=this.records.get(m_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(hb.multi,At,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=oa(this),c=Dn(void 0);try{return o()}finally{oa(u),Dn(c)}}get(o,u=Oi,c=et.Default){this.assertNotDestroyed();const h=oa(this),g=Dn(void 0);try{if(!(c&et.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function Dp(s){return"function"==typeof s||"object"==typeof s&&s instanceof cn}(o)&&kt(o);b=I&&this.injectableDefInScope(I)?Iu(xo(o),Kl):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&et.Self?Ip():this.parent).get(o,u=c&et.Optional&&u===Oi?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Nl]=_[Nl]||[]).unshift(De(o)),h)throw _;return function cu(s,o,u,c){const h=s[Nl];throw o[Pd]&&h.unshift(o[Pd]),s.message=function Ly(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=De(o);if(Array.isArray(o))h=o.map(De).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):De(b)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(Oy,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[Nl]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Dn(g),oa(h)}}resolveInjectorInitializers(){const o=oa(this),u=Dn(void 0);try{const c=this.get(h_.multi,At,et.Self);for(const h of c)h()}finally{oa(o),Dn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(De(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(o){let u=ga(o=K(o))?o:K(o&&o.provide);const c=function Ar(s){return p_(s)?Iu(void 0,s.useValue):Iu(Cp(s),Kl)}(o);if(ga(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Iu(void 0,Kl,!0),h.factory=()=>lu(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Kl&&(u.value=Ep,u.value=u.factory()),"object"==typeof u.value&&u.value&&function oh(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function xo(s){const o=kt(s),u=null!==o?o.factory:Vs(s);if(null!==u)return u;if(s instanceof cn)throw new Ee(204,!1);if(s instanceof Function)return function y_(s){const o=s.length;if(o>0)throw function Al(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new Ee(204,!1);const u=function Lr(s){const o=s&&(s[Ur]||s[Ki]);if(o){const u=function Qn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Ee(204,!1)}function Cp(s,o,u){let c;if(ga(s)){const h=K(s);return Vs(h)||xo(h)}if(p_(s))c=()=>K(s.useValue);else if(function gb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...lu(s.deps||[]));else if(function g_(s){return!(!s||!s.useExisting)}(s))c=()=>Vn(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function sr(s){return!!s.deps}(s))return Vs(h)||xo(h);c=()=>new h(...lu(s.deps))}return c}function Iu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function vs(s){return!!s.\u0275providers}function xr(s,o){for(const u of s)Array.isArray(u)?xr(u,o):vs(u)?xr(u.\u0275providers,o):o(u)}class __{}class Mr{resolveComponentFactory(o){throw function nA(s){const o=Error(`No component factory found for ${De(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let as=(()=>{class s{}return s.NULL=new Mr,s})();function rA(){return Qs(zn(),me())}function Qs(s,o){return new Cu(ti(s,o))}let Cu=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=rA,s})();function mb(s){return s instanceof Cu?s.nativeElement:s}class yb{}let v_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Gt(){const s=me(),u=ln(zn().index,s);return(Dr(u)?u:s)[11]}(),s})(),ah=(()=>{class s{}return s.\u0275prov=Ke({token:s,providedIn:"root",factory:()=>null}),s})();class _b{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Du=new _b("14.2.12"),w_={};function Sp(s){return s.ngOriginalError}class Jl{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Sp(o);for(;u&&Sp(u);)u=Sp(u);return u||null}}function Ap(s){return s.ownerDocument.defaultView}function wb(s){return s.ownerDocument}function Xs(s){return s instanceof Function?s():s}function ya(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}u=h+1}}const Xl="ng-template";function aA(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==ya(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function _a(s){return 4===s.type&&s.value!==Xl}function uA(s,o,u){return o===(4!==s.type||u?s.value:Xl)}function bb(s,o,u){let c=4;const h=s.attrs||[],g=function Ib(s){for(let o=0;o<s.length;o++)if(my(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!_)if(4&c){if(c=2|1&c,""!==I&&!uA(s,I,u)||""===I&&1===o.length){if(Vi(c))return!1;_=!0}}else{const T=8&c?I:o[++b];if(8&c&&null!==s.attrs){if(!aA(s.attrs,T,u)){if(Vi(c))return!1;_=!0}continue}const P=lA(8&c?"class":I,h,_a(s),u);if(-1===P){if(Vi(c))return!1;_=!0;continue}if(""!==T){let j;j=P>g?"":h[P+1].toLowerCase();const Z=8&c?j:null;if(Z&&-1!==ya(Z,T,0)||2&c&&T!==j){if(Vi(c))return!1;_=!0}}}}else{if(!_&&!Vi(c)&&!Vi(I))return!1;if(_&&Vi(I))continue;_=!1,c=I|1&c}}return Vi(c)||_}function Vi(s){return 0==(1&s)}function lA(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function xp(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function uh(s,o,u=!1){for(let c=0;c<o.length;c++)if(bb(s,o[c],u))return!0;return!1}function Mp(s,o){return s?":not("+o.trim()+")":o}function Rp(s){let o=s[0],u=1,c=2,h="",g=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const b=s[++u];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!Vi(_)&&(o+=Mp(g,h),h=""),c=_,g=g||!Vi(c);u++}return""!==h&&(o+=Mp(g,h)),o}const Pt={};function Tb(s){Sb(Kt(),me(),Ln()+s,!1)}function Sb(s,o,u,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&mo(o,g,u)}else{const g=s.preOrderHooks;null!==g&&js(o,g,0,u)}Bs(u)}function va(s,o=null,u=null,c){const h=kp(s,o,u,c);return h.resolveInjectorInitializers(),h}function kp(s,o=null,u=null,c,h=new Set){const g=[u||At,xt(s)];return c=c||("object"==typeof s?void 0:De(s)),new Yl(g,o||Ip(),c||null,h)}let ec=(()=>{class s{static create(u,c){if(Array.isArray(u))return va({name:""},c,u,"");{const h=u.name??"";return va({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Oi,s.NULL=new bu,s.\u0275prov=Ke({token:s,providedIn:"any",factory:()=>Vn(f_)}),s.__NG_ELEMENT_ID__=-1,s})();function rc(s,o=et.Default){const u=me();return null===u?Vn(s,o):Iy(zn(),u,K(s),o)}function Fb(){throw new Error("invalid")}function Fp(s,o){return s<<17|o<<2}function ws(s){return s>>17&32767}function N_(s){return 2|s}function eo(s){return(131068&s)>>2}function mh(s,o){return-131069&s|o<<2}function Es(s){return 1|s}function Wb(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const _=s.data[g];vl(h),_.contentQueries(2,o[g],g)}}}function qp(s,o,u,c,h,g,_,b,I,T,A){const P=o.blueprint.slice();return P[0]=h,P[2]=76|c,(null!==A||s&&1024&s[2])&&(P[2]|=1024),ni(P),P[3]=P[15]=s,P[8]=u,P[10]=_||s&&s[10],P[11]=b||s&&s[11],P[12]=I||s&&s[12]||null,P[9]=T||s&&s[9]||null,P[6]=g,P[20]=function np(){return Yy++}(),P[21]=A,P[16]=2==o.type?s[16]:P,P}function sc(s,o,u,c,h){let g=s.data[o];if(null===g)g=function wa(s,o,u,c,h){const g=ml(),_=dd(),I=s.data[o]=function Z_(s,o,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(_?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,u,c,h),function Ga(){return Rt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const _=function ho(){const s=Rt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return _i(g,!0),g}function to(s,o,u,c){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function G_(s,o,u){wl(o);try{const c=s.viewQuery;null!==c&&X_(1,c,u);const h=s.template;null!==h&&oc(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Wb(s,o),s.staticViewQueries&&X_(2,s.viewQuery,u);const g=s.components;null!==g&&function zp(s,o){for(let u=0;u<o.length;u++)PA(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,go()}}function Wp(s,o,u,c){const h=o[2];if(128!=(128&h)){wl(o);try{ni(o),function fo(s){return Rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&oc(s,o,u,2,c);const _=3==(3&h);if(_){const T=s.preOrderCheckHooks;null!==T&&mo(o,T,null)}else{const T=s.preOrderHooks;null!==T&&js(o,T,0,null),Yo(o,0)}if(function iI(s){for(let o=op(s);null!==o;o=w(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(512&h[2])&&pl(g,1),h[2]|=512}}}(o),function wh(s){for(let o=op(s);null!==o;o=w(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];Wo(c)&&Wp(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Wb(s,o),_){const T=s.contentCheckHooks;null!==T&&mo(o,T)}else{const T=s.contentHooks;null!==T&&js(o,T,1),Yo(o,1)}!function CA(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Bs(~h);else{const g=h,_=u[++c],b=u[++c];Gf(_,g),b(2,o[g])}}}finally{Bs(-1)}}(s,o);const b=s.components;null!==b&&function Zb(s,o){for(let u=0;u<o.length;u++)kA(s,o[u])}(o,b);const I=s.viewQuery;if(null!==I&&X_(2,I,c),_){const T=s.viewCheckHooks;null!==T&&mo(o,T)}else{const T=s.viewHooks;null!==T&&js(o,T,2),Yo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,pl(o[3],-1))}finally{go()}}}function oc(s,o,u,c,h){const g=Ln(),_=2&c;try{Bs(-1),_&&o.length>22&&Sb(s,o,22,!1),u(c,h)}finally{Bs(g)}}function z_(s,o,u){!co()||(function Xb(s,o,u,c){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Ja(u,o),dr(c,o);const _=u.initialInputs;for(let b=h;b<g;b++){const I=s.data[b],T=mi(I);T&&NA(o,u,I);const A=zs(o,s,b,u);dr(A,o),null!==_&&rI(0,b-h,A,I,0,_),T&&(ln(u.index,o)[8]=A)}}(s,o,u,ti(u,o)),128==(128&u.flags)&&function MA(s,o,u){const c=u.directiveStart,h=u.directiveEnd,g=u.index,_=function LE(){return Rt.lFrame.currentDirectiveIndex}();try{Bs(g);for(let b=c;b<h;b++){const I=s.data[b],T=o[b];_l(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Zp(I,T)}}finally{Bs(-1),_l(_)}}(s,o,u))}function q_(s,o,u=ti){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],b=-1===_?u(o,s):s[_];s[h++]=b}}}function Kb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=W_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function W_(s,o,u,c,h,g,_,b,I,T){const A=22+c,P=A+h,j=function DA(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Pt);return u}(A,P),Z="function"==typeof T?T():T;return j[1]={type:s,blueprint:j,template:u,queries:null,viewQuery:b,declTNode:o,data:j.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:Z,incompleteFirstPass:!1}}function Yb(s,o,u,c){const h=sI(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&oI(s).push(c,h.length-1))}function vh(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function xu(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,_=[];let b=null,I=null;for(let T=o.directiveStart;T<c;T++){const A=h[T],P=A.inputs,j=null===g||_a(o)?null:Jp(P,g);_.push(j),b=vh(P,T,b),I=vh(A.outputs,T,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=I}function Qb(s,o){const u=ln(o,s);16&u[2]||(u[2]|=32)}function K_(s,o,u,c){let h=!1;if(co()){const g=function eI(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];uh(u,_.selectors,!1)&&(h||(h=[]),Gs(Ja(u,o),s,_.type),mi(_)?(Kp(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===c?null:{"":-1};if(null!==g){h=!0,tI(u,s.data.length,g.length);for(let A=0;A<g.length;A++){const P=g[A];P.providersResolver&&P.providersResolver(P)}let b=!1,I=!1,T=to(s,o,g.length,null);for(let A=0;A<g.length;A++){const P=g[A];u.mergedAttrs=Za(u.mergedAttrs,P.hostAttrs),nI(s,u,o,T,P),RA(T,P,_),null!==P.contentQueries&&(u.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=128);const j=P.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),b=!0),!I&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),T++}xu(s,u)}_&&function Yp(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new Ee(-301,!1);c.push(o[h],g)}}}(u,c,_)}return u.mergedAttrs=Za(u.mergedAttrs,u.attrs),h}function Jb(s,o,u,c,h,g){const _=g.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function xA(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(b)!=I&&b.push(I),b.push(c,h,_)}}function Zp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Kp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function RA(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;mi(o)&&(u[""]=s)}}function tI(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function nI(s,o,u,c,h){s.data[c]=h;const g=h.factory||(h.factory=Vs(h.type)),_=new $s(g,mi(h),rc);s.blueprint[c]=_,u[c]=_,Jb(s,o,0,c,to(s,u,h.hostVars,Pt),h)}function NA(s,o,u){const c=ti(o,s),h=Kb(u),g=s[10],_=Xp(s,qp(s,h,null,u.onPush?32:16,c,o,g,g.createRenderer(c,u),null,null,null));s[o.index]=_}function Bi(s,o,u,c,h,g){const _=ti(s,o);!function Qp(s,o,u,c,h,g,_){if(null==g)s.removeAttribute(o,h,u);else{const b=null==_?ie(g):_(g,c||"",h);s.setAttribute(o,h,b,u)}}(o[11],_,g,s.value,u,c,h)}function rI(s,o,u,c,h,g){const _=g[o];if(null!==_){const b=c.setInput;for(let I=0;I<_.length;){const T=_[I++],A=_[I++],P=_[I++];null!==b?c.setInput(u,P,T,A):u[A]=P}}}function Jp(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function Q_(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function kA(s,o){const u=ln(o,s);if(Wo(u)){const c=u[1];48&u[2]?Wp(c,u,c.template,u[8]):u[5]>0&&J_(u)}}function J_(s){for(let c=op(s);null!==c;c=w(c))for(let h=10;h<c.length;h++){const g=c[h];if(Wo(g))if(512&g[2]){const _=g[1];Wp(_,g,_.template,g[8])}else g[5]>0&&J_(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=ln(u[c],s);Wo(h)&&h[5]>0&&J_(h)}}function PA(s,o){const u=ln(o,s),c=u[1];(function OA(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),G_(c,u,u[8])}function Xp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function uc(s){for(;s;){s[2]|=32;const o=Zs(s);if(Qc(s)&&!o)return s;s=o}return null}function eg(s,o,u,c=!0){const h=o[10];h.begin&&h.begin();try{Wp(s,o,s.template,u)}catch(_){throw c&&ev(o,_),_}finally{h.end&&h.end()}}function X_(s,o,u){vl(0),o(s,u)}function sI(s){return s[7]||(s[7]=[])}function oI(s){return s.cleanup||(s.cleanup=[])}function ev(s,o){const u=s[9],c=u?u.get(Jl,null):null;c&&c.handleError(o)}function tv(s,o,u,c,h){for(let g=0;g<u.length;){const _=u[g++],b=u[g++],I=o[_],T=s.data[_];null!==T.setInput?T.setInput(I,h,c,b):I[b]=h}}function no(s,o,u){const c=Ha(o,s);!function M(s,o,u){s.setValue(o,u)}(s[11],c,u)}function Eh(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?h=Oe(h,b):2==g&&(c=Oe(c,b+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function bh(s,o,u,c,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(dn(g)),$r(g))for(let b=10;b<g.length;b++){const I=g[b],T=I[1].firstChild;null!==T&&bh(I[1],I,T,c)}const _=u.type;if(8&_)bh(s,o,u.child,c);else if(32&_){const b=Wd(u,o);let I;for(;I=b();)c.push(I)}else if(16&_){const b=dp(o,u);if(Array.isArray(b))c.push(...b);else{const I=Zs(o[16]);bh(I[1],I,b,c,!0)}}u=h?u.projectionNext:u.next}return c}class lc{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return bh(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if($r(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(fa(o,c),rr(u,c))}this._attachedToViewContainer=!1}Do(this._lView[1],this._lView)}onDestroy(o){Yb(this._lView[1],this._lView,null,o)}markForCheck(){uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){eg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function at(s,o){eh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=o}}class uI extends lc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;eg(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class nv extends as{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=R(o);return new Ih(u,this.ngModule)}}function lI(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class LA{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){const h=this.injector.get(o,w_,c);return h!==w_||u===w_?h:this.parentInjector.get(o,u,c)}}class Ih extends __{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function Cb(s){return s.map(Rp).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return lI(this.componentDef.inputs)}get outputs(){return lI(this.componentDef.outputs)}create(o,u,c,h){let g=(h=h||this.ngModule)instanceof Ks?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new LA(o,g):o,b=_.get(yb,null);if(null===b)throw new Ee(407,!1);const I=_.get(ah,null),T=b.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=c?function RP(s,o,u){return s.selectRootElement(o,u===gt.ShadowDom)}(T,c,this.componentDef.encapsulation):ne(T,A,function FA(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),j=this.componentDef.onPush?288:272,Z=W_(0,null,null,1,0,null,null,null,null,null),le=qp(null,Z,null,j,null,null,b,T,I,_,null);let ke,Ve;wl(le);try{const nt=function cI(s,o,u,c,h,g){const _=u[1];u[22]=s;const I=sc(_,22,2,"#host",null),T=I.mergedAttrs=o.hostAttrs;null!==T&&(Eh(I,T,!0),null!==s&&(Wa(h,s,T),null!==I.classes&&i_(h,s,I.classes),null!==I.styles&&r_(h,s,I.styles)));const A=c.createRenderer(s,o),P=qp(u,Kb(o),null,o.onPush?32:16,u[22],I,c,A,g||null,null,null);return _.firstCreatePass&&(Gs(Ja(I,u),_,o.type),Kp(_,I),tI(I,u.length,1)),Xp(u,P),u[22]=P}(P,this.componentDef,le,b,T);if(P)if(c)Wa(T,P,["ng-version",Du.full]);else{const{attrs:mt,classes:ve}=function Db(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&u.push(g);else{if(!Vi(h))break;h=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);mt&&Wa(T,P,mt),ve&&ve.length>0&&i_(T,P,ve.join(" "))}if(Ve=sd(Z,22),void 0!==u){const mt=Ve.projection=[];for(let ve=0;ve<this.ngContentSelectors.length;ve++){const ct=u[ve];mt.push(null!=ct?Array.from(ct):null)}}ke=function OP(s,o,u,c){const h=u[1],g=function AA(s,o,u){const c=zn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),nI(s,c,o,to(s,o,1,null),u),xu(s,c));const h=zs(o,s,c.directiveStart,c);dr(h,o);const g=ti(c,o);return g&&dr(g,o),h}(h,u,o);if(s[8]=u[8]=g,null!==c)for(const b of c)b(g,o);if(o.contentQueries){const b=zn();o.contentQueries(1,g,b.directiveStart)}const _=zn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Bs(_.index),Jb(u[1],_,0,_.directiveStart,_.directiveEnd,o),Zp(o,g)),g}(nt,this.componentDef,le,[jA]),G_(Z,le,null)}finally{go()}return new rv(this.componentType,ke,Qs(Ve,le),le,Ve)}}class rv extends class Tp{}{constructor(o,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new uI(h),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const g=this._rootLView;tv(g[1],g,h,o,u),Qb(g,this._tNode.index)}}get injector(){return new tu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function jA(){const s=zn();qa(me()[1],s)}function iv(s){let o=function dI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(mi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ee(903,!1);h=o.\u0275dir}if(h){if(u){c.push(h);const _=s;_.inputs=cc(s.inputs),_.declaredInputs=cc(s.declaredInputs),_.outputs=cc(s.outputs);const b=h.hostBindings;b&&ov(s,b);const I=h.viewQuery,T=h.contentQueries;if(I&&hI(s,I),T&&sv(s,T),Te(s.inputs,h.inputs),Te(s.declaredInputs,h.declaredInputs),Te(s.outputs,h.outputs),mi(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(s),b===iv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function $A(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Za(h.hostAttrs,u=Za(u,h.hostAttrs))}}(c)}function cc(s){return s===Gn?{}:s===At?[]:s}function hI(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function sv(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,g)=>{o(c,h,g),u(c,h,g)}:o}function ov(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}let ng=null;function Mu(){if(!ng){const s=Wt.Symbol;if(s&&s.iterator)ng=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ng=c)}}}return ng}function Ch(s){return!!bn(s)&&(Array.isArray(s)||!(s instanceof Map)&&Mu()in s)}function bn(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Is(s,o,u){return s[o]=u}function Er(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Nu(s,o,u,c){const h=Er(s,o,u);return Er(s,o+1,c)||h}function pI(s,o,u,c){const h=me();return Er(h,po(),o)&&(Kt(),Bi(pn(),h,s,o,u,c)),pI}function Ea(s,o,u,c,h,g){const b=Nu(s,function vi(){return Rt.lFrame.bindingIndex}(),u,h);return ts(2),b?o+ie(u)+c+ie(h)+g:Pt}function ZA(s,o,u,c,h,g,_,b){const I=me(),T=Kt(),A=s+22,P=T.firstCreatePass?function sg(s,o,u,c,h,g,_,b,I){const T=o.consts,A=sc(o,s,4,_||null,es(T,b));K_(o,u,A,es(T,I)),qa(o,A);const P=A.tViews=W_(2,A,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),P.queries=o.queries.embeddedTView(A)),A}(A,T,I,o,u,c,h,g,_):T.data[A];_i(P,!1);const j=I[11].createComment("");cp(T,I,j,P),dr(j,I),Xp(I,I[A]=Q_(j,I,j,P)),Ba(P)&&z_(T,I,P),null!=_&&q_(I,P,b)}function cv(s,o,u){const c=me();return Er(c,po(),o)&&function Ui(s,o,u,c,h,g,_,b){const I=ti(o,u);let A,T=o.inputs;!b&&null!=T&&(A=T[c])?(tv(s,u,A,c,h),fs(o)&&Qb(u,o.index)):3&o.type&&(c=function TA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,g.setProperty(I,c,h))}(Kt(),pn(),c,s,o,c[11],u,!1),cv}function og(s,o,u,c,h){const _=h?"class":"style";tv(s,u,o.inputs[_],_,c)}function ag(s,o,u,c){const h=me(),g=Kt(),_=22+s,b=h[11],I=h[_]=ne(b,o,function El(){return Rt.lFrame.currentNamespace}()),T=g.firstCreatePass?function YA(s,o,u,c,h,g,_){const b=o.consts,T=sc(o,s,2,h,es(b,g));return K_(o,u,T,es(b,_)),null!==T.attrs&&Eh(T,T.attrs,!1),null!==T.mergedAttrs&&Eh(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,g,h,0,o,u,c):g.data[_];_i(T,!0);const A=T.mergedAttrs;null!==A&&Wa(b,I,A);const P=T.classes;null!==P&&i_(b,I,P);const j=T.styles;return null!==j&&r_(b,I,j),64!=(64&T.flags)&&cp(g,h,I,T),0===function Bf(){return Rt.lFrame.elementDepthCount}()&&dr(I,h),function jf(){Rt.lFrame.elementDepthCount++}(),Ba(T)&&(z_(g,h,T),function ac(s,o,u){if(Ua(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}(g,T,h)),null!==c&&q_(h,T),ag}function ug(){let s=zn();dd()?function yl(){Rt.lFrame.isParent=!1}():(s=s.parent,_i(s,!1));const o=s;!function ay(){Rt.lFrame.elementDepthCount--}();const u=Kt();return u.firstCreatePass&&(qa(u,s),Ua(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Il(s){return 0!=(16&s.flags)}(o)&&og(u,o,me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function qf(s){return 0!=(32&s.flags)}(o)&&og(u,o,me(),o.stylesWithoutHost,!1),ug}function dv(s,o,u,c){return ag(s,o,u,c),ug(),dv}function fv(){return me()}function Sh(s){return!!s&&"function"==typeof s.then}function wI(s){return!!s&&"function"==typeof s.subscribe}const cg=wI;function pv(s,o,u,c){const h=me(),g=Kt(),_=zn();return function gv(s,o,u,c,h,g,_,b){const I=Ba(c),A=s.firstCreatePass&&oI(s),P=o[8],j=sI(o);let Z=!0;if(3&c.type||b){const Ve=ti(c,o),nt=b?b(Ve):Ve,mt=j.length,ve=b?an=>b(dn(an[c.index])):c.index;let ct=null;if(!b&&I&&(ct=function XA(s,o,u,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===u&&h[g+1]===c){const b=o[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,c.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=g,ct.__ngLastListenerFn__=g,Z=!1;else{g=hc(c,o,P,g,!1);const an=u.listen(nt,h,g);j.push(g,an),A&&A.push(h,ve,mt,mt+1)}}else g=hc(c,o,P,g,!1);const le=c.outputs;let ke;if(Z&&null!==le&&(ke=le[h])){const Ve=ke.length;if(Ve)for(let nt=0;nt<Ve;nt+=2){const In=o[ke[nt]][ke[nt+1]].subscribe(g),Yu=j.length;j.push(g,In),A&&A.push(h,c.index,Yu,-(Yu+1))}}}(g,h,h[11],_,s,o,0,c),pv}function dg(s,o,u,c){try{return!1!==u(c)}catch(h){return ev(s,h),!1}}function hc(s,o,u,c,h){return function g(_){if(_===Function)return c;uc(2&s.flags?ln(s.index,o):o);let I=dg(o,0,c,_),T=g.__ngNextListenerFn__;for(;T;)I=dg(o,0,T,_)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function mv(s=1){return function za(s){return(Rt.lFrame.contextLView=function hy(s,o){for(;s>0;)o=o[15],s--;return o}(s,Rt.lFrame.contextLView))[8]}(s)}function hg(s,o,u,c,h){const g=s[u+1],_=null===o;let b=c?ws(g):eo(g),I=!1;for(;0!==b&&(!1===I||_);){const A=s[b+1];CI(s[b],o)&&(I=!0,s[b+1]=c?Es(A):N_(A)),b=c?ws(A):eo(A)}I&&(s[u+1]=c?N_(g):Es(g))}function CI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ei(s,o)>=0}function gg(s,o){return function Ts(s,o,u,c){const h=me(),g=Kt(),_=ts(2);g.firstUpdatePass&&function NI(s,o,u,c){const h=s.data;if(null===h[u+1]){const g=h[Ln()],_=function RI(s,o){return o>=s.expandoStartIndex}(s,u);(function OI(s,o){return 0!=(s.flags&(o?16:32))})(g,c)&&null===o&&!_&&(o=!1),o=function ux(s,o,u,c){const h=function fd(s){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Ou(u=mg(null,s,o,u,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=mg(h,s,o,u,c),null===g){let I=function No(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==eo(c))return s[ws(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=mg(null,s,o,I[1],c),I=Ou(I,o.attrs,c),function kI(s,o,u,c){s[ws(u?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else g=function Iv(s,o,u){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Ou(c,s[g].hostAttrs,u);return Ou(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,c),function tx(s,o,u,c,h,g){let _=g?o.classBindings:o.styleBindings,b=ws(_),I=eo(_);s[c]=u;let A,T=!1;if(Array.isArray(u)){const P=u;A=P[1],(null===A||Ei(P,A)>0)&&(T=!0)}else A=u;if(h)if(0!==I){const j=ws(s[b+1]);s[c+1]=Fp(j,b),0!==j&&(s[j+1]=mh(s[j+1],c)),s[b+1]=function Ub(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=Fp(b,0),0!==b&&(s[b+1]=mh(s[b+1],c)),b=c;else s[c+1]=Fp(I,0),0===b?b=c:s[I+1]=mh(s[I+1],c),I=c;T&&(s[c+1]=N_(s[c+1])),hg(s,A,c,!0),hg(s,A,c,!1),function II(s,o,u,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ei(g,o)>=0&&(u[c+1]=Es(u[c+1]))}(o,A,s,c,g),_=Fp(b,I),g?o.classBindings=_:o.styleBindings=_}(h,g,o,u,_,c)}}(g,s,_,c),o!==Pt&&Er(h,_,o)&&function yg(s,o,u,c,h,g,_,b){if(!(3&o.type))return;const I=s.data,T=I[b+1];vg(function Lp(s){return 1==(1&s)}(T)?_g(I,o,u,h,eo(T),_):void 0)||(vg(g)||function Vb(s){return 2==(2&s)}(T)&&(g=_g(I,null,u,h,b,_)),function US(s,o,u,c,h){if(o)h?s.addClass(u,c):s.removeClass(u,c);else{let g=-1===c.indexOf("-")?void 0:ir.DashCase;null==h?s.removeStyle(u,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=ir.Important),s.setStyle(u,c,h,g))}}(c,_,Ha(Ln(),u),h,g))}(g,g.data[Ln()],h,h[11],s,h[_+1]=function lx(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=De(To(s)))),s}(o,u),c,_)}(s,o,null,!0),gg}function mg(s,o,u,c,h){let g=null;const _=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<_&&(g=o[b],c=Ou(c,g.hostAttrs,h),g!==s);)b++;return null!==s&&(u.directiveStylingLast=b),c}function Ou(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),wi(s,_,!!u||o[++g]))}return void 0===s?null:s}function _g(s,o,u,c,h,g){const _=null===o;let b;for(;h>0;){const I=s[h],T=Array.isArray(I),A=T?I[1]:I,P=null===A;let j=u[h+1];j===Pt&&(j=P?At:void 0);let Z=P?xl(j,c):A===c?j:void 0;if(T&&!vg(Z)&&(Z=xl(I,c)),vg(Z)&&(b=Z,_))return b;const le=s[h+1];h=_?ws(le):eo(le)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(b=xl(I,c))}return b}function vg(s){return void 0!==s}function wg(s,o=""){const u=me(),c=Kt(),h=s+22,g=c.firstCreatePass?sc(c,h,1,o,null):c.data[h],_=u[h]=function S(s,o){return s.createText(o)}(u[11],o);cp(c,u,_,g),_i(g,!1)}function Eg(s){return bg("",s,""),Eg}function bg(s,o,u){const c=me(),h=function dc(s,o,u,c){return Er(s,po(),u)?o+ie(u)+c:Pt}(c,s,o,u);return h!==Pt&&no(c,Ln(),h),bg}function Tv(s,o,u,c,h){const g=me(),_=Ea(g,s,o,u,c,h);return _!==Pt&&no(g,Ln(),_),Tv}const ko=void 0;var Lv=["en",[["a","p"],["AM","PM"],ko],[["AM","PM"],ko,ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ko,"{1} 'at' {0}",ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function px(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Ia={};function Mh(s){const o=function yx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Ag(o);if(u)return u;const c=o.split("-")[0];if(u=Ag(c),u)return u;if("en"===c)return Lv;throw new Ee(701,!1)}function ZI(s){return Mh(s)[Et.PluralCase]}function Ag(s){return s in Ia||(Ia[s]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[s]),Ia[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const fc="en-US";let YI=fc;function Vg(s,o,u,c,h){if(s=K(s),Array.isArray(s))for(let g=0;g<s.length;g++)Vg(s[g],o,u,c,h);else{const g=Kt(),_=me();let b=ga(s)?s:K(s.provide),I=Cp(s);const T=zn(),A=1048575&T.providerIndexes,P=T.directiveStart,j=T.providerIndexes>>20;if(ga(s)||!s.multi){const Z=new $s(I,h,rc),le=Ug(b,o,h?A:A+j,P);-1===le?(Gs(Ja(T,_),g,b),Zv(g,s,o.length),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(Z),_.push(Z)):(u[le]=Z,_[le]=Z)}else{const Z=Ug(b,o,A+j,P),le=Ug(b,o,A,A+j),ke=Z>=0&&u[Z],Ve=le>=0&&u[le];if(h&&!Ve||!h&&!ke){Gs(Ja(T,_),g,b);const nt=function tM(s,o,u,c,h){const g=new $s(s,u,rc);return g.multi=[],g.index=o,g.componentProviders=0,pC(g,h,c&&!u),g}(h?gC:eM,u.length,h,c,I);!h&&Ve&&(u[le].providerFactory=nt),Zv(g,s,o.length,0),o.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(nt),_.push(nt)}else Zv(g,s,Z>-1?Z:le,pC(u[h?le:Z],I,!h&&c));!h&&c&&Ve&&u[le].componentProviders++}}}function Zv(s,o,u,c){const h=ga(o),g=function sh(s){return!!s.useClass}(o);if(h||g){const I=(g?K(o.useClass):o).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const A=T.indexOf(u);-1===A?T.push(u,[c,I]):T[A+1].push(c,I)}else T.push(u,I)}}}function pC(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Ug(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function eM(s,o,u,c){return Kv(this.multi,[])}function gC(s,o,u,c){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=zs(u,u[1],this.providerFactory.index,c);g=b.slice(0,_),Kv(h,g);for(let I=_;I<b.length;I++)g.push(b[I])}else g=[],Kv(h,g);return g}function Kv(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function mC(s,o=[]){return u=>{u.providersResolver=(c,h)=>function Wv(s,o,u){const c=Kt();if(c.firstCreatePass){const h=mi(s);Vg(u,c.data,c.blueprint,h,!0),Vg(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Oh{}class ju{}function Po(s,o){return new Bg(s,o??null)}class Bg extends Oh{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nv(this);const c=je(o);this._bootstrapComponents=Xs(c.bootstrap),this._r3Injector=kp(o,u,[{provide:Oh,useValue:this},{provide:as,useValue:this.componentFactoryResolver}],De(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Yv extends ju{constructor(o){super(),this.moduleType=o}create(o){return new Bg(this.moduleType,o)}}class yC extends Oh{constructor(o,u,c){super(),this.componentFactoryResolver=new nv(this),this.instance=null;const h=new Yl([...o,{provide:Oh,useValue:this},{provide:as,useValue:this.componentFactoryResolver}],u||Ip(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Qv(s,o,u=null){return new yC(s,o,u).injector}let Jv=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=fb(0,u.type),h=c.length>0?Qv([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ke({token:s,providedIn:"environment",factory:()=>new s(Vn(Ks))}),s})();function _C(s){s.getStandaloneInjector=o=>o.get(Jv).getOrCreateStandaloneInjector(s)}function Gg(s,o,u,c){return SC(me(),qn(),s,o,u,c)}function zg(s,o,u,c,h){return qg(me(),qn(),s,o,u,c,h)}function $u(s,o){const u=s[o];return u===Pt?void 0:u}function SC(s,o,u,c,h,g){const _=o+u;return Er(s,_,h)?Is(s,_+1,g?c.call(g,h):c(h)):$u(s,_+1)}function qg(s,o,u,c,h,g,_){const b=o+u;return Nu(s,b,h,g)?Is(s,b+2,_?c.call(_,h,g):c(h,g)):$u(s,b+2)}function Zg(s,o){const u=Kt();let c;const h=s+22;u.firstCreatePass?(c=function oM(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const g=c.factory||(c.factory=Vs(c.type)),_=Dn(rc);try{const b=rs(!1),I=g();return rs(b),function vI(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,me(),h,I),I}finally{Dn(_)}}function xC(s,o,u){const c=s+22,h=me(),g=Xi(h,c);return Fh(h,c)?SC(h,qn(),o,g.transform,u,g):g.transform(u)}function MC(s,o,u,c){const h=s+22,g=me(),_=Xi(g,h);return Fh(g,h)?qg(g,qn(),o,_.transform,u,c,_):_.transform(u,c)}function Fh(s,o){return s[1].data[o].pure}function c0(s){return o=>{setTimeout(s,void 0,o)}}const xs=class l0 extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let h=o,g=u||(()=>null),_=c;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(g=c0(g),h&&(h=c0(h)),_&&(_=c0(_)));const b=super.subscribe({next:h,error:g,complete:_});return o instanceof B.w0&&o.add(b),b}};function d0(){return this._results[Mu()]()}class h0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Mu(),c=h0.prototype;c[u]||(c[u]=d0)}get changes(){return this._changes||(this._changes=new xs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=nr(o);(this._changesDetected=!function na(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hu=(()=>{class s{}return s.__NG_ELEMENT_ID__=NC,s})();const cM=Hu,f0=class extends cM{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tViews,h=qp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),G_(c,h,o),new lc(h)}};function NC(){return mc(zn(),me())}function mc(s,o){return 4&s.type?new f0(o,s,Qs(s,o)):null}let Kg=(()=>{class s{}return s.__NG_ELEMENT_ID__=p0,s})();function p0(){return g0(zn(),me())}const dM=Kg,kC=class extends dM{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new tu(this._hostTNode,this._hostLView)}get parentInjector(){const o=Dl(this._hostTNode,this._hostLView);if(_y(o)){const u=Ya(o,this._hostLView),c=Ka(o);return new tu(u[1].data[c+8],u)}return new tu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Yg(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const _=o.createEmbeddedView(u||{},g);return this.insert(_,h),_}createComponent(o,u,c,h,g){const _=o&&!function ou(s){return"function"==typeof s}(o);let b;if(_)b=u;else{const P=u||{};b=P.index,c=P.injector,h=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const I=_?o:new Ih(R(o)),T=c||this.parentInjector;if(!g&&null==I.ngModule){const j=(_?T:this.parentInjector).get(Ks,null);j&&(g=j)}const A=I.create(T,h,void 0,g);return this.insert(A.hostView,b),A}insert(o,u){const c=o._lView,h=c[1];if(function ad(s){return $r(s[3])}(c)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const P=c[3],j=new kC(P,P[6],P[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;!function Hr(s,o,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=o),c<g-10?(o[4]=u[h],xd(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function Gr(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,c,_,g);const b=hp(g,_),I=c[11],T=up(I,_[7]);return null!==T&&function Ge(s,o,u,c,h,g){c[0]=h,c[6]=o,eh(s,c,u,1,h,g)}(h,_[6],I,c,T,b),o.attachToViewContainerRef(),xd(Qg(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Yg(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=fa(this._lContainer,u);c&&(rr(Qg(this._lContainer),u),Do(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=fa(this._lContainer,u);return c&&null!=rr(Qg(this._lContainer),u)?new lc(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function Yg(s){return s[8]}function Qg(s){return s[8]||(s[8]=[])}function g0(s,o){let u;const c=o[s.index];if($r(c))u=c;else{let h;if(8&s.type)h=dn(c);else{const g=o[11];h=g.createComment("");const _=ti(s,o);Li(g,up(g,_),h,function ZE(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=u=Q_(c,o,h,s),Xp(o,u)}return new kC(u,s,o)}class Jg{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const _=u.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Lh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==UC(o,u).matches&&this.queries[u].setDirty()}}class PC{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Vh{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new Vh(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class m0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new m0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,u,qP(u,g)),this.matchTNodeWithReadOption(o,u,Td(u,o,g,!1,!1))}else c===Hu?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Td(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Cu||h===Kg||h===Hu&&4&u.type)this.addMatch(u.index,-2);else{const g=Td(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function qP(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function y0(s,o,u,c){return-1===u?function WP(s,o){return 11&s.type?Qs(s,o):4&s.type?mc(s,o):null}(o,s):-2===u?function ZP(s,o,u){return u===Cu?Qs(o,s):u===Hu?mc(o,s):u===Kg?g0(o,s):void 0}(s,o,c):zs(s,s[1],u,o)}function pM(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,_=u.matches,b=[];for(let I=0;I<_.length;I+=2){const T=_[I];b.push(T<0?null:y0(o,g[T],_[I+1],u.metadata.read))}h.matches=b}return h.matches}function yc(s,o,u,c){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const _=pM(s,o,h,u);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)c.push(_[b/2]);else{const T=g[b+1],A=o[-I];for(let P=10;P<A.length;P++){const j=A[P];j[17]===j[3]&&yc(j[1],j,T,c)}if(null!==A[9]){const P=A[9];for(let j=0;j<P.length;j++){const Z=P[j];yc(Z[1],Z,T,c)}}}}}return c}function OC(s){const o=me(),u=Kt(),c=pd();vl(c+1);const h=UC(u,c);if(s.dirty&&function od(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?yc(u,o,c,[]):pM(u,o,h,c);s.reset(g,mb),s.notifyOnChanges()}return!0}return!1}function FC(s,o,u,c){const h=Kt();if(h.firstCreatePass){const g=zn();(function VC(s,o,u){null===s.queries&&(s.queries=new Vh),s.queries.track(new m0(o,u))})(h,new PC(o,u,c),g.index),function si(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function pr(s,o,u){const c=new h0(4==(4&u));Yb(s,o,c,c.destroy),null===o[19]&&(o[19]=new Lh),o[19].queries.push(new Jg(c))}(h,me(),u)}function LC(){return function _0(s,o){return s[19].queries[o].queryList}(me(),pd())}function UC(s,o){return s.queries.getByIndex(o)}function R0(...s){}const im=new cn("Application Initializer");let N0=(()=>{class s{constructor(u){this.appInits=u,this.resolve=R0,this.reject=R0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Sh(g))u.push(g);else if(cg(g)){const _=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Vn(im,8))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const TM=new cn("AppId",{providedIn:"root",factory:function SM(){return`${k0()}${k0()}${k0()}`}});function k0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AM=new cn("Platform Initializer"),eD=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),P0=new cn("appBootstrapListener"),xM=new cn("AnimationModuleType");let MM=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const O0=new cn("LocaleId",{providedIn:"root",factory:()=>Yf(O0,et.Optional|et.SkipSelf)||function RM(){return typeof $localize<"u"&&$localize.locale||fc}()}),Gu=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class L0{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let V0=(()=>{class s{compileModuleSync(u){return new Yv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=Xs(je(u).declarations).reduce((_,b)=>{const I=R(b);return I&&_.push(new Ih(I)),_},[]);return new L0(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const j0=(()=>Promise.resolve(0))();function Gh(s){typeof Zone>"u"?j0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Hi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xs(!1),this.onMicrotaskEmpty=new xs(!1),this.onStable=new xs(!1),this.onError=new xs(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wc(){let s=Wt.requestAnimationFrame,o=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PM(s){const o=()=>{!function qu(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Wt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Oo(s),s.isCheckStableRunning=!0,zu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Oo(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,_,b)=>{try{return $0(s),u.invokeTask(h,g,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),OM(s)}},onInvoke:(u,c,h,g,_,b,I)=>{try{return $0(s),u.invoke(h,g,_,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),OM(s)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Oo(s),zu(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new Ee(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,kM,R0,R0);try{return g.runTask(_,u,c)}finally{g.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const kM={};function zu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Oo(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function OM(s){s._nesting--,zu(s)}class ai{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xs,this.onMicrotaskEmpty=new xs,this.onStable=new xs,this.onError=new xs}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}const rD=new cn(""),iD=new cn("");let am,Ec=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,am||(function sD(s){am=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),Gh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Vn(Hi),Vn(zr),Vn(iD))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac}),s})(),zr=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return am?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Fo=null;const oD=new cn("AllowMultipleToken"),H0=new cn("PlatformDestroyListeners");class z0{constructor(o,u){this.name=o,this.token=u}}function uD(s,o,u=[]){const c=`Platform: ${o}`,h=new cn(c);return(g=[])=>{let _=W0();if(!_||_.injector.get(oD,!1)){const b=[...u,...g,{provide:h,useValue:!0}];s?s(b):function FM(s){if(Fo&&!Fo.get(oD,!1))throw new Ee(400,!1);Fo=s;const o=s.get(cD);(function aD(s){const o=s.get(AM,null);o&&o.forEach(u=>u())})(s)}(function q0(s=[],o){return ec.create({name:o,providers:[{provide:m_,useValue:"platform"},{provide:H0,useValue:new Set([()=>Fo=null])},...s]})}(b,c))}return function lD(s){const o=W0();if(!o)throw new Ee(401,!1);return o}()}}function W0(){return Fo?.get(cD)??null}let cD=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function dD(s,o){let u;return u="noop"===s?new ai:("zone.js"===s?void 0:s)||new Hi(o),u}(c?.ngZone,function Z0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Hi,useValue:h}];return h.run(()=>{const _=ec.create({providers:g,parent:this.injector,name:u.moduleType.name}),b=u.create(_),I=b.injector.get(Jl,null);if(!I)throw new Ee(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:A=>{I.handleError(A)}});b.onDestroy(()=>{zh(this._modules,b),T.unsubscribe()})}),function hD(s,o,u){try{const c=u();return Sh(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(I,h,()=>{const T=b.injector.get(N0);return T.runInitializers(),T.donePromise.then(()=>(function Mg(s){Re(s,"Expected localeId to be defined"),"string"==typeof s&&(YI=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(O0,fc)||fc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(u,c=[]){const h=fD({},c);return function xn(s,o,u){const c=new Yv(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(Vo);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Ee(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(H0,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Vn(ec))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function fD(s,o){return Array.isArray(o)?o.reduce(fD,s):{...s,...o}}let Vo=(()=>{class s{constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new O.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),Gh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(g,_.pipe((0,we.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof __;if(!this._injector.get(N0).done)throw!h&&ue(u),new Ee(405,false);let _;_=h?u:this._injector.get(as).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const b=function G0(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Oh),T=_.create(ec.NULL,[],c||_.selector,b),A=T.location.nativeElement,P=T.injector.get(rD,null);return P?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),zh(this.components,T),P?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;zh(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(P0,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>zh(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ee(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Vn(Hi),Vn(Ks),Vn(Jl))},s.\u0275prov=Ke({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function zh(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let bc=!0,kr=!1;function VM(){return kr=!0,bc}function UM(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");bc=!1}let BM=(()=>{class s{}return s.__NG_ELEMENT_ID__=um,s})();function um(s){return function gD(s,o,u){if(fs(s)&&!u){const c=ln(s.index,o);return new lc(c,c)}return 47&s.type?new lc(o[16],o):null}(zn(),me(),16==(16&s))}class ew{constructor(){}supports(o){return Ch(o)}create(o){return new zM(o)}}const ID=(s,o)=>o;class zM{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ID}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const _=!c||u&&u.currentIndex<dm(c,h,g)?u:c,b=dm(_,h,g),I=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{g||(g=[]);const T=b-h,A=I-h;if(T!=A){for(let j=0;j<T;j++){const Z=j<g.length?g[j]:g[j]=0,le=Z+j;A<=le&&le<T&&(g[j]=Z+1)}g[_.previousIndex]=A-T}}b!==I&&o(_,b,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Ch(o))throw new Ee(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,g,_,b)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,b),c=!0),u=u._next}else h=0,function fI(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Mu()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,b=>{_=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,b,_,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new qM(u,c),g,h),o}_verifyReinsertion(o,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ns),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ns),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class qM{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WM{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Ns{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new WM,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dm(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class CD{constructor(){}supports(o){return o instanceof Map||bn(o)}create(){return new ZM}}class ZM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||bn(o)))throw new Ee(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const c=new DD(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class DD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TD(){return new Pr([new ew])}let Pr=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||TD()),deps:[[s,new vo,new _o]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Ee(901,!1)}}return s.\u0275prov=Ke({token:s,providedIn:"root",factory:TD}),s})();function SD(){return new Ku([new CD])}let Ku=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||SD()),deps:[[s,new vo,new _o]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Ee(901,!1)}}return s.\u0275prov=Ke({token:s,providedIn:"root",factory:SD}),s})();const nw=uD(null,"core",[]);let AD=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Vn(Vo))},s.\u0275mod=jr({type:s}),s.\u0275inj=Lt({}),s})();function xD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(yt,Me,L)=>{L.d(Me,{Z:()=>Ee});var d=L(2090),B=L(4859),O=L(6881),se=L(1877);class we{constructor(ie,he){this._delegate=ie,this.firebase=he,(0,O._addComponent)(ie,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ie,he=O._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(ie);return!_t.isInitialized()&&"EXPLICIT"===(null===(it=_t.getComponent())||void 0===it?void 0:it.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:he})}_removeServiceInstance(ie,he=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(he)}_addComponent(ie){(0,O._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,O._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Oe(){const Qe=function De(Qe){const ie={},he={__esModule:!0,initializeApp:function be(He,X={}){const qe=O.initializeApp(He,X);if((0,d.r3)(ie,qe.name))return ie[qe.name];const bt=new Qe(qe,he);return ie[qe.name]=bt,bt},app:_t,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ge(He){const X=He.name,qe=X.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const bt=(rt=_t())=>{if("function"!=typeof rt[qe])throw Te.create("invalid-app-argument",{appName:X});return rt[qe]()};void 0!==He.serviceProps&&(0,d.ZB)(bt,He.serviceProps),he[qe]=bt,Qe.prototype[qe]=function(...rt){return this._getService.bind(this,X).apply(this,He.multipleInstances?rt:[])}}return"PUBLIC"===He.type?he[qe]:null},removeApp:function it(He){delete ie[He]},useAsService:function Be(He,X){return"serverAuth"===X?null:X},modularAPIs:O}};function _t(He){if(!(0,d.r3)(ie,He=He||O._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:He});return ie[He]}return he.default=he,Object.defineProperty(he,"apps",{get:function de(){return Object.keys(ie).map(He=>ie[He])}}),_t.App=Qe,he}(we);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function ie(he){(0,d.ZB)(Qe,he)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Qe}(),$=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=H;!function Ne(Qe){(0,O.registerVersion)("@firebase/app-compat","0.2.10",Qe)}()},6881:(yt,Me,L)=>{L.r(Me),L.d(Me,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Yi,_DEFAULT_ENTRY_NAME:()=>pi,_addComponent:()=>lt,_addOrOverwriteComponent:()=>gt,_apps:()=>gn,_clearComponents:()=>Gn,_components:()=>qt,_getProvider:()=>Br,_registerComponent:()=>Wt,_removeServiceInstance:()=>cr,deleteApp:()=>Jn,getApp:()=>vr,getApps:()=>fn,initializeApp:()=>Yt,onLog:()=>Xn,registerVersion:()=>gi,setLogLevel:()=>Qi});var d=L(5861),B=L(4859),O=L(1877),se=L(2090);let ye,Te;const H=new WeakMap,$=new WeakMap,K=new WeakMap,Ue=new WeakMap,Ne=new WeakMap;let ie={get(ee,Y,Se){if(ee instanceof IDBTransaction){if("done"===Y)return $.get(ee);if("objectStoreNames"===Y)return ee.objectStoreNames||K.get(ee);if("store"===Y)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return be(ee[Y])},set:(ee,Y,Se)=>(ee[Y]=Se,!0),has:(ee,Y)=>ee instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in ee};function _t(ee){return"function"==typeof ee?function it(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...Y){return ee.apply(de(this),Y),be(H.get(this))}:function(...Y){return be(ee.apply(de(this),Y))}:function(Y,...Se){const Ae=ee.call(de(this),Y,...Se);return K.set(Ae,Y.sort?Y.sort():[Y]),be(Ae)}}(ee):(ee instanceof IDBTransaction&&function Qe(ee){if($.has(ee))return;const Y=new Promise((Se,Ae)=>{const wt=()=>{ee.removeEventListener("complete",Nt),ee.removeEventListener("error",rn),ee.removeEventListener("abort",rn)},Nt=()=>{Se(),wt()},rn=()=>{Ae(ee.error||new DOMException("AbortError","AbortError")),wt()};ee.addEventListener("complete",Nt),ee.addEventListener("error",rn),ee.addEventListener("abort",rn)});$.set(ee,Y)}(ee),((ee,Y)=>Y.some(Se=>ee instanceof Se))(ee,function De(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,ie):ee)}function be(ee){if(ee instanceof IDBRequest)return function Ee(ee){const Y=new Promise((Se,Ae)=>{const wt=()=>{ee.removeEventListener("success",Nt),ee.removeEventListener("error",rn)},Nt=()=>{Se(be(ee.result)),wt()},rn=()=>{Ae(ee.error),wt()};ee.addEventListener("success",Nt),ee.addEventListener("error",rn)});return Y.then(Se=>{Se instanceof IDBCursor&&H.set(Se,ee)}).catch(()=>{}),Ne.set(Y,ee),Y}(ee);if(Ue.has(ee))return Ue.get(ee);const Y=_t(ee);return Y!==ee&&(Ue.set(ee,Y),Ne.set(Y,ee)),Y}const de=ee=>Ne.get(ee),He=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],qe=new Map;function bt(ee,Y){if(!(ee instanceof IDBDatabase)||Y in ee||"string"!=typeof Y)return;if(qe.get(Y))return qe.get(Y);const Se=Y.replace(/FromIndex$/,""),Ae=Y!==Se,wt=X.includes(Se);if(!(Se in(Ae?IDBIndex:IDBObjectStore).prototype)||!wt&&!He.includes(Se))return;const Nt=function(){var rn=(0,d.Z)(function*(wn,...Bt){const Cr=this.transaction(wn,wt?"readwrite":"readonly");let ki=Cr.store;return Ae&&(ki=ki.index(Bt.shift())),(yield Promise.all([ki[Se](...Bt),wt&&Cr.done]))[0]});return function(Bt){return rn.apply(this,arguments)}}();return qe.set(Y,Nt),Nt}!function he(ee){ie=ee(ie)}(ee=>({...ee,get:(Y,Se,Ae)=>bt(Y,Se)||ee.get(Y,Se,Ae),has:(Y,Se)=>!!bt(Y,Se)||ee.has(Y,Se)}));class rt{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function $t(ee){return"VERSION"===ee.getComponent()?.type}(Se)){const Ae=Se.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(Se=>Se).join(" ")}}const st="@firebase/app",ae=new O.Yd("@firebase/app"),pi="[DEFAULT]",_n={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,qt=new Map;function lt(ee,Y){try{ee.container.addComponent(Y)}catch(Se){ae.debug(`Component ${Y.name} failed to register with FirebaseApp ${ee.name}`,Se)}}function gt(ee,Y){ee.container.addOrOverwriteComponent(Y)}function Wt(ee){const Y=ee.name;if(qt.has(Y))return ae.debug(`There were multiple attempts to register component ${Y}.`),!1;qt.set(Y,ee);for(const Se of gn.values())lt(Se,ee);return!0}function Br(ee,Y){const Se=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),ee.container.getProvider(Y)}function cr(ee,Y,Se=pi){Br(ee,Y).clearInstance(Se)}function Gn(){qt.clear()}const On=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vt{constructor(Y,Se,Ae){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Yi="9.22.0";function Yt(ee,Y={}){let Se=ee;"object"!=typeof Y&&(Y={name:Y});const Ae=Object.assign({name:pi,automaticDataCollectionEnabled:!1},Y),wt=Ae.name;if("string"!=typeof wt||!wt)throw On.create("bad-app-name",{appName:String(wt)});if(Se||(Se=(0,se.aH)()),!Se)throw On.create("no-options");const Nt=gn.get(wt);if(Nt){if((0,se.vZ)(Se,Nt.options)&&(0,se.vZ)(Ae,Nt.config))return Nt;throw On.create("duplicate-app",{appName:wt})}const rn=new B.H0(wt);for(const Bt of qt.values())rn.addComponent(Bt);const wn=new Vt(Se,Ae,rn);return gn.set(wt,wn),wn}function vr(ee=pi){const Y=gn.get(ee);if(!Y&&ee===pi&&(0,se.aH)())return Yt();if(!Y)throw On.create("no-app",{appName:ee});return Y}function fn(){return Array.from(gn.values())}function Jn(ee){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(ee){const Y=ee.name;gn.has(Y)&&(gn.delete(Y),yield Promise.all(ee.container.getProviders().map(Se=>Se.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function gi(ee,Y,Se){var Ae;let wt=null!==(Ae=_n[ee])&&void 0!==Ae?Ae:ee;Se&&(wt+=`-${Se}`);const Nt=wt.match(/\s|\//),rn=Y.match(/\s|\//);if(Nt||rn){const wn=[`Unable to register library "${wt}" with version "${Y}":`];return Nt&&wn.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),Nt&&rn&&wn.push("and"),rn&&wn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void ae.warn(wn.join(" "))}Wt(new B.wA(`${wt}-version`,()=>({library:wt,version:Y}),"VERSION"))}function Xn(ee,Y){if(null!==ee&&"function"!=typeof ee)throw On.create("invalid-log-argument");(0,O.Am)(ee,Y)}function Qi(ee){(0,O.Ub)(ee)}const U="firebase-heartbeat-store";let V=null;function N(){return V||(V=function ge(ee,Y,{blocked:Se,upgrade:Ae,blocking:wt,terminated:Nt}={}){const rn=indexedDB.open(ee,Y),wn=be(rn);return Ae&&rn.addEventListener("upgradeneeded",Bt=>{Ae(be(rn.result),Bt.oldVersion,Bt.newVersion,be(rn.transaction),Bt)}),Se&&rn.addEventListener("blocked",Bt=>Se(Bt.oldVersion,Bt.newVersion,Bt)),wn.then(Bt=>{Nt&&Bt.addEventListener("close",()=>Nt()),wt&&Bt.addEventListener("versionchange",Cr=>wt(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),wn}("firebase-heartbeat-database",1,{upgrade:(ee,Y)=>{0===Y&&ee.createObjectStore(U)}}).catch(ee=>{throw On.create("idb-open",{originalErrorMessage:ee.message})})),V}function x(){return(x=(0,d.Z)(function*(ee){try{return yield(yield N()).transaction(U).objectStore(U).get(je(ee))}catch(Y){if(Y instanceof se.ZR)ae.warn(Y.message);else{const Se=On.create("idb-get",{originalErrorMessage:Y?.message});ae.warn(Se.message)}}})).apply(this,arguments)}function q(ee,Y){return ue.apply(this,arguments)}function ue(){return(ue=(0,d.Z)(function*(ee,Y){try{const Ae=(yield N()).transaction(U,"readwrite");yield Ae.objectStore(U).put(Y,je(ee)),yield Ae.done}catch(Se){if(Se instanceof se.ZR)ae.warn(Se.message);else{const Ae=On.create("idb-set",{originalErrorMessage:Se?.message});ae.warn(Ae.message)}}})).apply(this,arguments)}function je(ee){return`${ee.name}!${ee.options.appId}`}class We{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new Tt(Se),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Y=this;return(0,d.Z)(function*(){const Ae=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Je();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==wt&&!Y._heartbeatsCache.heartbeats.some(Nt=>Nt.date===wt))return Y._heartbeatsCache.heartbeats.push({date:wt,agent:Ae}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Nt=>{const rn=new Date(Nt.date).valueOf();return Date.now()-rn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,d.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Se=Je(),{heartbeatsToSend:Ae,unsentEntries:wt}=function Zt(ee,Y=1024){const Se=[];let Ae=ee.slice();for(const wt of ee){const Nt=Se.find(rn=>rn.agent===wt.agent);if(Nt){if(Nt.dates.push(wt.date),Xt(Se)>Y){Nt.dates.pop();break}}else if(Se.push({agent:wt.agent,dates:[wt.date]}),Xt(Se)>Y){Se.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Ae}}(Y._heartbeatsCache.heartbeats),Nt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ae}));return Y._heartbeatsCache.lastSentHeartbeatDate=Se,wt.length>0?(Y._heartbeatsCache.heartbeats=wt,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Nt})()}}function Je(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,d.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function R(ee){return x.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Se=this;return(0,d.Z)(function*(){var Ae;if(yield Se._canUseIndexedDBPromise){const Nt=yield Se.read();return q(Se.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Nt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Se=this;return(0,d.Z)(function*(){var Ae;if(yield Se._canUseIndexedDBPromise){const Nt=yield Se.read();return q(Se.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Y.heartbeats]})}})()}}function Xt(ee){return(0,se.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function ei(ee){Wt(new B.wA("platform-logger",Y=>new rt(Y),"PRIVATE")),Wt(new B.wA("heartbeat",Y=>new We(Y),"PRIVATE")),gi(st,"0.9.10",ee),gi(st,"0.9.10","esm2017"),gi("fire-js","")}("")},4859:(yt,Me,L)=>{L.d(Me,{H0:()=>De,wA:()=>O});var d=L(5861),B=L(2090);class O{constructor(H,$,K){this.name=H,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class we{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const K=new B.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const K=this.normalizeInstanceIdentifier(H?.identifier),Ue=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ne){if(Ue)return null;throw Ne}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(Ne)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,d.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,K=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Ne,Ee]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ne)&&Ee.resolve(Ue);return Ue}onInit(H,$){var K;const Ue=this.normalizeInstanceIdentifier($),Ne=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;Ne.add(H),this.onInitCallbacks.set(Ue,Ne);const Ee=this.instances.get(Ue);return Ee&&H(Ee,Ue),()=>{Ne.delete(H)}}invokeOnInitCallbacks(H,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let K=this.instances.get(H);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=H,Oe===se?void 0:Oe),options:$}),this.instances.set(H,K),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(K,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,K)}catch{}var Oe;return K||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new we(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Me,L)=>{L.d(Me,{Am:()=>Oe,Ub:()=>De,Yd:()=>Te,in:()=>B});const d=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},se=B.INFO,we={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ye=(H,$,...K)=>{if($<H.logLevel)return;const Ue=(new Date).toISOString(),Ne=we[$];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ne](`[${Ue}]  ${H.name}:`,...K)};class Te{constructor($){this.name=$,this._logLevel=se,this._logHandler=ye,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function De(H){d.forEach($=>{$.setLogLevel(H)})}function Oe(H,$){for(const K of d){let Ue=null;$&&$.level&&(Ue=O[$.level]),K.userLogHandler=null===H?null:(Ne,Ee,...Qe)=>{const ie=Qe.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");Ee>=(Ue??Ne.logLevel)&&H({level:B[Ee].toLowerCase(),message:ie,args:Qe,type:Ne.name})}}}},9260:(yt,Me,L)=>{L.d(Me,{Z:()=>d.Z});var d=L(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(yt,Me,L)=>{L.r(Me);var d=L(5861),B=L(3942),O=L(1389),se=L(2090),Te=(L(6881),L(1877),L(4859));function De(){return window}function $(){return($=(0,d.Z)(function*(N,R,x){var q;const{BuildInfo:ue}=De();(0,O.as)(R.sessionId,"AuthEvent did not contain a session ID");const je=yield he(R.sessionId),ot={};return(0,O.at)()?ot.ibi=ue.packageName:(0,O.au)()?ot.apn=ue.packageName:(0,O.av)(N,"operation-not-supported-in-this-environment"),ue.displayName&&(ot.appDisplayName=ue.displayName),ot.sessionId=je,(0,O.aw)(N,x,R.type,void 0,null!==(q=R.eventId)&&void 0!==q?q:void 0,ot)})).apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(N){const{BuildInfo:R}=De(),x={};(0,O.at)()?x.iosBundleId=R.packageName:(0,O.au)()?x.androidPackageName=R.packageName:(0,O.av)(N,"operation-not-supported-in-this-environment"),yield(0,O.ax)(N,x)})).apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(N,R,x){const{cordova:q}=De();let ue=()=>{};try{yield new Promise((je,ot)=>{let ce=null;function We(){var Tt;je();const Xt=null===(Tt=q.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof Xt&&Xt(),"function"==typeof x?.close&&x.close()}function Je(){ce||(ce=window.setTimeout(()=>{ot((0,O.az)(N,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===document?.visibilityState&&Je()}R.addPassiveListener(We),document.addEventListener("resume",Je,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Zt,!1),ue=()=>{R.removePassiveListener(We),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",Zt,!1),ce&&window.clearTimeout(ce)}})}finally{ue()}})).apply(this,arguments)}function he(N){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(N){const R=_t(N),x=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(x)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _t(N){if((0,O.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const R=new ArrayBuffer(N.length),x=new Uint8Array(R);for(let q=0;q<N.length;q++)x[q]=N.charCodeAt(q);return x}class de extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(R)),super.onEvent(R)}initialized(){var R=this;return(0,d.Z)(function*(){yield R.initPromise})()}}function He(N){return X.apply(this,arguments)}function X(){return(X=(0,d.Z)(function*(N){const R=yield rt()._get($t(N));return R&&(yield rt()._remove($t(N))),R})).apply(this,arguments)}function bt(){const N=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<20;x++){const q=Math.floor(Math.random()*R.length);N.push(R.charAt(q))}return N.join("")}function rt(){return(0,O.aC)(O.b)}function $t(N){return(0,O.aD)("authEvent",N.config.apiKey,N.name)}function ae(N){if(!N?.includes("?"))return{};const[R,...x]=N.split("?");return(0,se.zd)(x.join("?"))}function fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function zt(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function kt(N=(0,se.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vr(){try{const N=self.localStorage,R=O.aL();if(N)return N.setItem(R,"1"),N.removeItem(R),!function Qn(N=(0,se.z$)()){return function Pn(){return(0,se.w1)()&&11===document?.documentMode}()||function Lr(N=(0,se.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,se.hl)()}catch{return Ur()&&(0,se.hl)()}return!1}function Ur(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ri(){return(function Lt(){return"http:"===zt()||"https:"===zt()}()||(0,se.ru)()||kt())&&!function Yn(){return(0,se.b$)()||(0,se.UG)()}()&&Vr()&&!Ur()}function Ki(){return kt()&&typeof document<"u"}function et(){return(et=(0,d.Z)(function*(){return!!Ki()&&new Promise(N=>{const R=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),N(!0)})})})).apply(this,arguments)}const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},Dn=O.aA,Ni="persistence";function _n(N){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(N){yield N._initializationPromise;const R=lt(),x=O.aD(Ni,N.config.apiKey,N.name);R&&R.setItem(x,N._getPersistence())})).apply(this,arguments)}function lt(){var N;try{return(null===(N=function _r(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const gt=O.aA;class Wt{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(class Ce{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(R){var x=this;return(0,d.Z)(function*(){const q=R._key();let ue=x.eventManagers.get(q);return ue||(ue=new de(R),x.eventManagers.set(q,ue),x.attachCallbackListeners(R,ue)),ue})()}_openPopup(R){(0,O.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,x,q,ue){var je=this;return(0,d.Z)(function*(){!function ie(N){var R,x,q,ue,je,ot,ce,We,Je,Zt;const Tt=De();(0,O.aA)("function"==typeof(null===(R=Tt?.universalLinks)||void 0===R?void 0:R.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(x=Tt?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(je=null===(ue=null===(q=Tt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===je?void 0:je.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(We=null===(ce=null===(ot=Tt?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===We?void 0:We.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Zt=null===(Je=Tt?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===Zt?void 0:Zt.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ot=yield je._initialize(R);yield ot.initialized(),ot.resetRedirect(),(0,O.aG)(),yield je._originValidation(R);const ce=function ge(N,R,x=null){return{type:R,eventId:x,urlResponse:null,sessionId:bt(),postBody:null,tenantId:N.tenantId,error:(0,O.az)(N,"no-auth-event")}}(R,q,ue);yield function Be(N,R){return rt()._set($t(N),R)}(R,ce);const We=yield function H(N,R,x){return $.apply(this,arguments)}(R,ce,x),Je=yield function Ne(N){const{cordova:R}=De();return new Promise(x=>{R.plugins.browsertab.isAvailable(q=>{let ue=null;q?R.plugins.browsertab.openUrl(N):ue=R.InAppBrowser.open(N,(0,O.ay)()?"_blank":"_system","location=yes"),x(ue)})})}(We);return function Ee(N,R,x){return Qe.apply(this,arguments)}(R,ot,Je)})()}_isIframeWebStorageSupported(R,x){throw new Error("Method not implemented.")}_originValidation(R){const x=R._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function K(N){return Ue.apply(this,arguments)}(R)),this.originValidationPromises[x]}attachCallbackListeners(R,x){const{universalLinks:q,handleOpenURL:ue,BuildInfo:je}=De(),ot=setTimeout((0,d.Z)(function*(){yield He(R),x.onEvent(fe())}),500),ce=function(){var Zt=(0,d.Z)(function*(Tt){clearTimeout(ot);const Xt=yield He(R);let ei=null;Xt&&Tt?.url&&(ei=function qe(N,R){var x,q;const ue=function oe(N){const R=ae(N),x=R.link?decodeURIComponent(R.link):void 0,q=ae(x).link,ue=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return ae(ue).link||ue||q||x||N}(R);if(ue.includes("/__/auth/callback")){const je=ae(ue),ot=je.firebaseError?function st(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(je.firebaseError)):null,ce=null===(q=null===(x=ot?.code)||void 0===x?void 0:x.split("auth/"))||void 0===q?void 0:q[1],We=ce?(0,O.az)(ce):null;return We?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ue,postBody:null}}return null}(Xt,Tt.url)),x.onEvent(ei||fe())});return function(Xt){return Zt.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,ce);const We=ue,Je=`${je.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var Zt=(0,d.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(Je)&&ce({url:Tt}),"function"==typeof We)try{We(Tt)}catch(Xt){console.error(Xt)}});return function(Tt){return Zt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(R){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,x,q,ue){var je=this;return(0,d.Z)(function*(){return yield je.selectUnderlyingResolver(),je.assertedUnderlyingResolver._openPopup(R,x,q,ue)})()}_openRedirect(R,x,q,ue){var je=this;return(0,d.Z)(function*(){return yield je.selectUnderlyingResolver(),je.assertedUnderlyingResolver._openRedirect(R,x,q,ue)})()}_isIframeWebStorageSupported(R,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,x)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Ki()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,d.Z)(function*(){if(R.underlyingResolver)return;const x=yield function zo(){return et.apply(this,arguments)}();R.underlyingResolver=x?R.cordovaResolver:R.browserResolver})()}}function Br(N){return N.unwrap()}function Gn(N){return On(N)}function On(N){const{_tokenResponse:R}=N instanceof se.ZR?N.customData:N;if(!R)return null;if(!(N instanceof se.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return O.P.credentialFromResult(N);const x=R.providerId;if(!x||x===O.p.PASSWORD)return null;let q;switch(x){case O.p.GOOGLE:q=O.V;break;case O.p.FACEBOOK:q=O.U;break;case O.p.GITHUB:q=O.W;break;case O.p.TWITTER:q=O.Z;break;default:const{oauthIdToken:ue,oauthAccessToken:je,oauthTokenSecret:ot,pendingToken:ce,nonce:We}=R;return je||ot||ue||ce?ce?x.startsWith("saml.")?O.aO._create(x,ce):O.L._fromParams({providerId:x,signInMethod:x,pendingToken:ce,idToken:ue,accessToken:je}):new O.X(x).credential({idToken:ue,accessToken:je,rawNonce:We}):null}return N instanceof se.ZR?q.credentialFromError(N):q.credentialFromResult(N)}function Vt(N,R){return R.catch(x=>{throw x instanceof se.ZR&&function At(N,R){var x;const q=null===(x=R.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new vr(N,O.aq(N,R));else if(q){const ue=On(R),je=R;ue&&(je.credential=ue,je.tenantId=q.tenantId||void 0,je.email=q.email||void 0,je.phoneNumber=q.phoneNumber||void 0)}}(N,x),x}).then(x=>{const ue=x.user;return{operationType:x.operationType,credential:Gn(x),additionalUserInfo:O.ao(x),user:fn.getOrCreate(ue)}})}function Yi(N,R){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(N,R){const x=yield R;return{verificationId:x.verificationId,confirm:q=>Vt(N,x.confirm(q))}})).apply(this,arguments)}class vr{constructor(R,x){this.resolver=x,this.auth=function cr(N){return N.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Vt(Br(this.auth),this.resolver.resolveSignIn(R))}}class fn{constructor(R){this._delegate=R,this.multiFactor=O.ar(R)}static getOrCreate(R){return fn.USER_MAP.has(R)||fn.USER_MAP.set(R,new fn(R)),fn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var x=this;return(0,d.Z)(function*(){return Vt(x.auth,O.a0(x._delegate,R))})()}linkWithPhoneNumber(R,x){var q=this;return(0,d.Z)(function*(){return Yi(q.auth,O.l(q._delegate,R,x))})()}linkWithPopup(R){var x=this;return(0,d.Z)(function*(){return Vt(x.auth,O.d(x._delegate,R,Wt))})()}linkWithRedirect(R){var x=this;return(0,d.Z)(function*(){return yield _n(O.aH(x.auth)),O.g(x._delegate,R,Wt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var x=this;return(0,d.Z)(function*(){return Vt(x.auth,O.a1(x._delegate,R))})()}reauthenticateWithPhoneNumber(R,x){return Yi(this.auth,O.r(this._delegate,R,x))}reauthenticateWithPopup(R){return Vt(this.auth,O.e(this._delegate,R,Wt))}reauthenticateWithRedirect(R){var x=this;return(0,d.Z)(function*(){return yield _n(O.aH(x.auth)),O.h(x._delegate,R,Wt)})()}sendEmailVerification(R){return O.ae(this._delegate,R)}unlink(R){var x=this;return(0,d.Z)(function*(){return yield O.an(x._delegate,R),x})()}updateEmail(R){return O.aj(this._delegate,R)}updatePassword(R){return O.ak(this._delegate,R)}updatePhoneNumber(R){return O.u(this._delegate,R)}updateProfile(R){return O.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,x){return O.af(this._delegate,R,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fn.USER_MAP=new WeakMap;const Jn=O.aA;let Tn=(()=>{class N{constructor(x,q){if(this.app=x,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=x.options;Jn(ue,"invalid-api-key",{appName:x.name}),Jn(ue,"invalid-api-key",{appName:x.name});const je=typeof window<"u"?Wt:void 0;this._delegate=q.initialize({options:{persistence:Xn(ue,x.name),popupRedirectResolver:je}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,q){O.I(this._delegate,x,q)}applyActionCode(x){return O.a5(this._delegate,x)}checkActionCode(x){return O.a6(this._delegate,x)}confirmPasswordReset(x,q){return O.a4(this._delegate,x,q)}createUserWithEmailAndPassword(x,q){var ue=this;return(0,d.Z)(function*(){return Vt(ue._delegate,O.a8(ue._delegate,x,q))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return O.ad(this._delegate,x)}isSignInWithEmailLink(x){return O.ab(this._delegate,x)}getRedirectResult(){var x=this;return(0,d.Z)(function*(){Jn(Ri(),x._delegate,"operation-not-supported-in-this-environment");const q=yield O.j(x._delegate,Wt);return q?Vt(x._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function vt(N,R){(0,O.aH)(N)._logFramework(R)}(this._delegate,x)}onAuthStateChanged(x,q,ue){const{next:je,error:ot,complete:ce}=gi(x,q,ue);return this._delegate.onAuthStateChanged(je,ot,ce)}onIdTokenChanged(x,q,ue){const{next:je,error:ot,complete:ce}=gi(x,q,ue);return this._delegate.onIdTokenChanged(je,ot,ce)}sendSignInLinkToEmail(x,q){return O.aa(this._delegate,x,q)}sendPasswordResetEmail(x,q){return O.a3(this._delegate,x,q||void 0)}setPersistence(x){var q=this;return(0,d.Z)(function*(){let ue;switch(function pi(N,R){Dn(Object.values(Hn).includes(R),N,"invalid-persistence-type"),(0,se.b$)()?Dn(R!==Hn.SESSION,N,"unsupported-persistence-type"):(0,se.UG)()?Dn(R===Hn.NONE,N,"unsupported-persistence-type"):Ur()?Dn(R===Hn.NONE||R===Hn.LOCAL&&(0,se.hl)(),N,"unsupported-persistence-type"):Dn(R===Hn.NONE||Vr(),N,"unsupported-persistence-type")}(q._delegate,x),x){case Hn.SESSION:ue=O.a;break;case Hn.LOCAL:ue=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Hn.NONE:ue=O.N;break;default:return O.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Vt(this._delegate,O._(this._delegate))}signInWithCredential(x){return Vt(this._delegate,O.$(this._delegate,x))}signInWithCustomToken(x){return Vt(this._delegate,O.a2(this._delegate,x))}signInWithEmailAndPassword(x,q){return Vt(this._delegate,O.a9(this._delegate,x,q))}signInWithEmailLink(x,q){return Vt(this._delegate,O.ac(this._delegate,x,q))}signInWithPhoneNumber(x,q){return Yi(this._delegate,O.s(this._delegate,x,q))}signInWithPopup(x){var q=this;return(0,d.Z)(function*(){return Jn(Ri(),q._delegate,"operation-not-supported-in-this-environment"),Vt(q._delegate,O.c(q._delegate,x,Wt))})()}signInWithRedirect(x){var q=this;return(0,d.Z)(function*(){return Jn(Ri(),q._delegate,"operation-not-supported-in-this-environment"),yield _n(q._delegate),O.f(q._delegate,x,Wt)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return O.a7(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Hn,N})();function gi(N,R,x){let q=N;"function"!=typeof N&&({next:q,error:R,complete:x}=N);const ue=q;return{next:ot=>ue(ot&&fn.getOrCreate(ot)),error:R,complete:x}}function Xn(N,R){const x=function qt(N,R){const x=lt();if(!x)return[];const q=O.aD(Ni,N,R);switch(x.getItem(q)){case Hn.NONE:return[O.N];case Hn.LOCAL:return[O.i,O.a];case Hn.SESSION:return[O.a];default:return[]}}(N,R);if(typeof self<"u"&&!x.includes(O.i)&&x.push(O.i),typeof window<"u")for(const q of[O.b,O.a])x.includes(q)||x.push(q);return x.includes(O.N)||x.push(O.N),x}class Qi{constructor(){this.providerId="phone",this._delegate=new O.P(Br(B.Z.auth()))}static credential(R,x){return O.P.credential(R,x)}verifyPhoneNumber(R,x){return this._delegate.verifyPhoneNumber(R,x)}unwrap(){return this._delegate}}Qi.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Qi.PROVIDER_ID=O.P.PROVIDER_ID;const jr=O.aA;class Xr{constructor(R,x,q=B.Z.app()){var ue;jr(null===(ue=q.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new O.R(R,x,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function V(N){N.INTERNAL.registerComponent(new Te.wA("auth-compat",R=>{const x=R.getProvider("app-compat").getImmediate(),q=R.getProvider("auth");return new Tn(x,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:Qi,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Xr,TwitterAuthProvider:O.Z,Auth:Tn,AuthCredential:O.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(yt,Me,L)=>{function d(O,se,we,ye,Te,De,Oe){try{var H=O[De](Oe),$=H.value}catch(K){return void we(K)}H.done?se($):Promise.resolve($).then(ye,Te)}function B(O){return function(){var se=this,we=arguments;return new Promise(function(ye,Te){var De=O.apply(se,we);function Oe($){d(De,ye,Te,Oe,H,"next",$)}function H($){d(De,ye,Te,Oe,H,"throw",$)}Oe(void 0)})}}L.d(Me,{Z:()=>B})}},yt=>{yt(yt.s=2361)}]);